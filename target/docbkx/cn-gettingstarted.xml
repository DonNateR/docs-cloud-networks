<?xml version="1.0" encoding="utf-8"?>
<?rax-warinfo networks-v2-cn-gettingstarted?>
<book xmlns="http://docbook.org/ns/docbook"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xmlns:xi="http://www.w3.org/2001/XInclude"
      xmlns:svg="http://www.w3.org/2000/svg"
      xmlns:m="http://www.w3.org/1998/Math/MathML"
      xmlns:html="http://www.w3.org/1999/xhtml"
      xmlns:db="http://docbook.org/ns/docbook"
      version="5.0"
      xml:id="cn-gettingstarted"
      xml:base="file:/Users/cath6136/Box%20Documents/DocumentsMacDropAny/GithubDocs/docs-cloud-networks/src/docbkx/cn-gettingstarted.xml">
    <title>Cloud Networks™ Getting Started</title>
    <?rax title.font.size="37px" pdf.url="../../cn-gettingstarted.pdf" canonical.url.base="http://docs.rackspace.com/servers/api/v2/cn-gettingstarted/content"?>
    <titleabbrev>Cloud Networks™ Getting Started</titleabbrev>
    <info>
        <author>
            <personname>
                <firstname/>
                <surname/>
            </personname>
            <affiliation>
                <orgname>Rackspace Cloud</orgname>
            </affiliation>
        </author>
        <copyright>
            <year>2012</year>
            <year>2013</year>
            <holder>Rackspace US, Inc.</holder>
        </copyright>
        <releaseinfo>OpenStack Networking API v2</releaseinfo>
        <productname>Cloud Networks™</productname>
        <pubdate>2014-05-30</pubdate>
        <legalnotice role="rs-api">
            <annotation>
                <para>
                    
                </para>
            </annotation>
        </legalnotice>
        <abstract>
            <para>This document is for software developers who develop applications by using Rackspace Cloud Networks™, which
                is powered by the OpenStack Networking code base. In addition to the core features of the OpenStack
                Networking Application Programming Interface (API) v2, Rackspace has also deployed certain extensions as
                permitted by the OpenStack Networking API contract.</para>
        </abstract>
        <revhistory>
            <revision>
                <date>2014-03-14</date>
                <revdescription>
                    <para>Reorganized doc and added neutron api calls</para>
                </revdescription>
            </revision>
            <revision>
                <date>2014-02-17</date>
                <revdescription>
                    <para>Removed nova install from git instructions.</para>
                </revdescription>
            </revision>
            <revision>
                <date>2014-02-13</date>
                <revdescription>
                    <para>Removed supernova install instructions and added supernova link to resources section.</para>
                </revdescription>
            </revision>
            <revision>
                <date>2013-12-4</date>
                <revdescription>
                    <para>Updated the name for Managed Cloud Service Level</para>
                </revdescription>
            </revision>
            <revision>
                <date>2013-11-04</date>
                <revdescription>
                    <para>Published Performance server information, previously limited access. </para>
                </revdescription>
            </revision>
            <revision>
                <date>2013-10-31</date>
                <revdescription>
                    <para>Fixed the link for requesting Cloud Networks access to
                        <link xlink:href="http://www.iwantcloudnetworks.com/">http://www.iwantcloudnetworks.com/</link>.</para>
                </revdescription>
            </revision>
            <revision>
                <date>2013-09-26</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>updated examples for d2to1 in install and update nova client section.</para>
                        </listitem>
                        <!--FIXME-->
                        <listitem>
                            <para>removed v4-fixed-ip from <!--<xref linkend="nova_provision_server"/>--></para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <!--FIXME-->
            <revision>
                <date>2013-08-28</date>
                <revdescription>
                    <para>Removed references to bandwidth since the RAX extension is no longer implemented. It causes an
                        unsustainable load on Nova. See <!--<xref linkend="list_servers"/>-->.</para>
                </revdescription>
            </revision>
            <revision>
                <date>2013-06-26</date>
                <revdescription>
                    <para>Added Server Key Pairs nova commands.</para>
                </revdescription>
            </revision>
            <revision>
                <date>2013-06-24</date>
                <revdescription>
                    <para>Added important note that user may choose any endpoint regardless of account origin.</para>
                </revdescription>
            </revision>
            <revision>
                <date>2013-06-20</date>
                <revdescription>
                    <para>Updated link to supernova git repository</para>
                </revdescription>
            </revision>
            <revision>
                <date>2013-06-18</date>
                <revdescription>
                    <para>Removed optional parameters from nova_summary. </para>
                </revdescription>
            </revision>
            <revision>
                <!--FIXME-->
                <date>2013-06-17</date>
                <revdescription>
                    <para>Removed optional parameters, such as hint, block_device_mapping, availability_zone, and
                        security_groups, from <!--<xref linkend="create_server_with_network"/>-->. </para>
                </revdescription>
            </revision>
            <revision>
                <date>2013-05-23</date>
                <revdescription>
                    <para>Updated "control panel" to "Control Panel."</para>
                </revdescription>
            </revision>
            <revision>
                <date>2013-05-13</date>
                <revdescription>
                    <para>Added the Cloud Networks virtual interface extension, which enables you to create virtual interfaces for, list virtual interfaces
                        for, and delete virtual interfaces from existing server instances.</para>
                </revdescription>
            </revision>
            <revision>
                <date>2013-03-26</date>
                <revdescription>
                    <para>Updated to add the list servers call, which lists servers and their attached networks.</para>
                </revdescription>
            </revision>
            <revision>
                <!--FIXME-->
                <date>2013-02-07</date>
                <revdescription>
                    <para>Corrected the JSON request to add missing slashes in <!--<xref linkend="curl_create_network"/>-->.</para>
                </revdescription>
            </revision>
            <revision>
                <date>2013-01-08</date>
                <revdescription>
                    <para>Updated the authentication section with additional information about the token
                        environment variable used in the cURL examples.</para>
                </revdescription>
            </revision>
            <revision>
                <date>2012-12-14</date>
                <revdescription>
                    <para>Added a link for the json.tool:
                        <link xlink:href="http://docs.python.org/2/library/json.html">json — JSON encoder and decoder</link>.
                    </para>
                </revdescription>
            </revision>
            <revision>
                <!-- ... continue addding more revisions here as you change this document using the markup shown below... -->
                <date>2012-12-04</date>
                <revdescription>
                    <para>Corrected the <literal>NOVA_RACK_AUTH</literal> environment variable to
                            <literal>NOVA_RAX_AUTH</literal>.</para>
                </revdescription>
            </revision>
            <revision>
                <date>2012-11-14</date>
                <revdescription>
                    <para>Updated formatting in PDF.</para>
                </revdescription>
            </revision>
            <revision>
                <date>2012-11-07</date>
                <revdescription>
                    <para>Updated formatting of nova client and cURL examples.</para>
                </revdescription>
            </revision>
            <revision>
                <date>2012-11-01</date>
                <revdescription>
                    <para>Fixed formatting problems in code examples.</para>
                </revdescription>
            </revision>
            <revision>
                <date>2012-10-31</date>
                <revdescription>
                    <itemizedlist>
                        <listitem>
                            <para>Fixed the link for requesting Cloud Networks access to
                                <link xlink:href="http://www.iwantcloudnetworks.com/">http://www.iwantcloudnetworks.com/</link>.
                            </para>
                        </listitem>
                        <listitem>
                            <para>Corrected an error in list_networks.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2012-10-30</date>
                <revdescription>
                    <itemizedlist>
                        <listitem>
                            <para>Cloud Networks phased-release launch.</para>
                        </listitem>
                        <listitem>
                            <para>First edition of this guide.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>

        </revhistory>
        <raxm:metadata xmlns:raxm="http://docs.rackspace.com/api/metadata">
            <raxm:displayname>Getting Started Guide</raxm:displayname>
            <raxm:product version="v2">networks</raxm:product>
            <raxm:priority>50</raxm:priority>
        </raxm:metadata>
    </info>
    <chapter version="5.0"
            xml:id="ch_preface"
            xml:base="chapters/net_preface.xml">
      <title>Preface</title>
      <para>Rackspace Cloud Networks enables you to create isolated networks and provision <glossterm>server</glossterm>
        instances with Rackspace networks or the isolated networks that you created. </para>
      <para>When you create an isolated network, it is associated with your tenant ID.</para>

      <para>Cloud Networks was originally released using the Cloud Servers the nova-network API (see 
        <phrase condition="gs">
            <link xlink:href="http://docs.rackspace.com/networks/api/v2/cn-devguide/content/api_operations_nova.html">
                API operations - nova-network</link>
            in the <citetitle>Cloud Networks Developer Guide</citetitle>
         </phrase>). Now Cloud Networks has been released
        using the neutron API (see 
        <phrase condition="gs">
            <link xlink:href="http://docs.rackspace.com/networks/api/v2/cn-devguide/content/api_operations_neutron.html">
                API operations - neutron</link>
            in the <citetitle>Cloud Networks Developer Guide</citetitle>
         </phrase>). The nova-network API operations still
        work, but we recommend using the neutron API operations. For information that helps you determine which method is
        better for you, see 
        <xref linkend="section_nova_v_neutron"/>.</para>
      <para>To request access to Cloud Networks now, click
        <link xlink:href="http://www.iwantcloudnetworks.com/">"I want Cloud Networks"</link>.</para>
      <para>To detect if you are enabled to use Cloud Networks, issue a <command>GET</command> 
         <command>/limits</command> call or a
            <command>nova absolute-limits</command> call and review the <literal>maxTotalPrivateNetworks</literal> value:
            <table xml:id="maxTotalPrivateNetworks" rules="all">
            <caption>maxTotalPrivateNetworks Value</caption>
            <col width="20%"/>
            <col width="80%"/>
            <thead>
                <tr>
                    <th>maxTotalPrivateNetworks Value</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>0</td>
                    <td>
                        <para>Cloud Networks is disabled.</para>
                    </td>
                </tr>
                <tr>
                    <td>Greater than 0</td>
                    <td>
                        <para>Cloud Networks is enabled. The value indicates the number of isolated networks that you are
                            allowed to create.</para>
                    </td>
                </tr>
            </tbody>
        </table>
      </para>
      <para>For more information about querying limits, see
        <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-devguide/content/ProgrammaticLimits.html">Get Limits</link>
        in the <citetitle>Cloud Servers Developer Guide</citetitle>.</para>
      <para>We welcome feedback, comments, and bug reports. Login to the Rackspace customer portal at
        <link xlink:href="http://www.rackspace.com/support/">http://www.rackspace.com/support/</link>.</para>

      <section xml:id="Intended_Audience-d1e85">
        <title>Intended audience</title>
        <para>This guide assists software developers who want to develop applications by using Cloud Servers and Cloud
            Networks. </para>
        <para>To use this information, you should have access to an active Rackspace Cloud Servers account and access to
            Cloud Networks. You should also be familiar with the following concepts: </para>
        <itemizedlist spacing="compact">
            <listitem>
                <para>Cloud Servers service</para>
            </listitem>
            <listitem>
                <para>
                  <glossterm>RESTful</glossterm> web services</para>
            </listitem>
            <listitem>
                <para>
                  <glossterm>HTTP</glossterm>/1.1</para>
            </listitem>
            <listitem>
                <para>JSON or XML data serialization formats</para>
            </listitem>
        </itemizedlist>
      </section>

      <section version="5.0" xml:id="Pricing_SLA">
        <title>Pricing and service level</title>
        <para>Next generation Cloud Networks is part of the Rackspace Cloud and your use through the API is billed according
            to the pricing schedule for Cloud Servers at
            <link xlink:href="http://www.rackspace.com/cloud/servers/pricing/">http://www.rackspace.com/cloud/servers/pricing/</link>.</para>
        <para>The Service Level Agreement (SLA) for Cloud Networks, as part of Cloud Servers, is available at
            <link xlink:href="http://www.rackspace.com/cloud/servers/service-levels/">http://www.rackspace.com/cloud/servers/service-levels/</link>.</para>
      </section>

      <section xml:id="Document_Change_History">
        <title>Document change history</title>
        <para> This version of the guide applies only to v3.0 of the API. The most recent changes are described in the
            following table: </para>
        <informaltable rules="all">
            <col width="20%"/>
            <col width="80%"/>
            <thead>
               <tr>
                  <td align="center">Revision Date</td>
                  <td align="center">Summary of Changes</td>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td valign="top">
                     <para>March 14, 2014</para>
                  </td>
                  <td>
                     <para>Reorganized doc and added neutron api calls</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>February 17, 2014</para>
                  </td>
                  <td>
                     <para>Removed nova install from git instructions.</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>February 13, 2014</para>
                  </td>
                  <td>
                     <para>Removed supernova install instructions and added supernova link to resources section.</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>December 4, 2013</para>
                  </td>
                  <td>
                     <para>Updated the name for Managed Cloud Service Level</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>November 4, 2013</para>
                  </td>
                  <td>
                     <para>Published Performance server information, previously limited access. </para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>October 31, 2013</para>
                  </td>
                  <td>
                     <para>Fixed the link for requesting Cloud Networks access to
                        <link xlink:href="http://www.iwantcloudnetworks.com/">http://www.iwantcloudnetworks.com/</link>.</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>September 26, 2013</para>
                  </td>
                  <td>
                     <itemizedlist spacing="compact">
                        <listitem>
                            <para>updated examples for d2to1 in install and update nova client section.</para>
                        </listitem>
                        <!--FIXME-->
                        <listitem>
                            <para>removed v4-fixed-ip from <!--<xref linkend="nova_provision_server"/>--></para>
                        </listitem>
                    </itemizedlist>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>August 28, 2013</para>
                  </td>
                  <td>
                     <para>Removed references to bandwidth since the RAX extension is no longer implemented. It causes an
                        unsustainable load on Nova. See <!--<xref linkend="list_servers"/>-->.</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>June 26, 2013</para>
                  </td>
                  <td>
                     <para>Added Server Key Pairs nova commands.</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>June 24, 2013</para>
                  </td>
                  <td>
                     <para>Added important note that user may choose any endpoint regardless of account origin.</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>June 20, 2013</para>
                  </td>
                  <td>
                     <para>Updated link to supernova git repository</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>June 18, 2013</para>
                  </td>
                  <td>
                     <para>Removed optional parameters from nova_summary. </para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>June 17, 2013</para>
                  </td>
                  <td>
                     <para>Removed optional parameters, such as hint, block_device_mapping, availability_zone, and
                        security_groups, from <!--<xref linkend="create_server_with_network"/>-->. </para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>May 23, 2013</para>
                  </td>
                  <td>
                     <para>Updated "control panel" to "Control Panel."</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>May 13, 2013</para>
                  </td>
                  <td>
                     <para>Added the Cloud Networks virtual interface extension, which enables you to create virtual interfaces for, list virtual interfaces
                        for, and delete virtual interfaces from existing server instances.</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>March 26, 2013</para>
                  </td>
                  <td>
                     <para>Updated to add the list servers call, which lists servers and their attached networks.</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>February 7, 2013</para>
                  </td>
                  <td>
                     <para>Corrected the JSON request to add missing slashes in <!--<xref linkend="curl_create_network"/>-->.</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>January 8, 2013</para>
                  </td>
                  <td>
                     <para>Updated the authentication section with additional information about the token
                        environment variable used in the cURL examples.</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>December 14, 2012</para>
                  </td>
                  <td>
                     <para>Added a link for the json.tool:
                        <link xlink:href="http://docs.python.org/2/library/json.html">json — JSON encoder and decoder</link>.
                    </para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>December 4, 2012</para>
                  </td>
                  <td>
                     <para>Corrected the <literal>NOVA_RACK_AUTH</literal> environment variable to
                            <literal>NOVA_RAX_AUTH</literal>.</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>November 14, 2012</para>
                  </td>
                  <td>
                     <para>Updated formatting in PDF.</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>November 7, 2012</para>
                  </td>
                  <td>
                     <para>Updated formatting of nova client and cURL examples.</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>November 1, 2012</para>
                  </td>
                  <td>
                     <para>Fixed formatting problems in code examples.</para>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>October 31, 2012</para>
                  </td>
                  <td>
                     <itemizedlist>
                        <listitem>
                            <para>Fixed the link for requesting Cloud Networks access to
                                <link xlink:href="http://www.iwantcloudnetworks.com/">http://www.iwantcloudnetworks.com/</link>.
                            </para>
                        </listitem>
                        <listitem>
                            <para>Corrected an error in list_networks.</para>
                        </listitem>
                    </itemizedlist>
                  </td>
               </tr>
               <tr>
                  <td valign="top">
                     <para>October 30, 2012</para>
                  </td>
                  <td>
                     <itemizedlist>
                        <listitem>
                            <para>Cloud Networks phased-release launch.</para>
                        </listitem>
                        <listitem>
                            <para>First edition of this guide.</para>
                        </listitem>
                    </itemizedlist>
                  </td>
               </tr>
            </tbody>
         </informaltable>
      </section>

      <section xml:id="Additional_Resources">
        <title>Resources</title>
        <para>
            <informaltable rules="all">
                <col width="33%"/>
                <col width="33%"/>
                <col width="33%"/>
                <thead>
                    <tr>
                        <th>Next generation Cloud Servers v2</th>
                        <th>Cloud Networks v2</th>
                        <th>Identity v2</th>
                    </tr>
                </thead>
                <tbody valign="top">
                    <tr>
                        <td>
                            <para>
                                <itemizedlist>
                                    <listitem>
                                        <para>
                                    <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-releasenotes/content/index.html">
                                            <citetitle>Next Generation Cloud Servers Release Notes</citetitle>
                                    </link>
                                 </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                    <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-gettingstarted/content/index.html">
                                            <citetitle>Next Generation Cloud Servers Getting Started</citetitle>
                                    </link>
                                 </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                    <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-devguide/content/index.html">
                                            <citetitle>Next Generation Cloud Servers Developer Guide</citetitle>
                                    </link>
                                 </para>
                                    </listitem>
                                </itemizedlist>
                            </para>
                        </td>
                        <td>
                            <para>
                                <itemizedlist role="compact">
                                    <listitem>
                                        <para>
                                    <link xlink:href="http://docs.rackspace.com/servers/api/v2/cn-releasenotes/content/index.html">
                                            <citetitle>Cloud Networks Release Notes</citetitle>
                                    </link>
                                 </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                    <link xlink:href="http://docs.rackspace.com/servers/api/v2/cn-gettingstarted/content/index.html">
                                            <citetitle>Cloud Networks Getting Started</citetitle>
                                    </link>
                                 </para>
                                    </listitem>
                                    <listitem>
                                        <para>
                                    <link xlink:href="http://docs.rackspace.com/servers/api/v2/cn-devguide/content/index.html">
                                            <citetitle>Cloud Networks Developer Guide</citetitle>
                                    </link>
                                 </para>
                                    </listitem>
                                </itemizedlist>
                            </para>
                        </td>
                        <td>
                            <itemizedlist>
                                <listitem>
                                    <para>
                                 <link xlink:href="http://docs.rackspace.com/auth/api/v2.0/auth-client-devguide/content/index.html">
                                        <citetitle>Cloud Identity Client Developer Guide v2.0</citetitle>
                                 </link>
                              </para>
                                </listitem>
                            </itemizedlist>
                        </td>
                    </tr>
                </tbody>
            </informaltable>
        </para>
        <para>For additional Cloud Servers and Cloud Networks service resources, see the
            <link xlink:href="http://www.rackspacecloud.com/cloud_hosting_products/servers">Rackspace Cloud</link> site,
            which provides related documents and links to Rackspace support channels including
            <link xlink:href="http://www.rackspace.com/knowledge_center/">Knowledge Center articles</link>, phone, chat, and
            tickets.</para>
        <para>For product updates and announcements through Twitter, see
            <link xlink:href="http://twitter.com/rackspace">http://twitter.com/rackspace</link>.</para>
        <para>For information about the supernova client, which is an unsupported wrapper for the nova client useful for
            managing multiple nova environments, see
            <link xlink:href="http://major.github.io/supernova/">supernova client</link>.</para>
      </section>
   </chapter>
    <chapter version="5.0"
            xml:id="ch_overview"
            xml:base="chapters/net_overview.xml">
        <title>Overview</title>
        <para>Cloud Networks enables you to create a virtual Layer 2 network, known as an isolated network, which gives you
                greater control and security when you deploy web applications. </para>
        <para>When you create a next generation Cloud Server, Cloud Networks enables you to attach one or more networks to
                your server. You can attach an isolated network that you have created or a Rackspace network. </para>
        <para>If you are using nova-network operations and you install the Cloud Networks virtual interface extension, you can create a virtual interface to
                a specified Rackspace or isolated network and attach that network to an existing server instance. You can
                also list virtual interfaces for and delete virtual interfaces from a server instance. For information about
                the Cloud Networks virtual interface extension, see <phrase condition="gs"/>
                <phrase condition="gs">
                        <link xlink:href="http://docs.rackspace.com/networks/api/v2/cn-devguide/content/section_virt_ext.html">
                Cloud Networks Virtual Interface Extension</link>
                        in the <citetitle>Cloud Networks Developer Guide</citetitle>
         </phrase>.</para>
        <para>Cloud Networks enables you to attach one or more of the following networks to your server: <itemizedlist>
                        <listitem>
                                <para>
                  <emphasis role="bold">
                     <glossterm>PublicNet</glossterm>
                  </emphasis>. Provides access to
                                        the Internet, to Rackspace services (such as Cloud Monitoring, Managed Cloud Service
                                        Level support, RackConnect, and Cloud Backup), and to certain operating system
                                        updates. </para>
                                <para>When you list networks through Cloud Networks, PublicNet is labeled
                                                <literal>public</literal>. </para>
                        </listitem>
                        <listitem>
                                <para>
                  <emphasis role="bold">
                     <glossterm>ServiceNet</glossterm>
                  </emphasis>. Provides access to
                                        Rackspace services such as Cloud Files, Cloud Databases, and Cloud Backup, and to
                                        certain packages and patches through an internal-only, multi-tenant network
                                        connection within each Rackspace data center. </para>
                                <para>When you list networks through Cloud Networks, ServiceNet is labeled
                                                <literal>private</literal>.</para>
                                <para>You can use ServiceNet for communications among web servers, application servers, and
                                        database servers without incurring bandwidth charges. However, without an isolated
                                        network, you must apply security rules to protect data integrity. When you add or
                                        remove a server, you must update the security rules on individual servers to permit
                                        or deny connections from newly added servers or removed servers. </para>
                        </listitem>
                        <listitem>
                                <para>
                  <emphasis role="bold">Isolated</emphasis>. Enables you to deploy web applications on a
                                        virtual Layer 2 network that you create through Cloud Networks. An isolated network
                                        keeps your server separate from PublicNet, ServiceNet, or both. When you create a
                                        isolated network, it is associated with your tenant ID.</para>
                        </listitem>
                </itemizedlist>
      </para>
        <para>When you provision a new server, the networks that are attached to it depend on which of the following methods
                you use to provision it: <itemizedlist>
                        <listitem>
                                <para>
                  <emphasis role="bold">The Cloud Servers neutron API or nova-network API</emphasis>. You
                                        must specify the networks that you want to attach to your server. If you do not
                                        specify any networks, ServiceNet and PublicNet are attached by default. However, if
                                        you specify an isolated network, you must explicitly specify the UUIDs for PublicNet
                                        and ServiceNet to attach these networks to your server. The UUID for ServiceNet is
                                                <literal>11111111-1111-1111-1111-111111111111</literal>, and the UUID for
                                        PublicNet is <literal>00000000-0000-0000-0000-000000000000</literal>. </para>
                        </listitem>
                        <listitem>
                                <para>
                  <emphasis role="bold">The nova <command>boot</command> command</emphasis>. You must
                                        specify the networks that you want to attach to your server. If you do not specify
                                        any networks, ServiceNet and PublicNet are attached by default. To attach to isolated
                                        networks that you have created, you must explicitly specify them in the command. If
                                        you do so, those networks, in addition to PublicNet and ServiceNet, are attached to
                                        your server.</para>
                        </listitem>
                        <listitem>
                                <para>
                  <emphasis role="bold">The Cloud Control Panel</emphasis>. PublicNet and ServiceNet are
                                        automatically attached, but you can disable these networks during the server creation
                                        process. You can also attach any isolated networks that you have created. </para>
                        </listitem>
                </itemizedlist>
      </para>
        <note>
                <para>You can explicitly opt out of attaching to the Rackspace networks, which introduces certain potential
                        complications. For more information, see 
                        <xref linkend="networks"/>.</para>
        </note>
        <para>You can use the Cloud Networks service to perform the following tasks: <itemizedlist>
                        <listitem>
                                <para>List networks to which the specified tenant has access.</para>
                        </listitem>
                        <listitem>
                                <para>Create isolated networks.</para>
                        </listitem>
                        <listitem>
                                <para>Show details for isolated networks. </para>
                        </listitem>
                        <listitem>
                                <para>Delete an isolated network, but only if it is not associated with any server. </para>
                                <para>To detach a network from a server, you must use the Cloud Networks virtual interface extension to delete the virtual
                                        interface for the network from the server. See 
                                        <xref linkend="networks"/>.</para>
                        </listitem>
                        <listitem>
                                <para>Manage subnets.</para>
                        </listitem>
                        <listitem>
                                <para>Manage ports.</para>
                        </listitem>
                        <listitem>
                                <para>Manage Layer-3 routers.</para>
                        </listitem>
                </itemizedlist>
      </para>
        <para>To list the networks that are attached to servers, issue a Cloud Servers List Servers operation. For more
                information, see
                <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-devguide/content/List_Servers-d1e2078.html">List Servers</link>
                in the <citetitle>Cloud Servers Developer Guide</citetitle>.</para>
        <section xml:id="section_nova_v_neutron"
               version="5.0"
               xml:base="chapters/net_nova_v_neutron.xml">
         <title>Networking: nova-network versus neutron</title>
         <para>Rackspace first introduced networking services by using the nova-network API based on OpenStack. Now we are
        providing the neutron API, also based on OpenStack, which offers more functionality and flexibility than the
        nova-network API. Both sets of APIs continue to work well, but the neutron API will be the base for all the future
        networking services that Rackspace offers. </para>
         <para>We recommend that you use the neutron API for your Cloud Networks API operations.</para>
         <para>The neutron API provides three primary, top-level resources (networks, ports, and subnets) and includes the ability
        to perform the following functions: <itemizedlist>
               <listitem>
                  <para>Use all existing create, read, update, delete (CRUD) API operations for networks</para>
               </listitem>
               <listitem>
                  <para>Attach and detach networks</para>
               </listitem>
               <listitem>
                  <para>Self-service additional IP addresses</para>
               </listitem>
               <listitem>
                  <para>Pass custom routes to servers</para>
               </listitem>
               <listitem>
                  <para>Set the default gateway on cloud networks</para>
               </listitem>
               <listitem>
                  <para>View quotas related to networks</para>
               </listitem>
            </itemizedlist>
         </para>
         <note>
            <para>The neutron API operations return only JSON-formatted responses. There is no option to receive responses in
            XML.</para>
         </note>
      </section>
        <section xml:id="networks"
               version="5.0"
               xml:base="chapters/net_limitations.xml">
         <title>Limitations of detaching from Rackspace networks</title>
         <para>When you provision a next generation Cloud Server, you can attach to one or more isolated networks and the
        Rackspace networks. You can also explicitly opt out of attaching the Rackspace networks to it, which introduces the
        following limitations: </para>
         <para>
            <itemizedlist>
               <listitem>
                  <para>If you do not attach the PublicNet network to your server, the server cannot access to the Internet and
                    some Rackspace products and services. </para>
               </listitem>
               <listitem>
                  <para>If you do not attach the ServiceNet network to your server, the server cannot access certain Rackspace
                    products and services. </para>
               </listitem>
            </itemizedlist>
         </para>
         <para>The following graphic depicts the services that are available only when you attach the Rackspace networks to your
        server: <mediaobject>
               <imageobject>
                  <imagedata contentwidth="3in"
                             fileref="figures/1/a/a/figures/cloud-networks-infographic-revised4.png"/>
               </imageobject>
            </mediaobject>
         </para>
         <para>To opt out of attaching the Rackspace networks to your server, perform the following action depending on how you
        are provisioning the server: <itemizedlist>
               <listitem>
                  <para>
                     <emphasis role="bold">nova boot command</emphasis>. Specify the optional <option>--no-public</option>
                    and <option>--no-service-net</option> parameters. </para>
               </listitem>
               <listitem>
                  <para>
                     <emphasis role="bold">Cloud Servers neutron API or nova-network API</emphasis>. If you do not specify
                    any networks, ServiceNet and PublicNet are attached by default. However, if you specify an isolated
                    network, you must explicitly specify the UUIDs for PublicNet and ServiceNet to attach these networks to
                    your server. </para>
                  <para>The UUID for ServiceNet is <literal>11111111-1111-1111-1111-111111111111</literal>, and the UUID for
                    PublicNet is <literal>00000000-0000-0000-0000-000000000000</literal>. </para>
                  <para>Omit these UUIDs from the request to detach from these networks.</para>
               </listitem>
               <listitem>
                  <para>
                     <emphasis role="bold">Cloud Control Panel</emphasis>. Clear either or both of the PublicNet and
                    ServiceNet selections during the server creation process. You are warned that your capabilities might be
                    degraded by this choice.</para>
               </listitem>
            </itemizedlist>
         </para>
      </section>
   </chapter>
    <chapter xml:id="how_examples_work"
            version="5.0"
            xml:base="chapters/net_use_examples.xml">
      <title>Learn how to use the examples in this guide</title>
      <para>For each exercise in this guide, you choose one of the following methods to make Cloud Networks API calls: <itemizedlist>
            <listitem>
                <para>
                  <emphasis role="bold">The neutron client</emphasis>. We recommend that you use the neutron client to
                    run simple commands that make neutron API calls. This open-source Python client runs on Linux or Mac OS X
                    systems and is easy to learn and use. You can specify a debug parameter on any neutron command to show
                    the underlying API request for the command. This is a good way to become familiar with API requests. </para>
                <!--<para>See <olink targetdoc="cn-gettingstarted" targetptr="novaclient">“How the nova Client
                    Works”</olink>.</para>-->
            </listitem>
            <listitem>
                <para>
                  <emphasis role="bold">The
                        <link xlink:href="http://www.rackspace.com/knowledge_center/article/using-python-novaclient-with-the-rackspace-cloud">
                            nova client</link>
                  </emphasis>.
                    Use the nova client to run simple commands that make nova-network API calls. This open-source Python
                    client runs on Linux or Mac OS X systems and is easy to learn and use. You can specify a debug parameter
                    on any nova command to show the underlying API request for the command.</para>
                <para>See <xref linkend="novaclient"/>.</para>
            </listitem>
            <listitem>
                <para>
                  <emphasis role="bold">
                     <link xlink:href="http://curl.haxx.se/">cURL</link> commands</emphasis>. If you
                    are familiar with or want to learn cURL commands, choose this method. With cURL, you send HTTP requests
                    with embedded API calls from the command line. The cURL examples in this guide show request and response
                    bodies that are in JSON and XML formats. See <xref linkend="curl"/>
               </para>
            </listitem>
        </itemizedlist>If you like, you can use cURL in one example and switch to the nova client in the next example. If you
        choose to use a cURL command for any example, you must export the environment variables required to run the cURL
        examples. See <xref linkend="export_env_vars"/>.</para>
      <para>Each example, whether neutron client, nova client or cURL, points you to the next step in the process. </para>

      <!--<xi:include href="net_how_neutron_works.xml"/>-->
      <section xml:id="novaclient"
               version="5.0"
               xml:base="chapters/net_how_nova_works.xml">
         <title>How the nova client works</title>
         <para>The nova client is an open-source Python client that lets you run commands to make API calls. This client
        is easy to learn and use. Each nova client command runs cURL commands that embed API requests. You can run the
        nova client from a desktop machine or remote system, such as a Cloud Server. </para>
         <para>You install the nova client on a Linux distribution or on Mac OS X. To install the nova client, see <xref linkend="install_nova"/>. </para>
         <para>To configure the nova client, you update your bash profile to set and export nova environment variables. </para>
         <note>
            <para>You can specify a debug parameter on any nova command to show the underlying API request for the command. This
            is a good way to become familiar with the API requests. </para>
         </note>
         <warning>
            <para>If you upgrade the operating system of the desktop or remote machine where you installed nova, you may need to
            reinstall nova.</para>
         </warning>
      </section>
      <section xml:id="curl"
               version="5.0"
               xml:base="chapters/net_how_curl_works.xml">
         <title>How cURL commands work</title>
         <para>cURL is a command-line tool that you can use to interact with <glossterm>REST</glossterm> interfaces. cURL lets you
        to transmit and receive <glossterm>HTTP</glossterm> requests and responses from the command line or a shell script,
        which enables you to work with the API directly. It is available for Linux distributions, Mac OS X, and Windows. For
        information about cURL, see <link xlink:href="http://curl.haxx.se/">http://curl.haxx.se/</link>. </para>
         <para>To use XML, see <xref linkend="curl_summary_xml"/>.</para>

         <para>To run the cURL request examples shown in this guide, copy each example from the HTML version of this guide
        directly to the command line or a script.</para>

         <para>The following command is an example cURL command that provisions a server with an isolated network using JSON:</para>

         <example xml:id="json_example">
            <title>cURL command example: JSON request</title>
            <programlisting language="bash" role="gutter: false"><?db-font-size 60%?>
            $ curl https://dfw.servers.api.rackspacecloud.com/v2/$account/servers \
       -X POST \
       -H "X-Auth-Project-Id: $account" \
       -H "Content-Type: application/json" \
       -H "Accept: application/json" \
       -H "X-Auth-Token: $token" \
       -d '{"server": {"name": "my_server_with_network", "imageRef": "d42f821e-c2d1-4796-9f07-af5ed7912d0e", "flavorRef": "2", "max_count": 1, "min_count": 1, "networks": [{"uuid": "538a112a-34d1-47ff-bf1e-c40639e886e2"}, {"uuid": "00000000-0000-0000-0000-000000000000"}, {"uuid": "11111111-1111-1111-1111-111111111111"}]}}' \
      | python -m json.tool</programlisting>
         </example>
         <note>
            <para>The carriage returns in the cURL request examples use a backslash (<literal>\</literal>) as an escape
            character. The escape character allows continuation of the command across multiple lines. However, do not include
            the escape character in the JSON or XML request body within the cURL command.</para>
         </note>
         <?hard-pagebreak?>
         <para>The cURL examples in this guide use the following command-line options:</para>
         <table xml:id="curl_options" rules="all" width="85%">
            <caption>cURL command-line options</caption>

            <thead>
               <tr>
                  <th>Option</th>
                  <th>Description</th>
               </tr>
            </thead>
            <tbody>
               <tr>
                  <td>
                    <option>-d</option>
                  </td>
                  <td>
                    <para>Sends the specified data in a <command>POST</command> request to the HTTP server. Use this option to send a JSON or
                        XML request body to the server.</para>
                  </td>
               </tr>
               <tr>
                  <td>
                    <option>-H</option>
                  </td>
                  <td>
                    <para>Specifies an extra HTTP header in the request. You can specify any number of extra headers. Precede
                        each header with the <option>-H</option> option. </para>
                    <para>Common headers in Rackspace API requests are as follows:<itemizedlist>
                            <listitem>
                                <para>
                                 <literal>Content-Type</literal>. Required for operations with a request body. </para>
                                <para>Specifies the format of the request body. Following is the syntax for the header where
                                        <parameter>format</parameter> is either <literal>json</literal> or
                                        <literal>xml</literal>.</para>
                                <screen>Content-Type: application/format</screen>
                            </listitem>
                            <listitem>
                                <para>
                                 <literal>X-Auth-Token</literal>. Required. Specifies the authentication token.</para>
                            </listitem>
                            <listitem>
                                <para>
                                 <literal>X-Auth-Project-Id</literal>. Optional. Specifies the project ID, which can be
                                    your account number or another value.</para>
                            </listitem>
                            <listitem>
                                <para>
                                 <literal>Accept</literal>. Optional. </para>
                                <para>Specifies the format of the response body. Following is the syntax for the header where
                                        <parameter>format</parameter> is either <literal>json</literal> or
                                        <literal>xml</literal>. The default is <literal>json</literal>.</para>
                                <screen>Accept: application/format</screen>
                            </listitem>
                        </itemizedlist>
                     </para>
                  </td>
               </tr>
               <tr>
                  <td>
                    <option>-i</option>
                  </td>
                  <td>
                    <para>Includes the HTTP header in the output. </para>
                  </td>
               </tr>
               <tr>
                  <td>
                    <option>-s</option>
                  </td>
                  <td>
                    <para>Specifies silent or quiet mode, which makes cURL mute. No progress or error messages are
                        shown.</para>
                  </td>
               </tr>
               <tr>
                  <td>
                    <option>-T</option>
                  </td>
                  <td>
                    <para>Transfers the specified local file to the remote URL.</para>
                  </td>
               </tr>
               <tr>
                  <td>
                    <option>-X</option>
                  </td>
                  <td>
                    <para>Specifies the request method to use when communicating with the HTTP server. The specified request
                        is used instead of the default method, which is <command>GET</command>. </para>
                  </td>
               </tr>
            </tbody>
         </table>
         <note xml:id="json_tool">
            <title>More about json.tool</title>
            <para>For commands that return a response, you can append the following code to the command to call json.tool to
            pretty-print output: </para>
            <programlisting language="bash" role="gutter: false">| python -m json.tool</programlisting>
            <para>To use json.tool, import the JSON module. For information about json.tool, see
            <link xlink:href="http://docs.python.org/2/library/json.html">json — JSON encoder and decoder</link>. </para>
            <para>If you run a Python version older than 2.6, import the simplejson module and use simplejson.tool. For
            information about simplejson.tool, see
            <link xlink:href="http://simplejson.googlecode.com/svn/tags/simplejson-2.0.9/docs/index.html">simplejson — JSON encoder and decoder</link>.</para>
            <para>If you do not want to pretty-print JSON output, omit this code. </para>
         </note>
         <?hard-pagebreak?>
         <section xml:id="curl_summary_xml"
                  version="5.0"
                  xml:base="net_how_curl_works_xml.xml">
            <title>XML requests and responses</title>
            <para>The following example shows a cURL command that specifies an XML request body and returns an XML response. The
        command creates a server.</para>
            <example xml:id="xml_example">
               <title>cURL command example: XML request</title>
               <programlistingco>
                  <areaspec>
                     <area xml:id="xml_curl.txt.endpoint" units="linecolumn" coords="1 87"/>
                     <area xml:id="xml_curl.txt.content" units="linecolumn" coords="4 46"/>
                     <area xml:id="xml_curl.txt.accept" units="linecolumn" coords="5 40"/>
                     <area xml:id="xml_curl.txt.file" units="linecolumn" coords="7 29"/>
                     <area xml:id="xml_curl.txt.ppxml" units="linecolumn" coords="7 38"/>
                  </areaspec>
                  <programlisting language="bash" role="gutter: false"><?db-font-size 65%?>$ curl -i https://dfw.servers.api.rackspacecloud.com/v2/$account/servers.xml \
     -X POST \
     -H "X-Auth-Project-Id: $account" \
     -H "Content-Type: application/xml" \
     -H "Accept: application/xml" \
     -H "X-Auth-Token: $token" \
     -T server_post_req.xml | ppxml          </programlisting>
               </programlistingco>
            </example>
            <para>This example includes the following changes to the basic JSON request format in <xref linkend="json_example"/>
        :<calloutlist>
                  <callout arearefs="xml_curl.txt.endpoint">
                     <para>The endpoint in the cURL command has <literal>.xml</literal> appended to it to return an XML
                    response.</para>
                  </callout>
                  <callout arearefs="xml_curl.txt.content">
                     <para>The <literal>Content-Type:</literal> header specifies <literal>application/xml</literal> instead of
                        <literal>application/json</literal>. </para>
                  </callout>
                  <callout arearefs="xml_curl.txt.accept">
                     <para>The <literal>Accept:</literal> header specifies <literal>application/xml</literal> instead of
                        <literal>application/json</literal>. </para>
                  </callout>
                  <callout arearefs="xml_curl.txt.file">
                     <para>The request body, if required, should be specified it in XML format. In this example, the XML body is
                    passed in the <filename>server_post_req.xml</filename> file, as follows:</para>
                     <programlisting language="xml"><?db-font-size 55%?>
                    &lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;server xmlns="http://docs.openstack.org/compute/api/v1.1" imageRef="3afe97b2-26dc-49c5-a2cc-a2fc8d80c001" flavorRef="2"
  name="api-test-server-xml2"&gt;
  &lt;metadata&gt;
    &lt;meta key="My Server Name"&gt;API Test Server XML&lt;/meta&gt;
  &lt;/metadata&gt;
  &lt;personality&gt;
    &lt;file path="/etc/banner.txt"&gt; ICAgICAgDQoiQSBjbG91ZCBkb2VzIG5vdCBrbm93IHdoeSBp
      dCBtb3ZlcyBpbiBqdXN0IHN1Y2ggYSBkaXJlY3Rpb24gYW5k IGF0IHN1Y2ggYSBzcGVlZC4uLkl0IGZlZWxzIGFuIGltcHVs
      c2lvbi4uLnRoaXMgaXMgdGhlIHBsYWNlIHRvIGdvIG5vdy4g QnV0IHRoZSBza3kga25vd3MgdGhlIHJlYXNvbnMgYW5kIHRo
      ZSBwYXR0ZXJucyBiZWhpbmQgYWxsIGNsb3VkcywgYW5kIHlv dSB3aWxsIGtub3csIHRvbywgd2hlbiB5b3UgbGlmdCB5b3Vy
      c2VsZiBoaWdoIGVub3VnaCB0byBzZWUgYmV5b25kIGhvcml6 b25zLiINCg0KLVJpY2hhcmQgQmFjaA==&lt;/file&gt;
  &lt;/personality&gt;
  &lt;networks&gt;
    &lt;network uuid="0ef47ac7-6797-4e01-8a47-ed26ec3aaa56"/&gt;
    &lt;network uuid="00000000-0000-0000-0000-000000000000"/&gt;
    &lt;network uuid="11111111-1111-1111-1111-111111111111"/&gt;
  &lt;/networks&gt;
  &lt;keypair&gt;
    &lt;key_name&gt;name_of_keypair-96bbe50e-05e1-4d59-9115-4779a3ebcc2e&lt;/key_name&gt;
  &lt;/keypair&gt;
&lt;/server&gt;
</programlisting>
                  </callout>
                  <callout arearefs="xml_curl.txt.ppxml">
                     <para>To pretty-print the XML output, set the <literal>ppxml</literal> alias, as follows: </para>
                     <programlisting language="bash" role="gutter: false"><?db-font-size 50%?>
                    $ alias ppxml='python -c "import sys, xml.dom.minidom; print xml.dom.minidom.parseString(sys.stdin.read()).toprettyxml()"'</programlisting>
                     <para>Then, append the <literal>ppxml</literal> alias to the cURL command. </para>
                  </callout>
               </calloutlist>
            </para>

            <para>The cURL command returns information about the new server in XML format, as shown in the following example.</para>
            <example xml:id="xml_example_reponse">
               <title>cURL command example: XML response</title>
               <programlisting language="xml"><?db-font-size 65%?>
            &lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;server
    xmlns:OS-DCF="http://docs.openstack.org/compute/ext/disk_config/api/v1.1"
    xmlns:atom="http://www.w3.org/2005/Atom"
    xmlns="http://docs.openstack.org/compute/api/v1.1"
    id="ed5c7754-29b6-45fa-96cb-ab64958c8c0a" adminPass="Dd5pNZtpVVQ3"
    OS-DCF:diskConfig="AUTO"&gt;
    &lt;metadata/&gt;
    &lt;atom:link
        href="https://dfw.servers.api.rackspacecloud.com/v2/010101/servers/ed5c7754-29b6-45fa-96cb-ab64958c8c0a"
        rel="self"/&gt;
    &lt;atom:link
        href="https://dfw.servers.api.rackspacecloud.com/010101/servers/ed5c7754-29b6-45fa-96cb-ab64958c8c0a"
        rel="bookmark"/&gt;
&lt;/server&gt;
</programlisting>
            </example>

         </section>
      </section>
   </chapter>
    <chapter xmlns:raxm="http://docs.rackspace.com/api/metadata"
            version="5.0"
            xml:id="ch_gs_getting_set_up"
            xml:base="chapters/net_set_up.xml">
      <title>Set up the environment and authenticate</title>

      <para>To follow the examples in this guide, you can use cURL, nova, or neutron commands. If you plan to use the nova or
        neutron clients, install them. Then get your authentication token. If you plan to use cURL commands, go ahead and get
        your authentication token and then export your environment variables.</para>
      <note>
        <para>You can use any combination of methods to run the commands in this guide, switching back and forth if you like.
            You are not locked into one method just because you started with it. All methods are available with cURL. Some
            methods are not available in the nova or neutron clients.</para>
      </note>
      <para>Regardless of which method you choose to make API calls, don't forget to get that authentication token!</para>

      <section version="5.0"
               xml:id="install_neutron"
               xml:base="chapters/net_install_neutron.xml">

         <title>(Optional) Install the neutron client</title>
         <para>Follow the necessary steps to install the neutron client (TBD).</para>
         <!--<para>To manage your servers from the command line, you can use the open-source nova client application called
            <literal>python-novaclient</literal>. </para>
    <para>To install the nova client, you first install the <literal>rackspace-novaclient</literal> package, which includes
        the nova client and the Rackspace extensions including the Cloud Networks extension.</para>
    <para>If you want to use the Cloud Networks virtual interface extension, you must also install the
            <literal>os_virtual_interfacesv2_python_novaclient_ext</literal> package. </para>
    <note>
        <para>The python-novaclient is developed and maintained by the OpenStack community. While we do not directly support
            python-novaclient, you can post in the comments below if you run into any difficulties.</para>
    </note>
    <para>Before you begin, install the following software:<table rules="all" width="90%">
            <caption>Nova Client Prerequisite Software</caption>
            <col width="25%"/>
            <col width="75%"/>
            <thead>
                <tr>
                    <th>Prerequisite</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td valign="top">
                        <para>Python 2.6 or later</para>
                    </td>
                    <td>
                        <para>Currently, the nova client does not support Python 3. </para>
                    </td>
                </tr>
                <tr>
                    <td valign="top">
                        <para><command>setuptools</command> package </para>
                    </td>
                    <td>
                        <para>Installed by default on Mac OS X. </para>
                        <para>Many Linux distributions provide packages to make <command>setuptools</command> easy to
                            install.</para>
                        <para>Search your package manager for <command>setuptools</command> to find an installation package.
                            If you cannot find one, download the <command>setuptools</command> package directly from
                            <link xlink:href="http://pypi.python.org/pypi/setuptools">http://pypi.python.org/pypi/setuptools</link>.
                        </para>
                    </td>
                </tr>
                <tr>
                    <td valign="top"><command>pip</command> package</td>
                    <td>
                        <para>To install the nova client on a Mac OS X or Linux system, use <command>pip</command> because it
                            is easy and ensures that you get the latest version of the nova client from the
                            <link xlink:href="http://pypi.python.org/pypi/python-novaclient/">Python Package Index</link>.
                            Also, it lets you update the package later on.</para>
                        <para>Install <command>pip</command> through the package manager for your system:<itemizedlist>
                                <listitem>
                                    <para>Mac OS X
                                        <programlisting language="bash" role="gutter: false">
                                            <prompt>$</prompt> sudo easy_install pip</programlisting></para>
                                </listitem>
                                <listitem>
                                    <para>Ubuntu
                                        <programlisting language="bash" role="gutter: false">
                                            <prompt>$</prompt> aptitude install python-pip </programlisting></para>
                                </listitem>
                                <listitem>
                                    <para>Debian
                                        <programlisting language="bash" role="gutter: false">
                                            <prompt>$</prompt> aptitude install python-pip </programlisting></para>
                                </listitem>
                                <listitem>
                                    <para>Fedora
                                        <programlisting language="bash" role="gutter: false">
                                            <prompt>$</prompt> yum install python-pip</programlisting></para>
                                </listitem>
                                <listitem>
                                    <para>CentOS, or RHEL (from EPEL or another 3rd party repository)
                                        <programlisting language="bash" role="gutter: false">
                                            <prompt>$</prompt> yum install python-pip</programlisting></para>
                                </listitem>
                            </itemizedlist>
                        </para>
                    </td>
                </tr>
            </tbody>
        </table></para>

    <procedure>
        <title>To install the nova client with Rackspace extensions:</title>

        <step>
            <title>Install or update the nova client package with Rackspace extensions</title>
            <para>The <literal>rackspace-novaclient</literal> package includes the nova client and Rackspace extensions,
                including the Cloud Networks extension. </para>
            <para>Run the following command for your operating system to install the <literal>rackspace-novaclient</literal>
                package:</para>
            <para>For Ubuntu, Debian, or OS X: </para>
            <programlisting language="bash" role="gutter: false">
                <prompt>$</prompt> sudo pip install rackspace-novaclient</programlisting>
            <para>For RHEL, CentOS, or Fedora: </para>
            <programlisting language="bash" role="gutter: false">
                <prompt>$</prompt> sudo python-pip install rackspace-novaclient</programlisting>
            <note>

                <para>If you previously installed the <literal>rackspace-novaclient</literal> package, run the following
                    command for your operating system to upgrade it:</para>
                <para> For Ubuntu, Debian, or OS X:
                    <programlisting language="bash" role="gutter: false">
                        <prompt>$</prompt> sudo pip install -\-upgrade rackspace-novaclient</programlisting>
                    For RHEL, CentOS, or Fedora:
                    <programlisting language="bash" role="gutter: false">
                        <prompt>$</prompt> sudo python-pip install -\-upgrade rackspace-novaclient</programlisting>
                </para>
            </note>
            <important>
                <itemizedlist>
                    <listitem>
                        <para>If you previously installed the earlier <literal>rax_networks_python_novaclient_ext</literal>
                            package, run the following command for your operating system to remove it: </para>
                        <para> For Ubuntu, Debian, or OS X:
                            <programlisting language="bash" role="gutter: false">
                                <prompt>$</prompt> sudo pip uninstall rax_networks_python_novaclient_ext</programlisting>
                            For RHEL, CentOS, or Fedora:
                            <programlisting language="bash" role="gutter: false">
                                <prompt>$</prompt> sudo python-pip uninstall rax_networks_python_novaclient_ext</programlisting>
                        </para>
                    </listitem>
                    <listitem>
                        <para>If you have trouble using pip to install the nova client, you can also download a nova client
                            installation package from the
                            <link xlink:href="http://pypi.python.org/pypi/rackspace-novaclient/">python package repository</link>.
                            Or, you can use pip to individually install the <literal>python-novaclient</literal> and
                                <literal>rackspace-auth-openstack</literal> packages.</para>
                    </listitem>
                </itemizedlist>
            </important>
        </step>

        <step>
            <title>Set environment variables</title>
            <para>Edit your bash profile to add and set environment variables that enable the nova client to connect to your
                Rackspace Cloud account. Use nano or an editor of your choice to edit your <filename>.bash_profile</filename>
                file:</para>
            <programlisting language="bash" role="gutter: false"><prompt>$</prompt> nano ~/.bash_profile </programlisting>
            <para>Depending on your account location, add one of the following sets of lines to your bash profile and save
                the file:<example>
                    <title>US Data Center Example</title>
                    <screen><computeroutput><?db-font-size 65%?>export OS_AUTH_URL=https://identity.api.rackspacecloud.com/v2.0/
export OS_AUTH_SYSTEM=rackspace
export OS_REGION_NAME=DFW
export OS_USERNAME=&lt;username>
export OS_TENANT_NAME=&lt;tenant_id>
export NOVA_RAX_AUTH=1
export OS_PASSWORD=&lt;api_key>
export OS_PROJECT_ID=&lt;tenant_id>
export OS_NO_CACHE=1</computeroutput></screen>
                </example><example>
                    <title>UK Data Center Example</title>
                    <screen><computeroutput><?db-font-size 65%?>export OS_AUTH_URL=https://lon.identity.api.rackspacecloud.com/v2.0/
export OS_AUTH_SYSTEM=rackspace_uk
export OS_REGION_NAME=LON
export OS_USERNAME=&lt;username>
export OS_TENANT_NAME=&lt;tenant_id>
export NOVA_RAX_AUTH=1
export OS_PASSWORD=&lt;apikey>
export OS_PROJECT_ID=&lt;tenant_id>
export OS_NO_CACHE=1</computeroutput></screen>
                </example></para>
        </step>
        <step>
            <title>Set permissions on the bash profile</title>
            <para>Because the bash profile contains a password, set permissions on it so other people cannot read it:</para>
            <programlisting language="bash" role="gutter: false"><prompt>$</prompt>  chmod 600 ~/.bash_profile </programlisting>
        </step>
        <step>
            <title>Source the environment variables</title>
            <para>To source the variables to make them available in your current shell, run the following command:</para>
            <programlisting language="bash" role="gutter: false"><prompt>$</prompt> source ~/.bash_profile </programlisting>
        </step>
        <step>
            <title>Test the nova client</title>
            <para>To verify that you can talk to the API server, authenticate and list
                images:<programlisting language="bash" role="gutter: false"><prompt>$</prompt> nova credentials 
<prompt>$</prompt> nova image-list </programlisting></para>
            <para>Then, list networks:
                <programlisting language="bash" role="gutter: false"><prompt>$</prompt> nova network-list </programlisting></para>
        </step>
        <step>
            <title>Get help for nova client commands</title>
            <para>To get help for nova client commands, run the following command:</para>
            <programlisting language="bash" role="gutter: false"><prompt>$</prompt> nova help </programlisting>
            <para>To get help for a specific command, type the command name after the <parameter>help</parameter> parameter,
                as follows:</para>
            <programlisting language="bash" role="gutter: false"><prompt>$</prompt> nova help &lt;command_name> </programlisting>
            <para>You cannot use every command that is listed. The nova client was written for use with recent development
                versions of OpenStack, so it includes support for some features that are not available in the Rackspace
                Cloud.</para>
            <note>
                <para>To show and become familiar with the underlying API v2 request for a command, specify the
                        <literal>-\-debug</literal> parameter as the first parameter on any command. For example:
                    <programlisting language="bash" role="gutter: false">
                        <prompt>$</prompt> nova -\-debug list</programlisting></para>
            </note>
        </step>
        <step>
            <title>Troubleshooting</title>
            <para>The python-novaclient is developed and maintained by the OpenStack community. </para>
            <itemizedlist>
                <listitem>
                    <para>If you cannot run commands successfully, make sure that you entered your user name, password, and
                        account number correctly in the bash profile file. </para>
                </listitem>
                <listitem>
                    <para>If you change any environment variables, either log out and back in or source your bash profile
                        again. </para>
                </listitem>
                <listitem>
                    <para>To override some environment variable settings, you can use the options that are listed at the end
                        of the <command>nova help</command> output. For example, you can override the
                            <literal>OS_PASSWORD</literal> setting in the bash profile by specifying a password on a nova
                        command, as follows: </para>
                    <programlisting language="bash" role="gutter: false">
                        <prompt>$</prompt> nova -\-password &lt;password> image-list </programlisting>
                    <para>Where <parameter>password</parameter> is your Rackspace password.</para>
                </listitem>
                <listitem>
                    <para> While Rackspace does not directly support python-novaclient, if the above steps don't help, you
                        can post a question in the comments below.</para>
                </listitem>
            </itemizedlist>
        </step>
    </procedure>-->
         <sidebar>
            <para>
               <emphasis role="bold">Next step: </emphasis>
               <xref linkend="net_auth"/>
            </para>
         </sidebar>
      </section>
      <section xml:id="install_nova"
               version="5.0"
               xml:base="chapters/net_install_nova.xml">

         <title>(optional) Install the nova client with the Cloud Networks extension</title>
         <para>To manage your servers from the command line, you can use the open-source nova client application called
            <literal>python-novaclient</literal>. </para>
         <para>To install the nova client, you first install the <literal>rackspace-novaclient</literal> package, which includes
        the nova client and the Rackspace extensions including the Cloud Networks extension.</para>
         <para>If you want to use the Cloud Networks virtual interface extension, you must also install the
            <literal>os_virtual_interfacesv2_python_novaclient_ext</literal> package. </para>
         <note>
            <para>The python-novaclient is developed and maintained by the OpenStack community. While we do not directly support
            python-novaclient, you can post in the comments below if you run into any difficulties.</para>
         </note>
         <para>Before you begin, install the following software:<table rules="all" width="90%">
               <caption>Nova client prerequisite software</caption>
               <col width="25%"/>
               <col width="75%"/>
               <thead>
                  <tr>
                    <th>Prerequisite</th>
                    <th>Description</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                    <td valign="top">
                        <para>Python 2.6 or later</para>
                    </td>
                    <td>
                        <para>Currently, the nova client does not support Python 3. </para>
                    </td>
                  </tr>
                  <tr>
                    <td valign="top">
                        <para>
                           <command>setuptools</command> package </para>
                    </td>
                    <td>
                        <para>Installed by default on Mac OS X. </para>
                        <para>Many Linux distributions provide packages to make <command>setuptools</command> easy to
                            install.</para>
                        <para>Search your package manager for <command>setuptools</command> to find an installation package.
                            If you cannot find one, download the <command>setuptools</command> package directly from
                            <link xlink:href="http://pypi.python.org/pypi/setuptools">http://pypi.python.org/pypi/setuptools</link>.
                        </para>
                    </td>
                  </tr>
                  <tr>
                    <td valign="top">
                        <command>pip</command> package</td>
                    <td>
                        <para>To install the nova client on a Mac OS X or Linux system, use <command>pip</command> because it
                            is easy and ensures that you get the latest version of the nova client from the
                            <link xlink:href="http://pypi.python.org/pypi/python-novaclient/">Python Package Index</link>.
                            Also, it lets you update the package later on.</para>
                        <para>Install <command>pip</command> through the package manager for your system:<itemizedlist>
                                <listitem>
                                    <para>Mac OS X
                                        <programlisting language="bash" role="gutter: false">
                                            $ sudo easy_install pip</programlisting>
                                 </para>
                                </listitem>
                                <listitem>
                                    <para>Ubuntu
                                        <programlisting language="bash" role="gutter: false">
                                            $ aptitude install python-pip </programlisting>
                                 </para>
                                </listitem>
                                <listitem>
                                    <para>Debian
                                        <programlisting language="bash" role="gutter: false">
                                            $ aptitude install python-pip </programlisting>
                                 </para>
                                </listitem>
                                <listitem>
                                    <para>Fedora
                                        <programlisting language="bash" role="gutter: false">
                                            $ yum install python-pip</programlisting>
                                 </para>
                                </listitem>
                                <listitem>
                                    <para>CentOS, or RHEL (from EPEL or another 3rd party repository)
                                        <programlisting language="bash" role="gutter: false">
                                            $ yum install python-pip</programlisting>
                                 </para>
                                </listitem>
                            </itemizedlist>
                        </para>
                    </td>
                  </tr>
               </tbody>
            </table>
         </para>

         <procedure>
            <title>To install the nova client with Rackspace extensions:</title>

            <step>
               <title>Install or update the nova client package with Rackspace extensions</title>
               <para>The <literal>rackspace-novaclient</literal> package includes the nova client and Rackspace extensions,
                including the Cloud Networks extension. </para>
               <para>Run the following command for your operating system to install the <literal>rackspace-novaclient</literal>
                package:</para>
               <para>For Ubuntu, Debian, or OS X: </para>
               <programlisting language="bash" role="gutter: false">
                $ sudo pip install rackspace-novaclient</programlisting>
               <para>For RHEL, CentOS, or Fedora: </para>
               <programlisting language="bash" role="gutter: false">
                $ sudo python-pip install rackspace-novaclient</programlisting>
               <note>

                  <para>If you previously installed the <literal>rackspace-novaclient</literal> package, run the following
                    command for your operating system to upgrade it:</para>
                  <para> For Ubuntu, Debian, or OS X:
                    <programlisting language="bash" role="gutter: false">
                        $ sudo pip install --upgrade rackspace-novaclient</programlisting>
                    For RHEL, CentOS, or Fedora:
                    <programlisting language="bash" role="gutter: false">
                        $ sudo python-pip install --upgrade rackspace-novaclient</programlisting>
                  </para>
               </note>
               <important>
                  <itemizedlist>
                    <listitem>
                        <para>If you previously installed the earlier <literal>rax_networks_python_novaclient_ext</literal>
                            package, run the following command for your operating system to remove it: </para>
                        <para> For Ubuntu, Debian, or OS X:
                            <programlisting language="bash" role="gutter: false">
                                $ sudo pip uninstall rax_networks_python_novaclient_ext</programlisting>
                            For RHEL, CentOS, or Fedora:
                            <programlisting language="bash" role="gutter: false">
                                $ sudo python-pip uninstall rax_networks_python_novaclient_ext</programlisting>
                        </para>
                    </listitem>
                    <listitem>
                        <para>If you have trouble using pip to install the nova client, you can also download a nova client
                            installation package from the
                            <link xlink:href="http://pypi.python.org/pypi/rackspace-novaclient/">python package repository</link>.
                            Or, you can use pip to individually install the <literal>python-novaclient</literal> and
                                <literal>rackspace-auth-openstack</literal> packages.</para>
                    </listitem>
                  </itemizedlist>
               </important>
            </step>

            <step>
               <title>Set environment variables</title>
               <para>Edit your bash profile to add and set environment variables that enable the nova client to connect to your
                Rackspace Cloud account. Use nano or an editor of your choice to edit your <filename>.bash_profile</filename>
                file:</para>
               <programlisting language="bash" role="gutter: false">$ nano ~/.bash_profile </programlisting>
               <para>Depending on your account location, add one of the following sets of lines to your bash profile and save
                the file:<example>
                    <title>US data center example</title>
                    <screen><?db-font-size 65%?>export OS_AUTH_URL=https://identity.api.rackspacecloud.com/v2.0/
export OS_AUTH_SYSTEM=rackspace
export OS_REGION_NAME=DFW
export OS_USERNAME=&lt;username&gt;
export OS_TENANT_NAME=&lt;tenant_id&gt;
export NOVA_RAX_AUTH=1
export OS_PASSWORD=&lt;api_key&gt;
export OS_PROJECT_ID=&lt;tenant_id&gt;
export OS_NO_CACHE=1</screen>
                  </example>
                  <example>
                    <title>UK data center example</title>
                    <screen><?db-font-size 65%?>export OS_AUTH_URL=https://lon.identity.api.rackspacecloud.com/v2.0/
export OS_AUTH_SYSTEM=rackspace_uk
export OS_REGION_NAME=LON
export OS_USERNAME=&lt;username&gt;
export OS_TENANT_NAME=&lt;tenant_id&gt;
export NOVA_RAX_AUTH=1
export OS_PASSWORD=&lt;apikey&gt;
export OS_PROJECT_ID=&lt;tenant_id&gt;
export OS_NO_CACHE=1</screen>
                  </example>
               </para>
            </step>
            <step>
               <title>Set permissions on the bash profile</title>
               <para>Because the bash profile contains a password, set permissions on it so other people cannot read it:</para>
               <programlisting language="bash" role="gutter: false">$  chmod 600 ~/.bash_profile </programlisting>
            </step>
            <step>
               <title>Source the environment variables</title>
               <para>To source the variables to make them available in your current shell, run the following command:</para>
               <programlisting language="bash" role="gutter: false">$ source ~/.bash_profile </programlisting>
            </step>
            <step>
               <title>Test the nova client</title>
               <para>To verify that you can talk to the API server, authenticate and list
                images:<programlisting language="bash" role="gutter: false">$ nova credentials 
$ nova image-list </programlisting>
               </para>
               <para>Then, list networks:
                <programlisting language="bash" role="gutter: false">$ nova network-list </programlisting>
               </para>
            </step>
            <step>
               <title>Get help for nova client commands</title>
               <para>To get help for nova client commands, run the following command:</para>
               <programlisting language="bash" role="gutter: false">$ nova help </programlisting>
               <para>To get help for a specific command, type the command name after the <parameter>help</parameter> parameter,
                as follows:</para>
               <programlisting language="bash" role="gutter: false">$ nova help &lt;command_name&gt; </programlisting>
               <para>You cannot use every command that is listed. The nova client was written for use with recent development
                versions of OpenStack, so it includes support for some features that are not available in the Rackspace
                Cloud.</para>
               <note>
                  <para>To show and become familiar with the underlying API v2 request for a command, specify the
                        <literal>--debug</literal> parameter as the first parameter on any command. For example:
                    <programlisting language="bash" role="gutter: false">
                        $ nova --debug list</programlisting>
                  </para>
               </note>
            </step>
            <step>
               <title>Troubleshooting</title>
               <para>The python-novaclient is developed and maintained by the OpenStack community. </para>
               <itemizedlist>
                  <listitem>
                    <para>If you cannot run commands successfully, make sure that you entered your user name, password, and
                        account number correctly in the bash profile file. </para>
                  </listitem>
                  <listitem>
                    <para>If you change any environment variables, either log out and back in or source your bash profile
                        again. </para>
                  </listitem>
                  <listitem>
                    <para>To override some environment variable settings, you can use the options that are listed at the end
                        of the <command>nova help</command> output. For example, you can override the
                            <literal>OS_PASSWORD</literal> setting in the bash profile by specifying a password on a nova
                        command, as follows: </para>
                    <programlisting language="bash" role="gutter: false">
                        $ nova --password &lt;password&gt; image-list </programlisting>
                    <para>Where <parameter>password</parameter> is your Rackspace password.</para>
                  </listitem>
                  <listitem>
                    <para> While Rackspace does not directly support python-novaclient, if the above steps don't help, you
                        can post a question in the comments below.</para>
                  </listitem>
               </itemizedlist>
            </step>
         </procedure>
         <sidebar>
            <para>
               <emphasis role="bold">Next step: </emphasis>
               <xref linkend="net_auth"/>
            </para>
         </sidebar>
      </section>
      <section xml:id="net_auth" version="5.0" xml:base="chapters/net_auth.xml">
         <title>Get authentication token</title>
         <para>To authenticate access to Rackspace Cloud services, you issue an authentication request to the Rackspace Cloud Identity service, which is an
        implementation of the OpenStack Keystone Identity Service v2.0.</para>
         <important>
            <para> Multiple Rackspace Cloud Identity service endpoints exist. You may use any endpoint, regardless of where your account was created.
        </para>
         </important>
         <para> Use the chosen endpoint, as follows:</para>
         <para>
            <informaltable rules="all">
               <col width="25%"/>
               <col width="75%"/>
               <thead>
                  <tr>
                    <th>National location</th>
                    <th>Rackspace Cloud Identity service endpoint</th>
                  </tr>
               </thead>
               <tbody>
                  <tr>
                    <td>US </td>
                    <td>
                        <link xlink:href="https://identity.api.rackspacecloud.com/v2.0">https://identity.api.rackspacecloud.com/v2.0</link>
                    </td>
                  </tr>
                  <tr>
                    <td>UK </td>
                    <td>
                        <link xlink:href="https://lon.identity.api.rackspacecloud.com/v2.0">https://lon.identity.api.rackspacecloud.com/v2.0</link>
                    </td>
                  </tr>
               </tbody>
            </informaltable>
         </para>
         <para>In response to valid credentials, an authentication request to the Rackspace Cloud Identity service returns an authentication token and a
        service catalog that contains a list of all services and endpoints available for this token. Because the
        authentication token expires after 24 hours, you must generate a token once a day. </para>
         <para>For detailed information about the OpenStack Keystone Identity Service v2.0, see
        <link xlink:href="http://docs.rackspace.com/auth/api/v2.0/auth-client-devguide/content/index.html">
               <citetitle>Cloud Identity Client Developer Guide API
                v2.0</citetitle>
            </link>.</para>
         <sidebar audience="gs">
            <para>
               <emphasis role="bold">Next step:</emphasis> Choose one of the following methods:<itemizedlist>
                  <listitem>
                    <para>
                        <xref linkend="nova_auth"/>
                     </para>
                  </listitem>
                  <listitem>
                    <para>
                        <xref linkend="curl_auth"/>
                        </para>
                  </listitem>
               </itemizedlist>
            </para>
         </sidebar>
         <?hard-pagebreak?>

         <section xml:id="nova_auth" audience="gs">
            <title>Authenticate with the nova client</title>
            <procedure>
               <title>To authenticate with the nova client:</title>
               <step>
                  <para>Get an authentication token: </para>
                  <programlisting language="bash" role="gutter: false">$ nova credentials</programlisting>

                  <para>Successful authentication returns user credentials, including ID, name, roles, and the authentication
                    token. The token appears in the <literal>id</literal> field in the <literal>Token</literal> box. </para>

                  <informalexample>
                    <screen><?db-font-size 50%?>+------------------+---------------------------------------------------------------------------------------+
| User Credentials | Value                                                                                 |
+------------------+---------------------------------------------------------------------------------------+
| id               | 170454                                                                                |
| name             | MyRackspaceAcct                                                                       |
| roles            | [{u'description': u'User Admin Role.', u'id': u'3', u'name': u'identity:user-admin'}] |
+------------------+---------------------------------------------------------------------------------------+
+---------+----------------------------------------+
| Token   | Value                                  |
+---------+----------------------------------------+
| expires | 2012-07-28T13:58:56.000-05:00          |
| id      | 1bd336d5-e0c6-49d9-b902-d3dbdc463062   |
| tenant  | {u'id': u'010101', u'name': u'010101'} |
+---------+----------------------------------------+</screen>
                  </informalexample>

                  <para>After you generate a token, the nova client automatically injects the token into any nova client
                    commands that you issue. </para>
                  <para>However, because the token expires after 24 hours, you must generate a new token once a day.</para>
               </step>

               <step>
                  <para>Get the service catalog with a list of endpoints: </para>
                  <programlisting language="bash" role="gutter: false">$ nova endpoints</programlisting>
                  <para>For each service, the response includes the public URL, which is the endpoint that you use to access
                    the service, the region, service name, tenant ID, the version ID, and endpoints that you can use to get
                    version information for the API. </para>
                  <para>To access the Cloud Networks or next generation Cloud Servers service, use the <code>publicURL</code>
                    value for the <literal>cloudServersOpenStack</literal> service. </para>
                  <para>The following output shows the information returned for the DFW region for the Cloud Networks or next
                    generation Cloud Servers service:</para>

                  <informalexample>
                    <screen><?db-font-size 50%?>+-----------------------+------------------------------------------------------+
| cloudServersOpenStack | Value                                                |
+-----------------------+------------------------------------------------------+
| publicURL             | https://dfw.servers.api.rackspacecloud.com/v2/010101 |
| region                | DFW                                                  |
| serviceName           | cloudServersOpenStack                                |
| tenantId              | 010101                                               |
| versionId             | 2                                                    |
| versionInfo           | https://dfw.servers.api.rackspacecloud.com/v2        |
| versionList           | https://dfw.servers.api.rackspacecloud.com/          |
+-----------------------+------------------------------------------------------+</screen>
                  </informalexample>


                  <para>The <literal>cloudServersOpenStack</literal> service might show multiple endpoints to enable regional
                    choice. Select the appropriate endpoint for the region that you want to interact with by examining the
                        <literal>region</literal> field.</para>
               </step>
               <step>
                  <para>Copy the values in the <literal>publicURL</literal> and <literal>tenantId</literal> fields for the
                        <literal>cloudServersOpenStack</literal> service for your region.</para>

               </step>
            </procedure>
            <sidebar audience="gs">
               <para>
                  <emphasis role="bold">Next step:</emphasis>
                  <xref linkend="create_first_net"/>
               </para>
            </sidebar>
         </section>
         <?hard-pagebreak?>
         <section xml:id="curl_auth">
            <title>Authenticate with cURL</title>
            <para>To authenticate, you issue a <command>POST</command> 
               <command>/tokens</command> request to the appropriate Rackspace Cloud
            Identity Service endpoint. </para>
            <para>In the request body, supply one of the following sets of credentials:</para>
            <itemizedlist>
               <listitem>
                  <para>user name and password</para>
               </listitem>
               <listitem>
                  <para>user name and API key</para>
               </listitem>
            </itemizedlist>
            <para>Your username and password are the ones that you use to log into the Rackspace Cloud Control Panel. </para>
            <para>To obtain your API key, log into
            <link xlink:href="http://mycloud.rackspace.com." xml:id="newwin">http://mycloud.rackspace.com</link>, click your
            user name, and select <guilabel>API Keys</guilabel> to get your key.</para>
            <procedure>
               <title>To authenticate with cURL:</title>
               <step>
                  <para>Get an authentication token and a service catalog with a list of endpoints. </para>
                  <para>Use one of the following cURL commands to authenticate to the US Identity endpoint:</para>
                  <example>
                    <title>Authenticate with username and password: JSON request</title>
                    <programlisting language="bash" role="gutter: false"><?db-font-size 50%?>$ curl -s https://identity.api.rackspacecloud.com/v2.0/tokens -X 'POST' \
       -d '{"auth":{"passwordCredentials":{"username":"theUserName", "password":"thePassword"}}}' \
       -H "Content-Type: application/json" | python -m json.tool</programlisting>
                  </example>
                  <example>
                    <title>Authenticate with username and API key: JSON request</title>
                    <programlisting language="bash" role="gutter: false"><?db-font-size 50%?>$ curl -s https://identity.api.rackspacecloud.com/v2.0/tokens -X 'POST' \
       -d '{"auth":{"RAX-KSKEY:apiKeyCredentials":{"username":"theUserName", "apiKey":"0000000000000000000"}}}' \
       -H "Content-Type: application/json" | python -m json.tool</programlisting>
                  </example>
                  <tip>
                    <para>For information about the json.tool, see <xref linkend="json_tool"/>
                        .</para>
                  </tip>
                  <para>In response to valid credentials, your request returns an authentication token and a service catalog
                    with the endpoints to request services. </para>
                  <para>Do not include explicit API endpoints in your scripts and applications. Instead, find the endpoint for
                    your service and region. </para>
                  <para>The following output shows a partial authentication response in JSON format: <example>
                        <title>Authenticate: JSON response</title>
                        <programlistingco>
                            <areaspec>
                                <area xml:id="credentials.xml.endpoints"
                                    units="linecolumn"
                                    coords="46 32"/>
                                <area xml:id="credentials.xml.tenant" units="linecolumn" coords="50 47"/>
                                <area xml:id="credentials.xml.name" units="linecolumn" coords="64 50"/>
                                <area xml:id="credentials.xml.expires" units="linecolumn" coords="79 57"/>
                                <area xml:id="credentials.xml.token" units="linecolumn" coords="80 59"/>

                            </areaspec>
                            <programlisting language="json"><?db-font-size 55%?>{
    "access": {
        "serviceCatalog": [
            {
                "endpoints": [
                    {
                        "publicURL": "https://ord.loadbalancers.api.rackspacecloud.com/v1.0/010101", 
                        "region": "ORD", 
                        "tenantId": "010101"
                    }, 
                    {
                        "publicURL": "https://dfw.loadbalancers.api.rackspacecloud.com/v1.0/010101", 
                        "region": "DFW", 
                        "tenantId": "010101"
                    }
                ], 
                "name": "cloudLoadBalancers", 
                "type": "rax:load-balancer"
            }, 
            {
                "endpoints": [
                    {
                        "internalURL": "https://snet-storage101.dfw1.clouddrive.com/v1/MossoCloudFS_530f8649-324c-499c-a075-2195854d52a7", 
                        "publicURL": "https://storage101.dfw1.clouddrive.com/v1/MossoCloudFS_530f8649-324c-499c-a075-2195854d52a7", 
                        "region": "DFW", 
                        "tenantId": "MossoCloudFS_530f8649-324c-499c-a075-2195854d52a7"
                    }
                ], 
                "name": "cloudFiles", 
                "type": "object-store"
            }, 
            {
                "endpoints": [
                    {
                        "publicURL": "https://servers.api.rackspacecloud.com/v1.0/010101", 
                        "tenantId": "010101", 
                        "versionId": "1.0", 
                        "versionInfo": "https://servers.api.rackspacecloud.com/v1.0", 
                        "versionList": "https://servers.api.rackspacecloud.com/"
                    }
                ], 
                "name": "cloudServers", 
                "type": "compute"
            }, 
            {
                "endpoints": [
                    {
                        "publicURL": "https://dfw.servers.api.rackspacecloud.com/v2/010101", 
                        "region": "DFW", 
                        "tenantId": "010101", 
                        "versionId": "2", 
                        "versionInfo": "https://dfw.servers.api.rackspacecloud.com/v2", 
                        "versionList": "https://dfw.servers.api.rackspacecloud.com/"
                    }, 
                    {
                        "publicURL": "https://ord.servers.api.rackspacecloud.com/v2/010101", 
                        "region": "ORD", 
                        "tenantId": "010101", 
                        "versionId": "2", 
                        "versionInfo": "https://ord.servers.api.rackspacecloud.com/v2", 
                        "versionList": "https://ord.servers.api.rackspacecloud.com/"
                    }
                ], 
                "name": "cloudServersOpenStack", 
                "type": "compute"
            }, 
            {
                "endpoints": [
                    {
                        "publicURL": "https://dns.api.rackspacecloud.com/v1.0/010101", 
                        "tenantId": "010101"
                    }
                ], 
                "name": "cloudDNS", 
                "type": "rax:dns"
            }
        ], 
        "token": {
            "expires": "2012-08-14T12:31:16.000-05:00", 
            "id": "459a28e0-777f-416c-8f22-9f6598fabd2f", 
            "tenant": {
                "id": "010101", 
                "name": "010101"
            }
        }, 
        "user": {
            "id": "01010156", 
            "name": "MyRackspaceAcct", 
            "roles": [
                {
                    "description": "User Admin Role.", 
                    "id": "3", 
                    "name": "identity:user-admin"
                }
            ]
        }
    }
}</programlisting>
                        </programlistingco>
                    </example>
                  </para>
                  <para>Successful authentication returns the following information: <calloutlist>
                        <callout arearefs="credentials.xml.endpoints">
                            <para>
                              <emphasis role="bold">Endpoints to request Rackspace Cloud services</emphasis>. Appears in
                                the <code>endpoints</code> element in the <code>serviceCatalog</code> element. </para>
                            <para>Endpoints information includes the public URL, which is the endpoint that you use to access
                                the service, region, tenant ID, and version information. </para>
                            <para>To access the Cloud Networks or next generation Cloud Servers service, use the endpoint for
                                the <literal>cloudServersOpenStack</literal> service.</para>
                        </callout>
                        <callout arearefs="credentials.xml.tenant">
                            <para>
                              <emphasis role="bold">Tenant ID</emphasis>. Appears in the <literal>tenantId</literal>
                                field in the <literal>endpoints</literal> element. Also known as the account number. </para>
                            <para>You include the tenant ID in the endpoint URL when you call a Cloud service. </para>
                            <para>In the following example, you export the tenant ID, <literal>010101</literal>, to the
                                    <literal>account</literal> environment variable and the authentication token to the
                                    <literal>token</literal> environment variable. Then, you issue a cURL command, as
                                follows:</para>
                            <programlisting language="bash" role="gutter: false"><?db-font-size 60%?>$ export account="010101"
$ export token="00000000-0000-0000-000000000000"
$ curl -s https://dfw.servers.api.rackspacecloud.com/v2/$account/images/detail \
     -H "X-Auth-Token: $token" | python -m json.tool</programlisting>
                        </callout>
                        <callout arearefs="credentials.xml.name">
                            <para>
                              <emphasis role="bold">The name of the service</emphasis>. Appears in the <code>name</code>
                                field. </para>
                            <para>Locate the correct service name in the service catalog, as follows: </para>
                            <itemizedlist>
                                <listitem>
                                    <para>
                                    <emphasis role="bold">First generation Cloud Servers</emphasis>. Named
                                            <literal>cloudServers</literal> in the catalog.</para>
                                    <para>If you use the authentication token to access this service, you can view and
                                        perform first generation Cloud Servers API operations against your first generation Cloud Servers. </para>
                                </listitem>
                                <listitem>
                                    <para>
                                    <emphasis role="bold">Cloud Networks or next generation Cloud Servers</emphasis>.
                                        Named <literal>cloudServersOpenStack</literal> in the catalog.</para>
                                    <para>To access the Cloud Networks or next generation Cloud Servers service, use the
                                            <code>publicURL</code> value for the <literal>cloudServersOpenStack</literal>
                                        service.</para>
                                    <para>The service might show multiple endpoints to enable regional choice. Select the
                                        appropriate endpoint for the region that you want to interact with by examining the
                                            <literal>region</literal> field.</para>
                                    <para>If you use the authentication token to access this service, you can view and
                                        perform Cloud Networks or next generation Cloud Servers API operations against your next generation Cloud Servers. To complete
                                        Cloud Networks API operations, you must also get access to this service. To request
                                        access, click <link xlink:href="http://www.iwantcloudnetworks.com/">here</link>.
                                    </para>
                                </listitem>
                            </itemizedlist>
                        </callout>
                        <callout arearefs="credentials.xml.expires">
                            <para>
                              <emphasis role="bold">Expiration date and time for authentication token</emphasis>. Appears
                                in the <code>expires</code> field in the <code>token</code> element.</para>
                            <para>The authentication token expires after this date and time, unless it is revoked earlier.
                                After the token expires or is revoked, you must generate a new token if you want to continue
                                accessing Rackspace cloud services.</para>
                            <para>This field predicts the maximum lifespan for a token, but does not guarantee that the token
                                reaches that lifespan. Clients are encouraged to cache a token until it expires.</para>
                        </callout>
                        <callout arearefs="credentials.xml.token">
                            <para>
                              <emphasis role="bold">Authentication token</emphasis>. Appears in the <code>id</code> field
                                in the <code>token</code> element. </para>
                            <para>You pass the authentication token in the <code>X-Auth-Token</code> header each time that
                                you send a request to a service. </para>
                            <para>In the following example, you export the tenant ID, <literal>010101</literal>, to the
                                    <literal>account</literal> environment variable. You also export the authentication
                                token, <literal>00000000-0000-0000-000000000000</literal>, to the <literal>token</literal>
                                environment variable. Then, you issue a cURL command, as
                                follows:<programlisting language="bash" role="gutter: false"><?db-font-size 60%?>$ export account="010101"
$ export token="00000000-0000-0000-000000000000"
$ curl -s https://dfw.servers.api.rackspacecloud.com/v2/$account/images/detail \
     -H "X-Auth-Token: $token" | python -m json.tool</programlisting>
                           </para>
                        </callout>
                    </calloutlist>
                  </para>

               </step>
               <?sbr?>
               <step>
                  <para>Copy the values in the <literal>publicURL</literal> and <literal>tenantId</literal> fields for the
                        <literal>cloudServersOpenStack</literal> service for your region. </para>
                  <para>Copy the authentication token from the <literal>id</literal> field in the <literal>token</literal>
                    element. </para>
                  <para>In the next step, you set environment variables to these values. </para>
               </step>
            </procedure>

            <sidebar audience="gs">
               <para>
                  <emphasis role="bold">Next step: Chose one of the following steps: </emphasis>
                  <itemizedlist>
                    <listitem>
                        <para>
                           <xref linkend="export_env_vars"/>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                            <xref linkend="create_first_net"/>
                        </para>
                    </listitem>
                  </itemizedlist>
               </para>
            </sidebar>
         </section>
      </section>
      <section xml:id="export_env_vars"
               version="5.0"
               xml:base="chapters/net_curl_export_vars.xml">
         <title>(optional) Export environment variables to run cURL commands</title>
         <para>To run the cURL command examples in this guide, follow this procedure to export environment variables. </para>
         <para>Export your tenant ID and authentication token to environment variables. All cURL examples in this guide use these
        environment variables.</para>
         <procedure>
            <title>To export environment variables:</title>
            <step>
               <para>Export your tenant ID to the <literal>account</literal> environment variable:</para>
               <screen>$ export account="&lt;tenantId&gt;"</screen>
               <para>Where <parameter>tenantId</parameter> is the value in the <literal>tenantId</literal> field in the
                authentication response. </para>
            </step>
            <step>
               <para>Export your authentication token to the <literal>token</literal> environment variable:
                <screen>
                    $ export token="&lt;id&gt;"</screen>
                Where <parameter>id</parameter> is the authentication token value in the <literal>id</literal> field in the
                    <literal>token</literal> element in the authentication response. </para>
               <sidebar>
                  <para>
                     <emphasis role="bold">Next step: </emphasis>
                    <xref linkend="create_first_net"/>
                  </para>
               </sidebar>
            </step>
         </procedure>
      </section>
   </chapter>
    <chapter xml:id="create_first_net"
            version="5.0"
            xml:base="chapters/net_create_first_net.xml">
        <title>Create your first cloud network</title>
        <para>Before creating your first network, choose whether to use the neutron API or the nova-network API, because the
                sections in this chapter provide examples of creating a network depending on which API you choose. For help
                deciding, see <xref linkend="section_nova_v_neutron"/>.</para>
        <para>The following flow chart shows the steps for creating a network by using the neutron API and by using the
                nova-network API. These steps are detailed in this guide.<figure>
                        <title>Steps to create a network</title>
                        <mediaobject>
                                <imageobject>
                                        <imagedata contentwidth="3in" fileref="figures/2/a/figures/cfn-both-api.png"/>
                                </imageobject>
                        </mediaobject>
                </figure>
        </para>
        <para>The sections are also organized by example type. To simplify your path through this chapter, decide whether you
                prefer neutron-client or nova-client examples, or cURL examples.</para>
        <sidebar>
                <para>
            <emphasis role="bold">Next step:</emphasis> Choose one of the following methods:<itemizedlist>
                                <listitem>
                                        <para>
                     <xref linkend="cfn_neutron_neutron"/>
                  </para>
                                </listitem>
                                <listitem>
                                        <para>
                     <xref linkend="cfn_neutron_curl"/>
                  </para>
                                </listitem>
                                <listitem>
                                        <para>
                     <xref linkend="cfn_nova_nova"/>
                  </para>
                                </listitem>
                                <listitem>
                                        <para>
                     <xref linkend="cfn_nova_curl"/>
                  </para>
                                </listitem>
                        </itemizedlist>
         </para>
        </sidebar>
        <section xmlns:raxm="http://docs.rackspace.com/api/metadata"
               xml:id="cfn_neutron_neutron"
               version="5.0"
               xml:base="chapters/net_cfn_neutron_neutron.xml">
         <title>Create network with neutron API and neutron client</title>
         <para>These sections walk you through creating your network and subnet and then listing them by using the neutron
        client.</para>
         <sidebar>
            <para>
               <emphasis role="bold">Start here: </emphasis>
               <xref linkend="neutron_create_network_neutron"/>
            </para>
         </sidebar>

         <section xml:id="neutron_create_network_neutron">
            <title>Create a network (neutron API/neutron)</title>
            <para>To create a network, you specify a name for your network. After you create a network, copy its network ID. You
            use this ID to create a subnet or attach the network to a server or port.</para>
            <para>
               <procedure>
                  <title>To create a network</title>
                  <step>
                    <para>Issue the following neutron command:
                        <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                              $ neutron net-create amp</programlisting>
                     </para>
                    <para>
                        <emphasis role="bold">Positional arguments:</emphasis>
                     </para>
                    <para>
                        <itemizedlist>
                            <listitem>
                                <para>The network name. In this example, the name is <literal>amp</literal>.</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Output:</emphasis>
                     </para>
                    <para>The command returns the response, as shown in the following output:</para>
                    <informalexample>
                        <screen><?db-font-size 75%?>
+----------------+--------------------------------------+
| Field          | Value                                |
+----------------+--------------------------------------+
| admin_state_up | True                                 |
| id             | 29f52c7e-6efd-4335-a14a-db77d32a2555 |
| name           | amp                                  |
| shared         | False                                |
| status         | ACTIVE                               |
| subnets        |                                      |
| tenant_id      | 53501b3c25d34f8ea293c03298caed60     |
+----------------+--------------------------------------+</screen>
                    </informalexample>
                  </step>
                  <step>
                    <para>Copy the id value from the output. You will use this value when you create a subnet, provision your
                        server, or perform other related activities. In this example, the id is
                            <literal>29f52c7e-6efd-4335-a14a-db77d32a2555</literal>, but use the <parameter>id</parameter>
                        from your response.</para>
                  </step>
               </procedure>
            </para>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="neutron_create_subnet_neutron"/>
               </para>
            </sidebar>
         </section>
    
         <section xml:id="neutron_create_subnet_neutron">
            <title>Create a subnet (neutron API/neutron)</title>
            <para>To create a subnet, you specify a network, an IP address, and a name for your subnet. After you create a
            subnet, copy its subnet ID for future reference.</para>
            <para>
               <procedure>
                  <title>To create a subnet</title>
                  <step>
                    <para>Issue the following neutron command:
                        <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                               $ neutron subnet-create amp 120.1.2.0/24 --name Subamp</programlisting>
                     </para>
                    <para>
                        <emphasis role="bold">Positional arguments:</emphasis>
                     </para>
                    <para>
                        <itemizedlist>
                            <listitem>
                                <para>The network name. In this example, the name is <literal>amp</literal>.</para>
                            </listitem>
                            <listitem>
                                <para>The network CIDR. In this example, the CIDR is <literal>120.1.2.0/24</literal>.</para>
                            </listitem>
                            <listitem>
                                <para>
                                 <emphasis role="bold">name</emphasis> The subnet name. In this example, the name is
                                        <literal>Subamp</literal>.</para>
                            </listitem>
                        </itemizedlist>
                    </para>
                    <para>
                        <emphasis role="bold">Output:</emphasis>
                     </para>
                    <para>The command returns the response, as shown in the following output:</para>
                    <informalexample>
                        <screen><?db-font-size 75%?>
+------------------+----------------------------------------------+
| Field            | Value                                        |
+------------------+----------------------------------------------+
| allocation_pools | {"start": "120.1.2.2", "end": "120.1.2.254"} |
| cidr             | 120.1.2.0/24                                 |
| dns_nameservers  |                                              |
| enable_dhcp      | True                                         |
| gateway_ip       | 120.1.2.1                                    |
| host_routes      |                                              |
| id               | 23e3059e-4f39-4f7f-8cf2-c326e5de6c37         |
| ip_version       | 4                                            |
| name             | Subamp                                       |
| network_id       | 29f52c7e-6efd-4335-a14a-db77d32a2555         |
| tenant_id        | 53501b3c25d34f8ea293c03298caed60             |
+------------------+----------------------------------------------+</screen>
                    </informalexample>
                  </step>
                  <step>
                    <para>Copy the id value from the output. You will use this value when you create a subnet, provision your
                        server, or perform other related activities. In this example, the id is
                            <literal>23e3059e-4f39-4f7f-8cf2-c326e5de6c37</literal>, but use the <parameter>id</parameter>
                        from your response.</para>
                  </step>
               </procedure>
            </para>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="neutron_list_networks_neutron"/>
               </para>
            </sidebar>
         </section>
    
         <section xml:id="neutron_list_networks_neutron">
            <title>List networks (neutron API/neutron)</title>
            <para>The following steps shows you how to list networks and subnets using the neutron client.</para>
            <procedure>
               <title>To list networks</title>
               <step>
                  <para>Issue the following neutron client command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                            $ neutron net-list </programlisting>
                  </para>
                  <para>
                     <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>For each network, the command returns the result as shown in the following output</para>
                  <informalexample>
                    <screen><?db-font-size 75%?>
+--------------------------------------+---------+-----------------------------------------------------+
| id                                   | name    | subnets                                             |
+--------------------------------------+---------+-----------------------------------------------------+
| 29f52c7e-6efd-4335-a14a-db77d32a2555 | amp     | 23e3059e-4f39-4f7f-8cf2-c326e5de6c37 120.1.2.0/24   |
+--------------------------------------+---------+-----------------------------------------------------+</screen>
                  </informalexample>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="neutron_list_subnets_neutron"/>
               </para>
            </sidebar>
         </section>
    
         <section xml:id="neutron_list_subnets_neutron">
            <title>List subnets (neutron API/neutron)</title>
            <para>The following steps shows you how to list subnets using the neutron client.</para>
            <procedure>
               <title>To list subnets</title>
               <step>
                  <para>Issue the following neutron client command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                           $ neutron subnet-list </programlisting>
                  </para>
                  <para>
                     <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>For each subnet, the command returns the result as shown in the following output</para>
                  <informalexample>
                    <screen><?db-font-size 75%?>
+--------------------------------------+----------------+----------------+--------------------------------------------------+
| id                                   | name           | cidr           | allocation_pools                                 |
+--------------------------------------+----------------+----------------+--------------------------------------------------+
| 23e3059e-4f39-4f7f-8cf2-c326e5de6c37 | Subamp         | 120.1.2.0/24   | {"start": "120.1.2.2", "end": "120.1.2.254"}     |
+--------------------------------------+----------------+----------------+--------------------------------------------------+</screen>
                  </informalexample>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="boot_new_server"/>
               </para>
            </sidebar>
         </section>
      </section>
        <section xmlns:raxm="http://docs.rackspace.com/api/metadata"
               xml:id="cfn_neutron_curl"
               version="5.0"
               xml:base="chapters/net_cfn_neutron_curl.xml">
         <title>Create network with neutron API and cURL</title>
         <para>These sections walk you through creating your network and subnet and then listing them by using cURL.</para>
         <sidebar>
            <para>
               <emphasis role="bold">Start here: </emphasis>
               <xref linkend="neutron_create_network_curl"/>
            </para>
         </sidebar>

         <section xml:id="neutron_create_network_curl">
            <title>Create a network (neutron API/cURL)</title>
            <para>After you create a network, copy its network ID. You use this ID to create a subnet or attach the network to a
            server.</para>
            <para>The neutron API allows only JSON formatting.</para>
            <procedure>
               <title>To create a network</title>
               <step>
                  <para>Issue the following cURL command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 70%?>
                            $ curl -s https://dfw.servers.api.rackspacecloud.com/v2.0/networks \
       -X POST \
       -H "Content-Type: application/json" \
       -H "Accept: application/json" \
       -H "X-Auth-Token: $token" \
       -d '{"network": {"name": "amp", "admin_state_up": "false"}}' | python -m json.tool</programlisting>
                  </para>
                  <para>In this cURL command, you specify several options. For information about options, see <xref linkend="curl_options"/>.</para>
                  <para>
                     <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>The operation returns the response body, as shown in the following JSON response:
                    <programlisting language="json"><?db-font-size 65%?>
{
   "network":{
      "status":"ACTIVE",
      "subnets":[
      ],
      "name":"amp",
      "provider:physical_network":null,
      "admin_state_up":true,
      "tenant_id":"53501b3c25d34f8ea293c03298caed60",
      "provider:network_type":"local",
      "shared":false,
      "id":"29f52c7e-6efd-4335-a14a-db77d32a2555",
      "provider:segmentation_id":null
   }
}
                            </programlisting>
                  </para>
               </step>
               <step>
                  <para>Copy the <literal>id</literal> value from the output. You will use this value when you create a subnet,
                    provision your server, or perform other related activities. In this example, the id is
                        <literal>29f52c7e-6efd-4335-a14a-db77d32a2555</literal>, but use the <parameter>id</parameter> from
                    your response.</para>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="neutron_create_subnet_curl"/>
               </para>
            </sidebar>
         </section>

         <section xml:id="neutron_create_subnet_curl">
            <title>Create a subnet (neutron API/cURL)</title>
            <para>To create a subnet, you specify a network, an IP address, and a name for your subnet. After you create a
            subnet, copy its subnet ID for future reference.</para>
            <procedure>
               <title>To create a subnet</title>
               <step>
                  <para>Issue the following cURL command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 70%?>
                            $ curl -s https://dfw.servers.api.rackspacecloud.com/v2.0/$account/subnets \
       -X POST \
       -H "Content-Type: application/json" \
       -H "Accept: application/json" \
       -H "X-Auth-Token: $token" \
       -d '{"subnets":[{"cidr":"120.1.2.0/24","ip_version":4,"network_id":"29f52c7e-6efd-4335-a14a-db77d32a2555"}]}' \
       | python -m json.tool</programlisting>
                  </para>
                  <para>In this cURL command, you specify several options. For information about options, see <xref linkend="curl_options"/>.</para>
                  <para>
                     <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>The operation returns the response body, as shown in the following JSON response:
                    <programlisting language="json"><?db-font-size 65%?>
{
   "subnet":
      {
      	"cidr":"120.1.2.0/24",
      	"ip_version":4,
      	"network_id":"29f52c7e-6efd-4335-a14a-db77d32a2555",
      	"allocation_pools":[
      	{
	        "end":"120.1.2.254",
	        "start":"120.1.2.2"
      	},
      	"dns_nameservers":[
      	],
      	"host_routes":[
      	],
      	"enable_dhcp":true,
      	"gateway_ip":"120.1.2.1",
      	"id":"23e3059e-4f39-4f7f-8cf2-c326e5de6c37",
      	"name":"Subamp",
      	"tenant_id":"53501b3c25d34f8ea293c03298caed60"
     }
}
                            </programlisting>
                  </para>
               </step>
               <step>
                  <para>Copy the <literal>id</literal> value from the output for future reference. In this example, the id is
                        <literal>23e3059e-4f39-4f7f-8cf2-c326e5de6c37</literal>, but use the <parameter>id</parameter> from
                    your response.</para>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="neutron_list_networks_curl"/>
               </para>
            </sidebar>
         </section>

         <section xml:id="neutron_list_networks_curl">
            <title>List networks (neutron API/cURL)</title>
            <para>The following step shows you how to list networks using cURL.</para>
            <procedure>
               <title>To list networks</title>
               <step>
                  <para>Issue the following cURL command: <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        $ curl https://dfw.servers.api.rackspacecloud.com/v2.0/$account/subnets \
       -X GET -H "X-Auth-Token: $token" | python -m json.tool</programlisting>
                    <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>The API operation returns a response body as shown in the following output:
                    <programlisting language="json"><?db-font-size 75%?>
{
   "networks":[
      {
	     "status":"ACTIVE",
	     "subnets":[
	       "23e3059e-4f39-4f7f-8cf2-c326e5de6c37 120.1.2.0/24"
	      ],
          "name":"amp",
          "provider:physical_network":null,
          "admin_state_up":true,
          "tenant_id":"53501b3c25d34f8ea293c03298caed60",
          "provider:network_type":"local"
          "router:external":true,
          "shared":true,
          "id":"29f52c7e-6efd-4335-a14a-db77d32a2555",
          "provider:segmentation_id":null
      }
   ]
}
                        </programlisting>
                  </para>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="neutron_list_subnets_curl"/>
               </para>
            </sidebar>
         </section>

         <section xml:id="neutron_list_subnets_curl">
            <title>List subnets (neutron API/cURL)</title>
            <procedure>
               <title>To list subnets</title>
               <step>
                  <para>Issue the following cURL command: <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        $ curl https://dfw.servers.api.rackspacecloud.com/v2.0/$account/subnets \
       -X GET -H "X-Auth-Token: $token" | python -m json.tool</programlisting>
                    <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>The API operation returns a response body as shown in the following output:
                    <programlisting language="json"><?db-font-size 75%?>
{
   "subnets":[
      {
	    "allocation_pools":[
       	   {
	          "end":"120.1.2.254",
	          "start":"120.1.2.2"
	       }
        ],
	   "cidr":"120.1.2.0/24",
	   "dns_nameservers":[
   	    ],
   	    "enable_dhcp":true,
   	    "gateway_ip":"120.1.2.1",
   	    "host_routes":[
   	    ],
   	    "id":"23e3059e-4f39-4f7f-8cf2-c326e5de6c37",
   	    "ip_version":4,    
	   "name":"Subamp",
   	    "network_id":"29f52c7e-6efd-4335-a14a-db77d32a2555",
   	    "tenant_id":"53501b3c25d34f8ea293c03298caed60"
      }
   ]
}
                        </programlisting>
                  </para>
               </step>
            </procedure>
            <!--            <sidebar>
                <para><emphasis role="bold">Next step: </emphasis><olink targetdoc="cn-gettingstarted"
                        targetptr="show_network_neutron">“Show network or subnet details”</olink></para>
            </sidebar>-->
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="boot_new_server"/>
               </para>
            </sidebar>
         </section>
      </section>
        <section xmlns:raxm="http://docs.rackspace.com/api/metadata"
               xml:id="cfn_nova_nova"
               version="5.0"
               xml:base="chapters/net_cfn_nova_nova.xml">
         <title>Create network with nova-network API and nova client</title>
         <para>These sections walk you through creating your network and subnet and then listing them and showing network details
        by using the nova-network client. </para>
         <sidebar>
            <para>
               <emphasis role="bold">Start here: </emphasis>
               <xref linkend="nova_create_network_nova"/>
            </para>
         </sidebar>
    
         <section xml:id="nova_create_network_nova">
            <title>Create a network (nova-network API/nova)</title>
            <para>To create a network, you specify a name for your network. After you create a network, copy its network ID. You
            use this ID to create a subnet or attach the network to a server or port.</para>
            <para>To create an isolated network, you specify a name for your network and a Classless Inter-Domain Routing
                (<glossterm>CIDR</glossterm>), which is a range of IP addresses used by a network. A CIDR address looks like
            a normal IP address except that it ends with a slash followed by a number. The number after the slash represents
            the number of addresses in the range. For more information, see
            <link xlink:href="http://www.rackspace.com/knowledge_center/article/using-cidr-notation">
                  <citetitle>CIDR
                Notation</citetitle>
               </link>.</para>
            <para>For a full list of limitations for creating networks, see the Limitations section in
            <link xlink:href="http://docs.rackspace.com/servers/api/v2/cn-releasenotes/content/nova-boot.html">
                  <citetitle>Cloud Networks Release Notes</citetitle>
               </link>.</para>
            <para>The following step shows you how to create an isolated network by using the nova client.</para>
            <procedure>
               <title>To create an isolated network</title>
               <step>
                  <para>Issue the following command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                            $ nova network-create amp 120.1.2.0/24</programlisting>
                  </para>
                  <para>
                     <emphasis role="bold">Positional arguments:</emphasis>
                  </para>
                  <para>
                    <itemizedlist>
                        <listitem>
                            <para>
                              <parameter>network_name</parameter>. In this example, the network name is
                                    <literal>amp</literal>.</para>
                        </listitem>
                        <listitem>
                            <para>
                              <parameter>cidr</parameter>. The IP block from which to allocate addresses. In this
                                example, the CIDR is <literal>120.1.2.0/24</literal>.</para>
                        </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                     <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>The command returns the CIDR, ID, and name for the new network, as shown in the following
                    output:</para>
                  <informalexample>
                    <screen><?db-font-size 75%?>
+----------+--------------------------------------+
| Property | Value                                |
+----------+--------------------------------------+
| cidr     | 120.1.2.0/24                         |
| id       | 29f52c7e-6efd-4335-a14a-db77d32a2555 |
| label    | amp                                  |
+----------+--------------------------------------+</screen>
                  </informalexample>

               </step>
               <step>
                  <para>Copy the id value from the output. In this example, the id value is
                        <literal>29f52c7e-6efd-4335-a14a-db77d32a2555</literal>, but use the value returned for your
                    network.</para>
                  <para>You will use this value when you provision your server.</para>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="nova_list_networks_nova"/>
               </para>
            </sidebar>
         </section>
    
         <section xml:id="nova_list_networks_nova">
            <title>List networks (nova-network API/nova)</title>
            <para>After you create an isolated network, list networks to make sure it is listed along with the Rackspace
            networks.</para>
            <para>For information about the Rackspace networks, see <xref linkend="networks"/>.</para>
            <para>The following steps shows you how to list networks by using the nova client.</para>
            <procedure>
               <title>To list networks</title>
               <step>
                  <para>Issue the following nova client command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        $ nova network-list </programlisting>
                  </para>
                  <para>
                     <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>For each network, the command returns the network ID, label, and <glossterm>CIDR</glossterm>, as shown
                    in the following output:</para>
                  <informalexample>
                    <screen><?db-font-size 75%?>
+--------------------------------------+-------------+----------------+
| ID                                   | Label       | CIDR           |
+--------------------------------------+-------------+----------------+
| 00000000-0000-0000-0000-000000000000 | public      |                |
| 11111111-1111-1111-1111-111111111111 | private     |                |
| 29f52c7e-6efd-4335-a14a-db77d32a2555 | amp         | 120.1.2.0/24   |
+--------------------------------------+-------------+----------------+</screen>
                  </informalexample>

                  <para>In the network list, ServiceNet is labeled as <literal>private</literal>, and PublicNet is labeled as
                        <literal>public</literal>.</para>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="nova_show_networks_nova"/>
               </para>
            </sidebar>
         </section>
    
         <section xml:id="nova_show_networks_nova">
            <title>Show network details (nova-network API/nova)</title>
            <para>The following step shows you how to show network details using the nova client.</para>
            <procedure>
               <title>To show information for a specified network ID</title>
               <step>
                  <para>Issue the following nova client command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        $ nova network 29f52c7e-6efd-4335-a14a-db77d32a2555</programlisting>
                  </para>
                  <para>
                     <emphasis role="bold">Positional argument:</emphasis>
                  </para>
                  <para>
                    <itemizedlist>
                        <listitem>
                            <para>The ID of the network for which you want to show information. In this case, the ID is
                                    <literal>29f52c7e-6efd-4335-a14a-db77d32a2555</literal>, but use your own network ID.
                            </para>
                        </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                     <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>The command returns the <glossterm>CIDR</glossterm>, network ID, and label, as shown in the following
                    output:</para>
                  <informalexample>
                    <screen>
+----------+--------------------------------------+
| Property | Value                                |
+----------+--------------------------------------+
| cidr     | 120.1.2.0/24                         |
| id       | 29f52c7e-6efd-4335-a14a-db77d32a2555 |
| label    | amp                                  |
+----------+--------------------------------------+</screen>
                  </informalexample>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="boot_new_server"/>
               </para>
            </sidebar>
         </section>
      </section>
        <section xmlns:raxm="http://docs.rackspace.com/api/metadata"
               xml:id="cfn_nova_curl"
               version="5.0"
               xml:base="chapters/net_cfn_nova_curl.xml">
         <title>Create network with nova-network API and cURL</title>
         <para>These sections walk you through creating your network and then listing networks and showing network details by
        using cURL.</para>
         <sidebar>
            <para>
               <emphasis role="bold">Start here: </emphasis>
               <xref linkend="nova_create_network_curl"/>
            </para>
         </sidebar>
         <section xml:id="nova_create_network_curl">
            <title>Create a network (nova-network API/cURL)</title>
            <para>To create a network, you specify a name for your network. After you create a network, copy its network ID. You
            use this ID to create a subnet or attach the network to a server or port.</para>
            <para>To create an isolated network, you specify a name for your network and a Classless Inter-Domain Routing
                (<glossterm>CIDR</glossterm>), which is a range of IP addresses used by a network. A CIDR address looks like
            a normal IP address except that it ends with a slash followed by a number. The number after the slash represents
            the number of addresses in the range. For more information, see
            <link xlink:href="http://www.rackspace.com/knowledge_center/article/using-cidr-notation">
                  <citetitle>CIDR
                Notation</citetitle>
               </link>.</para>
            <para>For a full list of limitations for creating networks, see the Limitations section in
            <link xlink:href="http://docs.rackspace.com/servers/api/v2/cn-releasenotes/content/nova-boot.html">
                  <citetitle>Cloud Networks Release Notes</citetitle>
               </link>.</para>
            <para>You can request a JSON or XML response when you issue a request in a cURL command with the nova-network
            API.</para>
            <para>The following procedures show you how to create an isolated network by using cURL.</para>
            <procedure>
               <title>To create an isolated network with JSON</title>
               <step>
                  <para>Issue the following cURL command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 70%?>
                            $ curl -s https://dfw.servers.api.rackspacecloud.com/v2/$account/os-networksv2 \
       -X POST \
       -H "X-Auth-Project-Id: $account" \
       -H "Content-Type: application/json" \
       -H "Accept: application/json" \
       -H "X-Auth-Token: $token" \
       -d '{"network": {"cidr": "120.1.2.0/24", "label": "amp"}}' | python -m json.tool</programlisting>
                  </para>
                  <para>In this cURL command, you specify several options. For information about options, see <xref linkend="curl_options"/>.</para>
                  <para>
                     <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>The response returns the <glossterm>CIDR</glossterm>, ID, and label for the isolated network, as shown
                    in the following JSON response:
                    <programlisting language="json"><?db-font-size 85%?>
{
    "network": {
        "cidr": "120.1.2.0/24",
        "id": "29f52c7e-6efd-4335-a14a-db77d32a2555",
        "label": "amp"
    }
}                        
                    </programlisting>
                  </para>
               </step>
               <step>
                  <para>Copy the ID value from the output. In this example, the ID value is
                        <literal>29f52c7e-6efd-4335-a14a-db77d32a2555</literal>, but use the value returned for your
                    network.</para>
                  <para>You will use this value when you show network details or create a new server.</para>
               </step>
            </procedure>
            <procedure>
               <title>To create an isolated network with XML</title>
               <step>
                  <para>Issue the following cURL command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 70%?>
                            $ curl -i https://dfw.servers.api.rackspacecloud.com/v2/$account/os-networksv2.xml \
          -X POST -H "X-Auth-Project-Id: $account" -H "Content-Type: application/xml" \
          -H "Accept: application/xml" \
          -H "X-Auth-Token: $token" \
          -d '&lt;network cidr="120.1.2.0/24" label="amp" /&gt;'</programlisting>
                  </para>
                  <para>
                     <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>The response returns the <glossterm>CIDR</glossterm>, ID, and label for the isolated network, as shown
                    in the following XML response:
                    <programlisting language="xml"><?db-font-size 85%?>
&lt;network&gt;
    &lt;cidr&gt;120.1.2.0/24&lt;/cidr&gt;
    &lt;id&gt;29f52c7e-6efd-4335-a14a-db77d32a2555&lt;/id&gt;
    &lt;label&gt;amp&lt;/label&gt;
&lt;/network&gt;                        
                    </programlisting>
                  </para>
               </step>
               <step>
                  <para>Copy the ID value from the output. In this example, the ID value is
                        <literal>29f52c7e-6efd-4335-a14a-db77d32a2555</literal>, but use the value returned for your
                    network.</para>
                  <para>You will use this value when you show network details or create a new server.</para>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="nova_list_networks_curl"/>
               </para>
            </sidebar>
         </section>

         <section xml:id="nova_list_networks_curl">
            <title>List networks (nova-network API/cURL)</title>
            <para>After you create an isolated network, list networks to make sure it is listed along with the Rackspace
            networks.</para>
            <para>For information about the Rackspace networks, see <xref linkend="networks"/>.</para>
            <para>You can request a JSON or XML response when you issue a request in a cURL command with the nova-network
            API.</para>
            <para>The following steps shows you how to list networks by using cURL.</para>
            <procedure>
               <title>To list networks with JSON</title>
               <step>
                  <para>Issue the following cURL command: <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        $ curl https://dfw.servers.api.rackspacecloud.com/v2/$account/os_networksv2 \
       -X GET -H "X-Auth-Token: $token" | python -m json.tool</programlisting>
                    <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>For each isolated network, the response returns the <glossterm>CIDR</glossterm>. Additionally, for
                    isolated networks and Rackspace networks, the response returns the network ID and label.
                    <programlisting language="json"><?db-font-size 85%?>
{
    "networks":[
        {
            "cidr":"120.1.2.0/24",
            "id":"29f52c7e-6efd-4335-a14a-db77d32a2555",
            "label":"amp"
        },
        {
            "id":"00000000-0000-0000-0000-000000000000",
            "label":"public"
        },
        {
            "id":"11111111-1111-1111-1111-111111111111",
            "label":"private"
        }
    ]
}                        
                    </programlisting>
                  </para>
               </step>
            </procedure>
            <procedure>
               <title>To list networks with XML</title>
               <step>
                  <para>Issue the following cURL command: <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        $ curl https://dfw.servers.api.rackspacecloud.com/v2/$account/os_networksv2.xml \
       -H "Content-Type: application/xml" \ 
       -H "Accept: application/xml" \
       -X GET -H "X-Auth-Token: $token"</programlisting>
                    <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>For each isolated network, the response returns the <glossterm>CIDR</glossterm>. Additionally, for
                    isolated networks and Rackspace networks, the response returns the network ID and label.
                    <programlisting language="xml"><?db-font-size 85%?>
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;networks&gt;
    &lt;network&gt;
        &lt;cidr&gt;120.1.2.0/24&lt;/cidr&gt;
        &lt;id&gt;29f52c7e-6efd-4335-a14a-db77d32a2555&lt;/id&gt;
        &lt;label&gt;amp&lt;/label&gt;
    &lt;/network&gt;
    &lt;network&gt;
        &lt;id&gt;00000000-0000-0000-0000-000000000000&lt;/id&gt;
        &lt;label&gt;public&lt;/label&gt;
    &lt;/network&gt;
    &lt;network&gt;
        &lt;id&gt;11111111-1111-1111-1111-111111111111&lt;/id&gt;
        &lt;label&gt;private&lt;/label&gt;
    &lt;/network&gt;
&lt;/networks&gt;                    
                    </programlisting>
                  </para>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="nova_show_networks_curl"/>
               </para>
            </sidebar>
         </section>

         <section xml:id="nova_show_networks_curl">
            <title>Show network details (nova-network API/cURL)</title>
            <para>The following step shows you how to show network details using cURL.</para>
            <para>You can request a JSON or XML response when you issue a request in a cURL command with the nova-network
            API.</para>
            <procedure>
               <title>To show information for a specified network ID with JSON</title>
               <step>
                  <para>Issue the following cURL command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 65%?>
                            $ curl https://dfw.servers.api.rackspacecloud.com/v2/$account/os-networksv2/29f52c7e-6efd-4335-a14a-db77d32a2555 \
        -X GET \
        -H "X-Auth-Project-Id: $account" \
        -H "Accept: application/json" \
        -H "Content-Type: application/json"\
        -H "X-Auth-Token: $token" | python -m json.tool</programlisting>
                  </para>
                  <para>
                     <emphasis role="bold">Positional argument:</emphasis>
                  </para>
                  <para>
                    <itemizedlist>
                        <listitem>
                            <para>The ID of the network for which you want to show information.</para>
                        </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                     <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>The API operation returns the <glossterm>CIDR</glossterm>, network ID, and label, as shown in the
                    following output:</para>

                  <programlisting language="json"><?db-font-size 85%?>
{
    "network": {
        "cidr": "120.1.2.0/24",
        "id": "29f52c7e-6efd-4335-a14a-db77d32a2555",
        "label": "amp"
    }
}                
                </programlisting>
               </step>
            </procedure>
            <procedure>
               <title>To show information for a specified network ID with XML</title>
               <step>
                  <para>Issue the following cURL command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 65%?>
                            $ curl https://dfw.servers.api.rackspacecloud.com/v2/$account/os-networksv2/29f52c7e-6efd-4335-a14a-db77d32a2555.xml \
        -X GET \
        -H "X-Auth-Project-Id: $account" \
        -H "Accept: application/xml" \
        -H "Content-Type: application/xml"\
        -H "X-Auth-Token: $token"</programlisting>
                  </para>
                  <para>
                     <emphasis role="bold">Positional argument:</emphasis>
                  </para>
                  <para>
                    <itemizedlist>
                        <listitem>
                            <para>The ID of the network for which you want to show information.</para>
                        </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                     <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>The API operation returns the <glossterm>CIDR</glossterm>, network ID, and label, as shown in the
                    following output:</para>

                  <programlisting language="xml"><?db-font-size 85%?>
&lt;network&gt;
    &lt;cidr&gt;120.1.2.0/24&lt;/cidr&gt;
    &lt;id&gt;29f52c7e-6efd-4335-a14a-db77d32a2555&lt;/id&gt;
    &lt;label&gt;amp&lt;/label&gt;
&lt;/network&gt;                    
                </programlisting>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="boot_new_server"/>
               </para>
            </sidebar>
         </section>
      </section>
   </chapter>
    <chapter version="5.0"
            xml:id="boot_new_server"
            xml:base="chapters/net_boot_new_server.xml">
        <title>Boot a new server with your cloud network</title>
        <para>Now that you have a cloud network, you can attach it a new server. Before booting your new server, choose
                whether to use the neutron API or the nova-network API. For help deciding, see <xref linkend="section_nova_v_neutron"/>. The sections in this chapter provide examples of creating a network using each
                API.</para>
        <para>The following flow chart shows the steps to attach a network and provision a server by using the neutron API
                and by using the nova-network API. These steps are detailed in this guide. </para>
        <note>
                <para>Both neutron and nova-network procedures include steps to provision a server and to list servers. These
                        two steps can be done only with the nova-network API. There is no neutron API equivalent. </para>
        </note>
        <figure>
                <title>Steps to provision a server with a network</title>
                <mediaobject>
                        <imageobject>
                                <imagedata contentwidth="3in" fileref="figures/3/a/figures/bns-both-api.png"/>
                        </imageobject>
                </mediaobject>
        </figure>
        <para>The sections are also organized by example type. To simplify your path through this chapter, decide whether you
                prefer neutron-client or nova-client examples, or cURL examples.</para>
        <sidebar>
                <para>
            <emphasis role="bold">Next step:</emphasis> Choose one of the following methods:<itemizedlist>
                                <listitem>
                                        <para>
                     <xref linkend="bns_neutron_neutron"/>
                  </para>
                                </listitem>
                                <listitem>
                                <para>
                     <xref linkend="bns_neutron_curl"/>
                  </para>
                        </listitem>
                                <listitem>
                                        <para>
                     <xref linkend="bns_nova_nova"/>
                  </para>
                                </listitem>
                                <listitem>
                                        <para>
                     <xref linkend="bns_nova_curl"/>
                  </para>
                                </listitem>
                        </itemizedlist>
         </para>
        </sidebar>
        <section xmlns:raxm="http://docs.rackspace.com/api/metadata"
               xml:id="bns_neutron_neutron"
               version="5.0"
               xml:base="chapters/net_bns_neutron_neutron.xml">
         <title>Boot server with neutron API and neutron client</title>
         <para>These sections walk you through creating a port for your network, listing the ports and showing the port details by
        using the neutron API. They also show the steps for provisioning a server with an attached port and for listing
        servers by using the nova-network API.</para>
         <note>
            <para>If you prefer to attach the network directly to a new server without using a port, see <xref linkend="bns_nova_nova"/> or
                <xref linkend="bns_nova_curl"/>. There
            are no neutron API operations for direct attachment of a network to the server without using ports.</para>
         </note>
         <sidebar>
            <para>
               <emphasis role="bold">Start here: </emphasis>
               <xref linkend="neutron_create_port_neutron"/>
            </para>
         </sidebar>

         <section xml:id="neutron_create_port_neutron">
            <title>Create a port (neutron API/neutron)</title>
            <para>Before you can attach port and network to a server, you need to create the port.</para>
            <para>To create a network, you specify a name for your port and the network name. After you create a port, copy its
            port ID. Use this ID to attach it to a new server.</para>
            <procedure>
               <title>To create a port</title>
               <step>
                  <para>Issue the following neutron command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
$ neutron port-create &lt;amp&gt; --name &lt;newport&gt;</programlisting>
                  </para>
                  <para>
                     <emphasis role="bold">Positional arguments:</emphasis>
                  </para>
                  <para>
                    <itemizedlist>
                        <listitem>
                            <para>The network name. In this example, the name is <literal>amp</literal>.</para>
                        </listitem>
                        <listitem>
                            <para>The port name. In this example, the port name is <literal>newport</literal>.</para>
                        </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                     <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>The command returns the response, as shown in the following output:</para>
                  <informalexample>
                    <screen><?db-font-size 75%?>
+-----------------------+----------------------------------------------------------------------------------+
| Field                 | Value                                                                            |
+-----------------------+----------------------------------------------------------------------------------+
| admin_state_up        | True                                                                             |
| allowed_address_pairs |                                                                                  |
| device_id             |                                                                                  |
| device_owner          |                                                                                  |
| fixed_ips             | {"subnet_id": "23e3059e-4f39-4f7f-8cf2-c326e5de6c37", "ip_address": "120.1.2.4"} |
| id                    | c23c2fff-c07f-4af0-bc37-8ad883231f7c                                             |
| mac_address           | fa:16:3e:a6:48:c4                                                                |
| name                  | newport                                                                          |
| network_id            | 29f52c7e-6efd-4335-a14a-db77d32a2555                                             |
| security_groups       | 7e768af1-f9e9-431e-823d-9477e593e345                                             |
| status                | DOWN                                                                             |
| tenant_id             | 53501b3c25d34f8ea293c03298caed60                                                 |
+-----------------------+----------------------------------------------------------------------------------+</screen>
                  </informalexample>
               </step>
               <step>
                  <para>Copy the id value from the output. You will use this value when you provision your server. In this
                    example, the port id is <literal>c23c2fff-c07f-4af0-bc37-8ad883231f7c</literal>.</para>
               </step>
            </procedure>

            <sidebar>
               <para>
                  <emphasis role="bold">Next step:</emphasis>
                  <xref linkend="neutron_list_ports_neutron"/>
               </para>
            </sidebar>
         </section>

         <section xml:id="neutron_list_ports_neutron">
            <title>List ports (neutron API/neutron)</title>
            <para>After you create a port, you may want to list ports to confirm creation.</para>
            <procedure>
               <title>To list ports</title>
               <step>
                  <para>Issue the following neutron client command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 85%?>
$ neutron port-list </programlisting>
                  </para>
                  <para>
                     <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>For each network, the command returns the result as shown in the following output</para>
                  <informalexample>
                    <screen><?db-font-size 75%?>
+--------------------------------------+---------+-------------------+----------------------------------------------------------------------------------+
| id                                   | name    | mac_address       | fixed_ips                                                                        |
+--------------------------------------+---------+-------------------+----------------------------------------------------------------------------------+
| c23c2fff-c07f-4af0-bc37-8ad883231f7c | newport | fa:16:3e:a6:48:c4 | {"subnet_id": "23e3059e-4f39-4f7f-8cf2-c326e5de6c37", "ip_address": "120.1.2.4"} |
| d272f4bf-06a7-419e-9f22-5ee4a3cbd7c2 |         | fa:16:3e:c1:a5:6a | {"subnet_id": "23e3059e-4f39-4f7f-8cf2-c326e5de6c37", "ip_address": "120.1.2.3"} |
| f4a83984-8b96-4701-8ddd-a464caf4b14e |         | fa:16:3e:6e:dc:9a | {"subnet_id": "23e3059e-4f39-4f7f-8cf2-c326e5de6c37", "ip_address": "120.1.2.2"} |
+--------------------------------------+---------+-------------------+----------------------------------------------------------------------------------+
                    </screen>
                  </informalexample>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="neutron_create_server_nova"/>
               </para>
            </sidebar>
         </section>

         <!--Writer:  Keep this sections in sync with xml:id="nova_create_server_nova". Content is basically same but command, 
        heading, and links are different-->
         <section xml:id="neutron_create_server_nova">
            <title>Provision a server with a port and an isolated network (nova-network API/nova)</title>
            <para>To create your new server and attach a port with an isolated network, you need the following
            information:</para>

            <itemizedlist>
               <listitem>
                  <para>The name of the new server. Use a name of your choice.</para>
               </listitem>
               <listitem>
                  <para>The image ID. For how to list images, see
                    <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-gettingstarted/content/list_images.html">
                    List Images</link>.</para>
               </listitem>
               <listitem>
                  <para>The flavor ID. For how to list flavors, see
                    <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-gettingstarted/content/list_flavors.html">
                    List Flavors</link>.</para>
               </listitem>
               <listitem>
                  <para>The network ID of your isolated network. This is the ID you copied in <xref linkend="nova_create_network_nova"/>
                  </para>
               </listitem>
            </itemizedlist>

            <para>You specify these values as parameters in a nova command or as attributes in the request body in a cURL
            command.</para>
            <note security="external">
               <para>You cannot attach an isolated network to an existing server. However, to work around this limitation, you
                can create an image of the server and build a new server based on that image. When you build the new server,
                you can attach the isolated network. For information, see
                <link xlink:href="http://www.rackspace.com/knowledge_center/article/attach-an-existing-cloud-server-to-a-cloud-network">
                     <citetitle>Attach a Cloud Network to an Existing Cloud Server</citetitle>
                  </link>.
                To use the create image API, see
                <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-devguide/content/Create_Image-d1e4655.html">
                Create Image</link>.</para>
            </note>
            <note>
               <para>You can use the Cloud Networks virtual interface extension to attach an isolated network to an existing server. For information, see <xref linkend="ch_gs_attach_network_to_server"/>.</para>
            </note>
            <procedure>
               <title>To provision a server and attach a port with a network</title>
               <step>
                  <para>Issue the following nova client command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 80%?>
$ nova boot ServerAmp --image 82e72de5-6366-4217-8c87-a570a9b17e73 --nic port-id=c23c2fff-c07f-4af0-bc37-8ad883231f7c --flavor 1</programlisting>
                  </para>
                  <?sbr?>
                  <para>
                     <emphasis role="bold">Output:</emphasis> The command returns information about the new server, as shown
                    in the following output:</para>
                  <informalexample>
                    <screen><?db-font-size 80%?>
+-------------------------+-----------------------------------------------------------------+
| Property                | Value                                                           |
+-------------------------+-----------------------------------------------------------------+
| OS-DCF:diskConfig       | AUTO                                                            |
| OS-EXT-STS:power_state  | 0                                                               |
| OS-EXT-STS:task_state   | scheduling                                                      |
| OS-EXT-STS:vm_state     | building                                                        |
| accessIPv4              |                                                                 |
| accessIPv6              |                                                                 |
| adminPass               | K3kviaHwhKqS                                                    |
| created                 | 2014-02-06T20:05:12Z                                            |
| flavor                  | m1.tiny (1)                                                     |
| hostId                  |                                                                 |
| id                      | fbcebd8c-5b4f-4087-a778-f5a6ffc4530f                            |
| image                   | cirros-0.3.0-x86_64-disk (82e72de5-6366-4217-8c87-a570a9b17e73) |
| metadata                | {}                                                              |
| name                    | ServerAmp                                                       |
| progress                | 0                                                               |
| security_groups         | default                                                         |
| status                  | BUILD                                                           |
| tenant_id               | 53501b3c25d34f8ea293c03298caed60                                |
| updated                 | 2014-02-06T20:05:12Z                                            |
| user_id                 | 28be72f8fc5b45589c93f55274e459ce                                |
+-------------------------+-----------------------------------------------------------------+</screen>
                  </informalexample>
               </step>
            </procedure>

            <sidebar>
               <para>
                  <emphasis role="bold">Next step:</emphasis>
                  <xref linkend="neutron_show_port_neutron"/>
               </para>
            </sidebar>
         </section>

         <section xml:id="neutron_show_port_neutron">
            <title>Show port details (neutron API/neutron)</title>
            <para>The following procedure shows you how to view details for a port.</para>
            <procedure>
               <title>To show information for a specified port ID</title>
               <step>
                  <para>Issue the following neutron client command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 80%?>
                        $ neutron port-show &lt;c23c2fff-c07f-4af0-bc37-8ad883231f7c&gt;</programlisting>
                  </para>
                  <para>
                    <emphasis role="bold">Positional argument:</emphasis>
                  </para>
                  <para>
                    <itemizedlist>
                        <listitem>
                            <para>The ID of the port for which you want to show information. To determine the port ID, issue
                                a <command>neutron</command>
                                <option>port-list</option> command. </para>
                        </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                    <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>The command returns the result as shown in the following output:</para>
                  <informalexample>
                    <screen><?db-font-size 80%?>
+-----------------------+----------------------------------------------------------------------------------+
| Field                 | Value                                                                            |
+-----------------------+----------------------------------------------------------------------------------+
| admin_state_up        | True                                                                             |
| allowed_address_pairs |                                                                                  |
| device_id             | 537805b0-7a04-4bbc-8040-812527b024bc                                             |
| device_owner          | compute:None                                                                     |
| extra_dhcp_opts       |                                                                                  |
| fixed_ips             | {"subnet_id": "23e3059e-4f39-4f7f-8cf2-c326e5de6c37", "ip_address": "120.1.2.4"} |
| id                    | c23c2fff-c07f-4af0-bc37-8ad883231f7c                                             |
| mac_address           | fa:16:3e:a6:48:c4                                                                |
| name                  | newport                                                                          |
| network_id            | 29f52c7e-6efd-4335-a14a-db77d32a2555                                             |
| security_groups       | 7e768af1-f9e9-431e-823d-9477e593e345                                             |
| status                | ACTIVE                                                                           |
| tenant_id             | 53501b3c25d34f8ea293c03298caed60                                                 |
+-----------------------+----------------------------------------------------------------------------------+
                    </screen>
                  </informalexample>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="bns_listserv_nova"/>
               </para>
            </sidebar>
         </section>

         <!--The following section to list servers is same for neutron/neutron and nova-network-nova so it is linked-->
         <!--<xi:include href="net_bns_listserv_nova.xml"/>-->

         <section xml:id="fakesectionclient">
            <title>fake section client</title>
            <!--<para><olink targetdoc="cn-gettingstarted" targetptr="bns_listserv_nova">“List servers (nova-network API/nova
                client)”</olink></para>-->

        
                <para>missing content here</para>
            

            <!--        <xi:include href="net_bns_listserv_nova.xml" xpointer="bns_listserv_nova" xmlns:xi="http://www.w3.org/2001/XInclude">
            <xi:fallback>
                <para>missing content there</para>
            </xi:fallback>
        </xi:include>-->

            <!--<xi:include href="net_bns_listserv_nova.xml" xpointer="(xml:id='bns_listserv_nova')" xmlns:xi="http://www.w3.org/2001/XInclude">
            <xi:fallback>
                <para>missing content</para>
            </xi:fallback>
        </xi:include>-->

            <para/>
         </section>

      </section>
        <section xmlns:raxm="http://docs.rackspace.com/api/metadata"
               xml:id="bns_neutron_curl"
               version="5.0"
               xml:base="chapters/net_bns_neutron_curl.xml">
         <title>Boot server with neutron API and cURL</title>
         <para>These sections walk you through creating a port for your network, listing the ports and showing the port details by
        using the neutron API. They also show the steps for provisioning a server with an attached port and for listing
        servers by using the nova-network API.</para>
         <note>
            <para>If you prefer to attach the network directly to a new server without using a port, see <xref linkend="bns_nova_nova"/> or
                <xref linkend="bns_nova_curl"/>. There
            are no neutron API operations for direct attachment of a network to the server without using ports.</para>
         </note>
         <sidebar>
            <para>
               <emphasis role="bold">Start here: </emphasis>
               <xref linkend="neutron_create_port_curl"/>
            </para>
         </sidebar>

         <section xml:id="neutron_create_port_curl">
            <title>Create a port (neutron API/cURL)</title>
            <para>Before you can attach port and network to a server, you need to create the port.</para>
            <para>To create a network, you specify a name for your port and the network name. After you create a port, copy its
            port ID. Use this ID to attach it to a new server.</para>
            <procedure>
               <title>To create a port</title>
               <step>
                  <para>Issue the following cURL command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 70%?>
                            $ curl -s https://dfw.servers.api.rackspacecloud.com/v2.0/ports \
       -X POST \
       -H "Content-Type: application/json" \
       -H "Accept: application/json" \
       -H "X-Auth-Token: $token" \
       -d '{"port": {"name":"newport","network_id": "29f52c7e-6efd-4335-a14a-db77d32a2555"}}| python -m json.tool</programlisting>
                  </para>
                  <para>In this cURL command, you specify several options. For information about options, see <xref linkend="curl_options"/>.</para>
                  <para>
                     <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>The operation returns the response body, as shown in the following JSON response:
                    <programlisting language="json"><?db-font-size 75%?>
{
   "port":[
      {
         "status":"DOWN",
         "binding:host_id":null,
         "name":"newport",
         "admin_state_up":true,
         "network_id":"29f52c7e-6efd-4335-a14a-db77d32a2555",
         "tenant_id":"53501b3c25d34f8ea293c03298caed60",
         "binding:vif_type":"ovs",
         "device_owner":"",
         "binding:capabilities":{
            "port_filter":true
         },
         "mac_address":"fa:16:3e:a6:48:c4",
         "fixed_ips":[
            {"subnet_id": "23e3059e-4f39-4f7f-8cf2-c326e5de6c37", 
            "ip_address": "120.1.2.4"} 
         ],
         "id":"c23c2fff-c07f-4af0-bc37-8ad883231f7c",
         "security_groups":[
            "7e768af1-f9e9-431e-823d-9477e593e345"
         ],
         "device_id":""
      }
   ]
}

                    </programlisting>
                  </para>
               </step>
               <step>
                  <para>Copy the ID value from the output. You will use this value when you provision your server. In this
                    example, the port ID is <literal>c23c2fff-c07f-4af0-bc37-8ad883231f7c</literal>, but use the value from
                    your response.</para>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step:</emphasis>
                  <xref linkend="neutron_list_ports_curl"/>
               </para>
            </sidebar>
         </section>

         <section xml:id="neutron_list_ports_curl">
            <title>List ports (neutron API/cURL)</title>
            <para>After you create a port, you may want to list ports to confirm creation.</para>
            <para>The following steps shows you how to list networks and subnets using cURL.</para>
            <procedure>
               <title>To list ports</title>
               <step>
                  <para>Issue the following cURL command: <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        $ curl https://dfw.servers.api.rackspacecloud.com/v2.0/$account/ports \
       -X GET -H "X-Auth-Token: $token" | python -m json.tool</programlisting>
                    <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>The API operation returns a response body as shown in the following output:
                    <programlisting language="json"><?db-font-size 75%?>
{
   "ports":[
      {
         "status":"ACTIVE",
         "name":"newport",
         "admin_state_up":true,
         "network_id":"29f52c7e-6efd-4335-a14a-db77d32a2555",
         "tenant_id":"53501b3c25d34f8ea293c03298caed60",
         "binding:vif_type":"ovs",
         "device_owner":"compute:None",
         "binding:capabilities":{
            "port_filter":false
         },
         "mac_address":"fa:16:3e:a6:48:c4",
         "fixed_ips":[
            {
               "subnet_id":"23e3059e-4f39-4f7f-8cf2-c326e5de6c37",
               "ip_address":"120.1.2.4"
            }
         ],
         "id":"c23c2fff-c07f-4af0-bc37-8ad883231f7c",
         "device_id":"f288bb5f-920d-4276-8345-2c0319c16f58"
      },
      {
         "status":"DOWN",
         "name":"",
         "admin_state_up":true,
         "network_id":"29f52c7e-6efd-4335-a14a-db77d32a2555",
         "tenant_id":"53501b3c25d34f8ea293c03298caed60",
         "binding:vif_type":"ovs",
         "device_owner":"network:router_gateway",
         "binding:capabilities":{
            "port_filter":false
         },
         "mac_address":"fa:16:3e:c1:a5:6a",
         "fixed_ips":[
            {
               "subnet_id":"23e3059e-4f39-4f7f-8cf2-c326e5de6c37",
               "ip_address":"120.1.2.3"
            }
         ],
         "id":"d272f4bf-06a7-419e-9f22-5ee4a3cbd7c2",
         "device_id":"0dc517bf-9169-4aa6-88b7-569219962881"
      },
      {
         "status":"ACTIVE",
         "name":"",
         "admin_state_up":true,
         "network_id":"29f52c7e-6efd-4335-a14a-db77d32a2555",
         "tenant_id":"53501b3c25d34f8ea293c03298caed60",
         "binding:vif_type":"ovs",
         "device_owner":"network:router_interface",
         "binding:capabilities":{
            "port_filter":false
         },
         "mac_address":" fa:16:3e:6e:dc:9a",
         "fixed_ips":[
            {
               "subnet_id":"23e3059e-4f39-4f7f-8cf2-c326e5de6c37",
               "ip_address":"120.1.2.2"
            }
         ],
         "id":"f4a83984-8b96-4701-8ddd-a464caf4b14e",
         "device_id":"0dc517bf-9169-4aa6-88b7-569219962881"
      }
   ]
}
                    </programlisting>
                  </para>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="neutron_create_server_curl"/>
               </para>
            </sidebar>
         </section>

         <!--Writer:  Keep this sections in sync with xml:id="nova_create_server_curl". Content is basically same but command, 
        heading, and links are different-->
         <section xml:id="neutron_create_server_curl">
            <title>Provision a server with a port and an isolated network (neutron API/cURL)</title>
            <para>To create your new server and attach a port with an isolated network, you need the following
            information:</para>

            <itemizedlist>
               <listitem>
                  <para>The name of the new server. Use a name of your choice.</para>
               </listitem>
               <listitem>
                  <para>The image ID. For how to list images, see
                    <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-gettingstarted/content/list_images.html">
                    List Images</link>.</para>
               </listitem>
               <listitem>
                  <para>The flavor ID. For how to list flavors, see
                    <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-gettingstarted/content/list_flavors.html">
                    List Flavors</link>.</para>
               </listitem>
               <listitem>
                  <para>The network ID of your isolated network. This is the ID you copied in <xref linkend="nova_create_network_nova"/>
                  </para>
               </listitem>
            </itemizedlist>

            <para>You specify these values as parameters in a nova command or as attributes in the request body in a cURL
            command.</para>
            <note security="external">
               <para>You cannot attach an isolated network to an existing server. However, to work around this limitation, you
                can create an image of the server and build a new server based on that image. When you build the new server,
                you can attach the isolated network. For information, see
                <link xlink:href="http://www.rackspace.com/knowledge_center/article/attach-an-existing-cloud-server-to-a-cloud-network">
                     <citetitle>Attach a Cloud Network to an Existing Cloud Server</citetitle>
                  </link>.
                To use the create image API, see
                <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-devguide/content/Create_Image-d1e4655.html">
                Create Image</link>.</para>
            </note>
            <note>
               <para>You can use the Cloud Networks virtual interface extension to attach an isolated network to an existing server. For information, see <xref linkend="ch_gs_attach_network_to_server"/>.</para>
            </note>
            <procedure>
               <title>To provision a server and attach a port with a network by using JSON</title>
               <step>
                  <para>Issue the following cURL
                    command:<programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                            $ curl https://dfw.servers.api.rackspacecloud.com/v2/$account/servers \
         -X POST \
         -H "X-Auth-Project-Id: $account" \
         -H "Content-Type: application/json" \
         -H "Accept: application/json" \
         -H "X-Auth-Token: $token" \
         -d '{"server": {"name": "ServerAmp", "imageRef": "82e72de5-6366-4217-8c87-a570a9b17e73", "flavorRef": "1", "max_count": 1, "min_count": 1, "port": {"id": "c23c2fff-c07f-4af0-bc37-8ad883231f7c"}}}' \
         | python -m json.tool</programlisting>
                  </para>
                  <para>
                     <emphasis role="bold">Output:</emphasis> The API operation returns information about the new server, as
                    shown in the following output:</para>
                  <programlisting language="json"><?db-font-size 75%?>
{
    "server": {
        "OS-DCF:diskConfig": "MANUAL", 
        "adminPass": "4PkrqfdmuuKy", 
        "id": "537805b0-7a04-4bbc-8040-812527b024bc", 
        "links": [
            {
                "href": "https://dfw.servers.api.rackspacecloud.com/v2/010101/servers/537805b0-7a04-4bbc-8040-812527b024bc", 
                "rel": "self"
            }, 
            {
                "href": "https://dfw.servers.api.rackspacecloud.com/010101/servers/537805b0-7a04-4bbc-8040-812527b024bc", 
                "rel": "bookmark"
            }
        ]
    }
}    
                    </programlisting>
               </step>
            </procedure>
            <!-- Commented out since neutron doesn't use xml at all, it made sense to not show the xml here, even though
            this is nova-network API and xml does work.  Unhide at will -->
            <!--        <procedure>
            <title>To provision a server and attach a port with a network by using XML</title>
            <step>
                <para>Issue the following cURL
                    command:<programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                            <prompt>$</prompt> curl -i https://dfw.servers.api.rackspacecloud.com/v2/$account/servers.xml \
        -X POST \
        -H "X-Auth-Project-Id: $account" \
        -H "Content-Type: application/xml" \
        -H "Accept: application/xml" \
        -H "X-Auth-Token: $token" \
        -d '&lt;?xml version="1.0" encoding="UTF-8"?>&lt;server xmlns="http://docs.openstack.org/compute/api/v1.1" imageRef="82e72de5-6366-4217-8c87-a570a9b17e73" flavorRef="1" name="ServerAmp">&lt;ports>&lt;id>c23c2fff-c07f-4af0-bc37-8ad883231f7c>&lt;/server>'</programlisting></para>
                <para><emphasis role="bold">Output:</emphasis> The API operation returns information about the new
                    server, as shown in the following output:</para>
                <programlisting language="xml"><?db-font-size 75%?>
&lt;server>
    xmlns:OS-DCF="http://docs.openstack.org/compute/ext/disk_config/api/v1.1"
    xmlns:atom="http://www.w3.org/2005/Atom"
    xmlns="http://docs.openstack.org/compute/api/v1.1"
    id="fbcebd8c-5b4f-4087-a778-f5a6ffc4530f" 
    adminPass="K3kviaHwhKqS"
    OS-DCF:diskConfig="AUTO">
    &lt;metadata/>
    &lt;atom:link
        href="https://dfw.servers.api.rackspacecloud.com/v2/010101/servers/fbcebd8c-5b4f-4087-a778-f5a6ffc4530f"
        rel="self"/>
    &lt;atom:link
        href="https://dfw.servers.api.rackspacecloud.com/010101/servers/fbcebd8c-5b4f-4087-a778-f5a6ffc4530f"
        rel="bookmark"/>
&lt;/server>
                    </programlisting>
            </step>
        </procedure>-->
            <sidebar>
               <para>
                  <emphasis role="bold">Next step:</emphasis>
                  <xref linkend="neutron_show_port_curl"/>
               </para>
            </sidebar>
         </section>

         <section xml:id="neutron_show_port_curl">
            <title>Show port details (neutron API/cURL)</title>
            <para>The following steps shows you how to view details for a port using cURL.</para>
            <procedure>
               <title>To show information for a specified port ID</title>
               <step>
                  <para>Issue the following cURL command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 65%?>
                            $ curl https://dfw.servers.api.rackspacecloud.com/v2.0/$account/ports/c23c2fff-c07f-4af0-bc37-8ad883231f7c \
        -X GET \
        -H "X-Auth-Project-Id: $account" \
        -H "Accept: application/json" \
        -H "Content-Type: application/json"\
        -H "X-Auth-Token: $token" | python -m json.tool</programlisting>
                  </para>
                  <para>
                     <emphasis role="bold">Positional argument:</emphasis>
                  </para>
                  <para>
                    <itemizedlist>
                        <listitem>
                            <para>The ID of the network for which you want to show information. To determine the network ID,
                                issue a <command>neutron</command>
                                <option>network-list</option> command. </para>
                        </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                     <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>The API operation returns a response body as shown in the following output:</para>

                  <programlisting language="json"><?db-font-size 75%?>
{
   "port":[
      {
         "status":"ACTIVE",
         "name":"newport",
         "admin_state_up":true,
         "network_id":"29f52c7e-6efd-4335-a14a-db77d32a2555",
         "tenant_id":"53501b3c25d34f8ea293c03298caed60",
         "binding:vif_type":"ovs",
         "device_owner":"compute:None",
         "binding:capabilities":{
            "port_filter":false
         },
         "mac_address":"fa:16:3e:a6:48:c4",
         "fixed_ips":[
            {
               "subnet_id":"23e3059e-4f39-4f7f-8cf2-c326e5de6c37",
               "ip_address":"120.1.2.4"
            }
         ],
         "id":"c23c2fff-c07f-4af0-bc37-8ad883231f7c",
         "device_id":"537805b0-7a04-4bbc-8040-812527b024bc"
      }
   ]
}
                </programlisting>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="bns_listserv_curl"/>
               </para>
            </sidebar>
         </section>

         <!--The following section to list servers is same for neutron/neutron and nova-network-nova so it is linked-->
         <!--<xi:include href="net_bns_listserv_curl.xml"/>-->

         <section xml:id="fakesectioncurl">
            <title>fake section cURL</title>
            <para>
               <xref linkend="bns_listserv_curl"/>
            </para>
         </section>
      </section>
        <section xmlns:raxm="http://docs.rackspace.com/api/metadata"
               xml:id="bns_nova_nova"
               version="5.0"
               xml:base="chapters/net_bns_nova_nova.xml">
         <title>Boot server with nova-network API and nova client</title>
         <para>These sections walk you through the steps to provision a new server, attaching the network directly to the server,
        and to list your servers by using the nova-network API.</para>
         <sidebar>
            <para>
               <emphasis role="bold">Start here: </emphasis>
               <xref linkend="nova_create_server_nova"/>
            </para>
         </sidebar>

         <!--Writer:  Keep this sections in sync with xml:id="neutron_create_server_nova". Content is basically same but command, 
        heading, and links are different-->
         <section xml:id="nova_create_server_nova">
            <title>Provision a server with an isolated network (nova-network API/nova client)</title>
            <para>To create your new server and attach an isolated network, you need the following information: </para>

            <itemizedlist>
               <listitem>
                  <para>The name of the new server. Use a name of your choice.</para>
               </listitem>
               <listitem>
                  <para>The image ID. For how to list images, see
                    <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-gettingstarted/content/list_images.html">
                    List Images</link>.</para>
               </listitem>
               <listitem>
                  <para>The flavor ID. For how to list flavors, see
                    <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-gettingstarted/content/list_flavors.html">
                    List Flavors</link>.</para>
               </listitem>
               <listitem>
                  <para>The network ID of your isolated network. This is the ID you copied in <xref linkend="nova_create_network_nova"/>
                  </para>
               </listitem>
            </itemizedlist>

            <para>You specify these values as parameters in a nova command or as attributes in the request body in a cURL
            command.</para>
            <note security="external">
               <para>You cannot attach an isolated network to an existing server. However, to work around this limitation, you
                can create an image of the server and build a new server based on that image. When you build the new server,
                you can attach the isolated network. For information, see
                <link xlink:href="http://www.rackspace.com/knowledge_center/article/attach-an-existing-cloud-server-to-a-cloud-network">
                     <citetitle>Attach a Cloud Network to an Existing Cloud Server</citetitle>
                  </link>.
                To use the create image API, see
                <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-devguide/content/Create_Image-d1e4655.html">
                Create Image</link>.</para>
            </note>
            <note>
               <para>You can use the Cloud Networks virtual interface extension to attach an isolated network to an existing server. For information, see <xref linkend="ch_gs_attach_network_to_server"/>.</para>
            </note>

            <procedure>
               <title>To provision a server and attach an isolated network</title>
               <step>
                  <para>Issue the following nova client command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 80%?>
                            $ nova boot ServerAmp --flavor 1 --image 82e72de5-6366-4217-8c87-a570a9b17e73 --nic net-id=29f52c7e-6efd-4335-a14a-db77d32a2555</programlisting>
                  </para>
                  <?sbr?>
                  <para>
                     <emphasis role="bold">Output:</emphasis> The command returns information about the new server, as shown
                    in the following output:</para>
                  <informalexample>
                    <screen>
+-------------------------+-----------------------------------------------------------------+
| Property                | Value                                                           |
+-------------------------+-----------------------------------------------------------------+
| OS-DCF:diskConfig       | AUTO                                                            |
| OS-EXT-STS:power_state  | 0                                                               |
| OS-EXT-STS:task_state   | scheduling                                                      |
| OS-EXT-STS:vm_state     | building                                                        |
| accessIPv4              |                                                                 |
| accessIPv6              |                                                                 |
| adminPass               | K3kviaHwhKqS                                                    |
| created                 | 2014-02-06T20:05:12Z                                            |
| flavor                  | m1.tiny (1)                                                     |
| hostId                  |                                                                 |
| id                      | fbcebd8c-5b4f-4087-a778-f5a6ffc4530f                            |
| image                   | cirros-0.3.0-x86_64-disk (82e72de5-6366-4217-8c87-a570a9b17e73) |
| metadata                | {}                                                              |
| name                    | ServerAmp                                                       |
| progress                | 0                                                               |
| security_groups         | default                                                         |
| status                  | BUILD                                                           |
| tenant_id               | 53501b3c25d34f8ea293c03298caed60                                |
| updated                 | 2014-02-06T20:05:12Z                                            |
| user_id                 | 28be72f8fc5b45589c93f55274e459ce                                |
+-------------------------+-----------------------------------------------------------------+</screen>
                  </informalexample>

               </step>
            </procedure>

            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="bns_listserv_nova"/>
               </para>
            </sidebar>
         </section>

         <!--The following section to list servers is same for neutron/neutron and nova-network-nova so it is included-->
         <section xml:id="bns_listserv_nova"
                  version="5.0"
                  xml:base="net_bns_listserv_nova.xml">
            <title>List servers (nova-network API/nova client)</title>
            <para>After you provision your server, list servers to make sure the server and attached network are listed.</para>
            <procedure>
               <title>To list servers with the nova client</title>
               <step>
                  <para>Issue the following command:</para>
                  <programlisting language="bash" role="gutter: false">$ nova list</programlisting>
                  <para>For each server, the command returns the server ID, name, status, and addresses for any attached networks,
                as shown in the following output:</para>

                  <programlisting language="bash" role="gutter: false"><?db-font-size 60%?>
+--------------------------------------+----------------+--------+---------------------------------------------------------------------------------------+
| ID                                   | Name           | Status | Networks                                                                              |
+--------------------------------------+----------------+--------+---------------------------------------------------------------------------------------+
| 9da98125-0de8-4b84-880c-b42977c32773 | myUbuntuServer | ACTIVE | public=2001:4800:780d:0509:d87b:9cbc:ff04:488b, 198.101.231.59; private=10.179.224.74 |
| fbcebd8c-5b4f-4087-a778-f5a6ffc4530f | ServerAmp      | ACTIVE | public=2001:4800:780e:0510:d87b:9cbc:ff04:3e81, 120.1.2.0; private=10.180.13.75       |
+--------------------------------------+----------------+--------+---------------------------------------------------------------------------------------+</programlisting>
                  <para>The networks include any isolated networks that you have created and Rackspace public and private
                networks.</para>
               </step>
               <step>
                  <para>Servers are listed by server ID, and the addresses for any attached networks are displayed. Copy the server
                ID for your server in case you need to update or delete your server.</para>
                  <para>Use the public IP address when you log into your server.</para>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="ch_gs_attach_network_to_server"/>
               </para>
            </sidebar>
         </section>
      </section>
        <section xmlns:raxm="http://docs.rackspace.com/api/metadata"
               xml:id="bns_nova_curl"
               version="5.0"
               xml:base="chapters/net_bns_nova_curl.xml">
         <title>Boot server with nova-network API and cURL</title>
         <para>These examples walk you through the steps to boot a new server, attaching the network directly to the server, and
        to list your servers by using the nova-network API.</para>
         <sidebar>
            <para>
               <emphasis role="bold">Start here: </emphasis>
               <xref linkend="nova_create_server_curl"/>
            </para>
         </sidebar>
    
         <!--Writer:  Keep this sections in sync with xml:id="neutron_create_server_curl". Content is basically same but command, 
        heading, and links are different-->
         <section xml:id="nova_create_server_curl">
            <title>Provision a server with an isolated network (nova-network API/cURL)</title>
            <para>To create your new server and attach an isolated network, you need the following information: </para>

            <itemizedlist>
               <listitem>
                  <para>The name of the new server. Use a name of your choice.</para>
               </listitem>
               <listitem>
                  <para>The image ID. For how to list images, see
                    <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-gettingstarted/content/list_images.html">
                    List Images</link>.</para>
               </listitem>
               <listitem>
                  <para>The flavor ID. For how to list flavors, see
                    <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-gettingstarted/content/list_flavors.html">
                    List Flavors</link>.</para>
               </listitem>
               <listitem>
                  <para>The network ID of your isolated network. This is the ID you copied in <xref linkend="nova_create_network_nova"/>
                  </para>
               </listitem>
            </itemizedlist>

            <para>You specify these values as parameters in a nova command or as attributes in the request body in a cURL
            command.</para>
            <note security="external">
               <para>You cannot attach an isolated network to an existing server.
                However, to work around this limitation, you can create an image of the server and build a new server based
                on that image. When you build the new server, you can attach the isolated network. For information, see
                <link xlink:href="http://www.rackspace.com/knowledge_center/article/attach-an-existing-cloud-server-to-a-cloud-network">
                     <citetitle>Attach a Cloud Network to an Existing Cloud Server</citetitle>
                  </link>.
                To use the create image API, see
                <link xlink:href="http://docs.rackspace.com/servers/api/v2/cs-devguide/content/Create_Image-d1e4655.html">
                Create Image</link>.</para>
            </note>
            <note>
               <para>You can use the Cloud Networks virtual interface extension to attach an isolated network to an
                existing server. For information, see <xref linkend="ch_gs_attach_network_to_server"/>.</para>
            </note>
            <para>The following procedures show you how to create an isolated network by using cURL.</para>

            <procedure>
               <title>To provision a server and attach an isolated network with JSON</title>
               <step>
                  <para>Issue the following cURL
                    command:<programlisting language="bash" role="gutter: false"><?db-font-size 55%?>
                            $ curl https://dfw.servers.api.rackspacecloud.com/v2/$account/servers \
         -X POST \
         -H "X-Auth-Project-Id: $account" \
         -H "Content-Type: application/json" \
         -H "Accept: application/json" \
         -H "X-Auth-Token: $token" \
         -d '{"server": {"name": "ServerAmp", "imageRef": "82e72de5-6366-4217-8c87-a570a9b17e73", "flavorRef": "1", "max_count": 1, "min_count": 1, "networks": [{"uuid": "29f52c7e-6efd-4335-a14a-db77d32a2555"}, {"uuid": "00000000-0000-0000-0000-000000000000"}, {"uuid": "11111111-1111-1111-1111-111111111111"}]}}' \
         | python -m json.tool</programlisting>
                  </para>
                  <para>In addition to the isolated network, PublicNet and ServiceNet are attached to the server. You must
                    explicitly specify these networks to attach them to your server.</para>
                  <para>
                     <emphasis role="bold">Output:</emphasis> The API operation returns information about the new server, as
                    shown in the following output:</para>
                  <programlisting language="json"><?db-font-size 85%?>
{
    "server": {
        "OS-DCF:diskConfig": "AUTO", 
        "adminPass": "K3kviaHwhKqS", 
        "id": "fbcebd8c-5b4f-4087-a778-f5a6ffc4530f", 
        "links": [
            {
                "href": "https://dfw.servers.api.rackspacecloud.com/v2/53501b3c25d34f8ea293c03298caed60/servers/fbcebd8c-5b4f-4087-a778-f5a6ffc4530f", 
                "rel": "self"
            }, 
            {
                "href": "https://dfw.servers.api.rackspacecloud.com/53501b3c25d34f8ea293c03298caed60/servers/fbcebd8c-5b4f-4087-a778-f5a6ffc4530f", 
                "rel": "bookmark"
            }
        ]
    }
}                    
                </programlisting>
               </step>
            </procedure>
            <procedure>
               <title>To provision a server and attach an isolated network with XML</title>
               <step>
                  <para>Issue the following cURL
                    command:<programlisting language="bash" role="gutter: false"><?db-font-size 55%?>
                            $ curl -i https://dfw.servers.api.rackspacecloud.com/v2/$account/servers.xml \
        -X POST \
        -H "X-Auth-Project-Id: $account" \
        -H "Content-Type: application/xml" \
        -H "Accept: application/xml" \
        -H "X-Auth-Token: $token" \
        -d '&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;server xmlns="http://docs.openstack.org/compute/api/v1.1" imageRef="82e72de5-6366-4217-8c87-a570a9b17e73" flavorRef="1" name="ServerAmp"&gt;&lt;metadata&gt;&lt;meta key="My Server Name"&gt;API Test Server XML&lt;/meta&gt;&lt;/metadata&gt;&lt;networks&gt;&lt;uuid&gt;29f52c7e-6efd-4335-a14a-db77d32a2555&lt;/uuid&gt;&lt;uuid&gt;00000000-0000-0000-0000-000000000000&lt;/uuid&gt;&lt;uuid&gt;11111111-1111-1111-1111-111111111111&lt;/uuid&gt;&lt;/networks&gt;&lt;/server&gt;'</programlisting>
                  </para>
                  <para>In addition to the isolated network, PublicNet and ServiceNet are attached to the server. You must
                    explicitly specify these networks to attach them to your server.</para>
                  <para>
                     <emphasis role="bold">Output:</emphasis> The API operation returns information about the new server, as
                    shown in the following output:</para>
                  <programlisting language="xml"><?db-font-size 85%?>
&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;server
    xmlns:OS-DCF="http://docs.openstack.org/compute/ext/disk_config/api/v1.1"
    xmlns:atom="http://www.w3.org/2005/Atom"
    xmlns="http://docs.openstack.org/compute/api/v1.1"
    id="fbcebd8c-5b4f-4087-a778-f5a6ffc4530f" adminPass="K3kviaHwhKqS"
    OS-DCF:diskConfig="AUTO"&gt;
    &lt;metadata/&gt;
    &lt;atom:link
        href="https://dfw.servers.api.rackspacecloud.com/v2/53501b3c25d34f8ea293c03298caed60/servers/fbcebd8c-5b4f-4087-a778-f5a6ffc4530f"
        rel="self"/&gt;
    &lt;atom:link
        href="https://dfw.servers.api.rackspacecloud.com/53501b3c25d34f8ea293c03298caed60/servers/fbcebd8c-5b4f-4087-a778-f5a6ffc4530f"
        rel="bookmark"/&gt;
&lt;/server&gt;
                </programlisting>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step:</emphasis>
                  <xref linkend="bns_listserv_curl"/>
               </para>
            </sidebar>
         </section>

         <!--The following section to list servers is same for neutron/neutron and nova-network-nova so it is included-->
         <section xml:id="bns_listserv_curl"
                  version="5.0"
                  xml:base="net_bns_listserv_curl.xml">
            <title>List servers and attached networks (nova-network API/cURL)</title>
            <para>After you provision your server, list servers to make sure the server and attached network are listed.</para>
            <procedure>
               <title>To list servers' details with JSON</title>
               <step>
                  <para>Issue the following command:</para>
                  <programlisting language="bash" role="gutter: false"><?db-font-size 85%?>
                    $ curl -s https://dfw.servers.api.rackspacecloud.com/v2/$account/servers/detail \
       -H "X-Auth-Token: $token" | python -m json.tool</programlisting>
                  <para>For each server, the command returns the disk configuration, the addresses of any attached networks, flavor
                and image information, the server ID, and the server status. The networks include any isolated networks that
                you have created and Rackspace public and private networks.</para>
                  <para>The following output shows the list servers information, including information for the Ubuntu server that
                you just created:</para>
                  <programlisting language="json"><?db-font-size 80%?>{
    "servers": [
        {
            "OS-DCF:diskConfig": "AUTO", 
            "OS-EXT-STS:power_state": 0, 
            "OS-EXT-STS:task_state": "scheduling", 
            "OS-EXT-STS:vm_state": "building", 
            "accessIPv4": "", 
            "accessIPv6": "", 
            "addresses": {
                "private": [
                    {
                        "addr": "10.180.16.21", 
                        "version": 4
                    }
                ], 
                "public": [
                    {
                        "addr": "2001:4800:780e:0510:d87b:9cbc:ff04:4bac", 
                        "version": 6
                    }, 
                    {
                        "addr": "198.101.242.47", 
                        "version": 4
                    }
                ]
            }, 
            "created": "2012-08-16T17:11:43Z", 
            "flavor": {
                "id": "6", 
                "links": [
                    {
                        "href": "https://dfw.servers.api.rackspacecloud.com/010101/flavors/6", 
                        "rel": "bookmark"
                    }
                ]
            }, 
            "hostId": "692f611d2d84e5368b5995d7733ca5f175dc670eda91eded50a47eab", 
            "id": "1a861bf7-2a5e-40a4-acb3-1fb058cf2a74", 
            "image": {
                "id": "3afe97b2-26dc-49c5-a2cc-a2fc8d80c001", 
                "links": [
                    {
                        "href": "https://dfw.servers.api.rackspacecloud.com/010101/images/3afe97b2-26dc-49c5-a2cc-a2fc8d80c001", 
                        "rel": "bookmark"
                    }
                ]
            }, 
            "links": [
                {
                    "href": "https://dfw.servers.api.rackspacecloud.com/v2/010101/servers/1a861bf7-2a5e-40a4-acb3-1fb058cf2a74", 
                    "rel": "self"
                }, 
                {
                    "href": "https://dfw.servers.api.rackspacecloud.com/010101/servers/1a861bf7-2a5e-40a4-acb3-1fb058cf2a74", 
                    "rel": "bookmark"
                }
            ], 
            "metadata": {
                "My Server Name": "Ubuntu 11.10 server"
            }, 
            "name": "myUbuntuServer", 
            "progress": 75,  
            "status": "BUILD", 
            "tenant_id": "53501b3c25d34f8ea293c03298caed60", 
            "updated": "2012-08-16T17:14:50Z", 
            "user_id": "28be72f8fc5b45589c93f55274e459ce"
        }, 
        {
            "OS-DCF:diskConfig": "AUTO", 
            "OS-EXT-STS:power_state": 1, 
            "OS-EXT-STS:task_state": null, 
            "OS-EXT-STS:vm_state": "active", 
            "accessIPv4": "", 
            "accessIPv6": "", 
            "addresses": {
                "private": [
                    {
                        "addr": "10.180.13.75", 
                        "version": 4
                    }
                ], 
                "public": [
                    {
                        "addr": "2001:4800:780e:0510:d87b:9cbc:ff04:3e81", 
                        "version": 6
                    }, 
                    {
                        "addr": "120.1.2.0", 
                        "version": 4
                    }
                ]
            }, 
            "created": "2014-02-06T20:05:12Z", 
            "flavor": {
                "id": "1", 
                "links": [
                    {
                        "href": "https://dfw.servers.api.rackspacecloud.com/010101/flavors/1", 
                        "rel": "bookmark"
                    }
                ]
            }, 
            "hostId": "1d65b563fc573c2eb544319e0af598f2b2c5f84f75de252db3757cd3", 
            "id": "fbcebd8c-5b4f-4087-a778-f5a6ffc4530f", 
            "image": {
                "id": "82e72de5-6366-4217-8c87-a570a9b17e73", 
                "links": [
                    {
                        "href": "https://dfw.servers.api.rackspacecloud.com/53501b3c25d34f8ea293c03298caed60/images/82e72de5-6366-4217-8c87-a570a9b17e73", 
                        "rel": "bookmark"
                    }
                ]
            }, 
            "links": [
                {
                    "href": "https://dfw.servers.api.rackspacecloud.com/v2/53501b3c25d34f8ea293c03298caed60/servers/fbcebd8c-5b4f-4087-a778-f5a6ffc4530f", 
                    "rel": "self"
                }, 
                {
                    "href": "https://dfw.servers.api.rackspacecloud.com/53501b3c25d34f8ea293c03298caed60/servers/fbcebd8c-5b4f-4087-a778-f5a6ffc4530f", 
                    "rel": "bookmark"
                }
            ], 
            "metadata": {}, 
            "name": "ServerAmp", 
            "progress": 100, 
            "status": "ACTIVE", 
            "tenant_id": "53501b3c25d34f8ea293c03298caed60", 
            "updated": "2014-02-06T20:05:12Z", 
            "user_id": "28be72f8fc5b45589c93f55274e459ce"
        }
    ]
}</programlisting>
               </step>
               <step>
                  <para>Servers are listed by server ID, and the addresses for any attached networks are displayed. Copy the server
                ID for your server in case you need to update or delete your server.</para>
                  <para>Use the public IP address when you log into your server.</para>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="ch_gs_attach_network_to_server"/>
               </para>
            </sidebar>
         </section>
      </section>


        <!--<xi:include href="net_bns_neutron.xml"/>-->
        <!--<xi:include href="net_bns_nova.xml"/>-->
   </chapter>
    <chapter version="5.0"
            xml:id="ch_gs_attach_network_to_server"
            xml:base="chapters/net_attach_network_to_server.xml">
      <title>Attach your network to an existing server</title>
      <para>Before attaching your first network to a server, choose whether to use the Neutron API or the Nova-network API. For
        help deciding, see <xref linkend="section_nova_v_neutron"/>. The sections in this chapter provide examples of attaching a network to an existing
        server using each API.</para>
      <section xmlns:raxm="http://docs.rackspace.com/api/metadata"
               version="5.0"
               xml:id="attach_network_to_server_neutron"
               xml:base="chapters/net_ans_neutron.xml">
         <title>Neutron: Attach your network to an existing server</title>
         <para>How do we do this with Neutron? </para>
         <sidebar>
            <para>
               <emphasis role="bold">Next step: </emphasis>
               <xref linkend="delete_net"/>
            </para>
         </sidebar>
      </section>
      <section xmlns:raxm="http://docs.rackspace.com/api/metadata"
               version="5.0"
               xml:id="attach_network_to_server_nova"
               xml:base="chapters/net_ans_nova.xml">
         <title>Nova-network: Attach your network to an existing server</title>
         <para>Use the Cloud Networks virtual interface extension to create a virtual interface to a specified network and attach the network to an existing
        server instance with the nova-network API. </para>
         <para>You can create a maximum of one virtual interface per instance per network. </para>
         <para>You can also use the Cloud Networks virtual interface extension to:</para>
         <itemizedlist>
            <listitem>
               <para>List the virtual interfaces for a server instance.</para>
            </listitem>
            <listitem>
               <para>Delete a virtual interface and detach it from a server instance.</para>
            </listitem>
         </itemizedlist>
         <para>These examples walk you through the steps to create a virtual interface to a specified network and attach the
        network to an existing server instance. The simple exercises show you how to access the Cloud Networks virtual interface extension through nova
        client commands or cURL commands.</para>
         <para>The exercises also help you learn how cURL commands and the Cloud Networks API work. </para>

         <section version="5.0" xml:id="section_gs_install_vir_interface">
            <title>Install the Cloud Networks virtual interface extension</title>
            <procedure>
               <title>To install the Cloud Networks virtual interface extension</title>
               <step>
                  <title>Install the Cloud Networks virtual interface extension</title>
                  <para>The <literal>os_virtual_interfacesv2_python_novaclient_ext</literal> package contains the
                    Cloud Networks virtual interface extension.</para>
                  <para>Run the following command to install the package:</para>
                  <programlisting language="bash" role="gutter: false">
                    $ sudo pip install os_virtual_interfacesv2_python_novaclient_ext</programlisting>
                  <note>
                    <para>If you previously installed this package, run the following command to upgrade it:
                        <programlisting language="bash" role="gutter: false">
                            $ sudo pip install os_virtual_interfacesv2_python_novaclient_ext --upgrade
                        </programlisting>
                     </para>
                  </note>
               </step>
               <?sbr?>
               <step>
                  <title>Test the Cloud Networks virtual interface extension</title>
                  <para>To verify that you can talk to the API server, run the following commands.</para>
                  <para>First, authenticate:
                    <programlisting language="bash" role="gutter:false">
                        $ nova credentials </programlisting>
                  </para>
                  <para>Then, list networks:
                    <programlisting language="bash" role="gutter: false">
                        $ nova network-list </programlisting>Then,
                    list virtual interfaces:
                    <programlisting language="bash" role="gutter: false">
                        $ nova virtual-interface-list <replaceable>instance_id</replaceable>
                     </programlisting>
                  </para>
                  <para>Where <parameter>instance_id</parameter> is the ID of your server instance.</para>
               </step>
            </procedure>
         </section>
         <section xml:id="list_servers2">
            <title>List servers</title>
            <para>To get the ID of the server instance to which you want to attach a virtual interface, list the servers in your
            Cloud account. </para>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis> Choose one of the following methods:<itemizedlist>
                    <listitem>
                        <para>
                           <xref linkend="nova_list_servers2"/>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                           <xref linkend="curl_list_servers2"/>
                        </para>
                    </listitem>
                  </itemizedlist>
               </para>
            </sidebar>
            <?hard-pagebreak?>
            <section xml:id="nova_list_servers2">
               <title>List servers with the nova client</title>
               <procedure>
                  <title>To list servers with the nova client:</title>
                  <step>
                    <para>Issue the following command:</para>
                    <programlisting language="bash" role="gutter: false">
                        $ nova list</programlisting>
                    <para>For each server, the command returns the server ID, name, status, and public and private IP
                        addresses, as shown in the following output:</para>
                    <informalexample>
                        <screen><?db-font-size 40%?>+--------------------------------------+----------------+--------+---------------------------------------------------------------------------------------+
| ID                                   | Name           | Status | Networks                                                                              |
+--------------------------------------+----------------+--------+---------------------------------------------------------------------------------------+
| 9da98125-0de8-4b84-880c-b42977c32773 | myUbuntuServer | ACTIVE | public=2001:4800:780d:0509:d87b:9cbc:ff04:488b, 198.101.231.59; private=10.179.224.74 |
| a09e7493-7429-41e1-8d3f-384d7ece09c0 | UbuntuDevStack | ACTIVE | public=2001:4800:780e:0510:d87b:9cbc:ff04:3e81, 50.56.186.185; private=10.180.13.75   |
+--------------------------------------+----------------+--------+---------------------------------------------------------------------------------------+</screen>
                    </informalexample>
                  </step>
                  <step>
                    <para>Copy the ID for the server to which you want to connect a virtual interface. </para>
                  </step>
               </procedure>
               <sidebar>
                  <para>
                     <emphasis role="bold">Next step: </emphasis>
                    <xref linkend="list_networks2"/>
                  </para>
               </sidebar>
            </section>
            <?hard-pagebreak?>
            <section xml:id="curl_list_servers2">
               <title>List servers with cURL</title>
               <procedure>
                  <title>To list servers with cURL:</title>
                  <step>
                    <para>Issue the following command:</para>
                    <programlisting language="bash" role="gutter: false"><?db-font-size 60%?>
                        $ curl -s https://dfw.servers.api.rackspacecloud.com/v2/$account/servers/detail \
     -H "X-Auth-Token: $token" | python -m json.tool</programlisting>
                    <para>For each server, the command returns the disk configuration, private and public IP addresses,
                        flavor and image information, the server ID, and the server status. </para>
                    <para>The following output shows the list servers information:</para>
                    <programlisting language="json"><?db-font-size 60%?>{
    "servers": [
        {
            "OS-DCF:diskConfig": "AUTO", 
            "OS-EXT-STS:power_state": 0, 
            "OS-EXT-STS:task_state": "spawning", 
            "OS-EXT-STS:vm_state": "building", 
            "accessIPv4": "", 
            "accessIPv6": "", 
            "addresses": {
                "private": [
                    {
                        "addr": "10.180.16.21", 
                        "version": 4
                    }
                ], 
                "public": [
                    {
                        "addr": "2001:4800:780e:0510:d87b:9cbc:ff04:4bac", 
                        "version": 6
                    }, 
                    {
                        "addr": "198.101.242.47", 
                        "version": 4
                    }
                ]
            }, 
            "created": "2012-08-16T17:11:43Z", 
            "flavor": {
                "id": "6", 
                "links": [
                    {
                        "href": "https://dfw.servers.api.rackspacecloud.com/010101/flavors/6", 
                        "rel": "bookmark"
                    }
                ]
            }, 
            "hostId": "692f611d2d84e5368b5995d7733ca5f175dc670eda91eded50a47eab", 
            "id": "1a861bf7-2a5e-40a4-acb3-1fb058cf2a74", 
            "image": {
                "id": "3afe97b2-26dc-49c5-a2cc-a2fc8d80c001", 
                "links": [
                    {
                        "href": "https://dfw.servers.api.rackspacecloud.com/010101/images/3afe97b2-26dc-49c5-a2cc-a2fc8d80c001", 
                        "rel": "bookmark"
                    }
                ]
            }, 
            "links": [
                {
                    "href": "https://dfw.servers.api.rackspacecloud.com/v2/010101/servers/1a861bf7-2a5e-40a4-acb3-1fb058cf2a74", 
                    "rel": "self"
                }, 
                {
                    "href": "https://dfw.servers.api.rackspacecloud.com/010101/servers/1a861bf7-2a5e-40a4-acb3-1fb058cf2a74", 
                    "rel": "bookmark"
                }
            ], 
            "metadata": {
                "My Server Name": "Ubuntu 11.10 server"
            }, 
            "name": "myUbuntuServer", 
            "progress": 75, 
            "status": "BUILD", 
            "tenant_id": "010101", 
            "updated": "2012-08-16T17:14:50Z", 
            "user_id": "170454"
        }, 
        {
            "OS-DCF:diskConfig": "AUTO", 
            "OS-EXT-STS:power_state": 1, 
            "OS-EXT-STS:task_state": null, 
            "OS-EXT-STS:vm_state": "active", 
            "accessIPv4": "", 
            "accessIPv6": "", 
            "addresses": {
                "private": [
                    {
                        "addr": "10.180.13.75", 
                        "version": 4
                    }
                ], 
                "public": [
                    {
                        "addr": "2001:4800:780e:0510:d87b:9cbc:ff04:3e81", 
                        "version": 6
                    }, 
                    {
                        "addr": "50.56.186.185", 
                        "version": 4
                    }
                ]
            }, 
            "created": "2012-05-15T15:47:37Z", 
            "flavor": {
                "id": "6", 
                "links": [
                    {
                        "href": "https://dfw.servers.api.rackspacecloud.com/010101/flavors/6", 
                        "rel": "bookmark"
                    }
                ]
            }, 
            "hostId": "1d65b563fc573c2eb544319e0af598f2b2c5f84f75de252db3757cd3", 
            "id": "a09e7493-7429-41e1-8d3f-384d7ece09c0", 
            "image": {
                "id": "3afe97b2-26dc-49c5-a2cc-a2fc8d80c001", 
                "links": [
                    {
                        "href": "https://dfw.servers.api.rackspacecloud.com/010101/images/3afe97b2-26dc-49c5-a2cc-a2fc8d80c001", 
                        "rel": "bookmark"
                    }
                ]
            }, 
            "links": [
                {
                    "href": "https://dfw.servers.api.rackspacecloud.com/v2/010101/servers/a09e7493-7429-41e1-8d3f-384d7ece09c0", 
                    "rel": "self"
                }, 
                {
                    "href": "https://dfw.servers.api.rackspacecloud.com/010101/servers/a09e7493-7429-41e1-8d3f-384d7ece09c0", 
                    "rel": "bookmark"
                }
            ], 
            "metadata": {}, 
            "name": "UbuntuDevStack", 
            "progress": 100, 
            "status": "ACTIVE", 
            "tenant_id": "010101", 
            "updated": "2012-05-15T15:55:00Z", 
            "user_id": "170454"
        }
    ]
}</programlisting>
                  </step>
                  <step>
                    <para>Copy the ID for the server to which you want to connect a virtual interface. </para>
                  </step>
               </procedure>
               <sidebar>
                  <para>
                     <emphasis role="bold">Next step: </emphasis>
                    <xref linkend="list_networks2"/>
                  </para>
               </sidebar>
            </section>

         </section>
         <section xml:id="list_networks2">
            <title>List networks</title>
            <para>To get the ID of the network for which you want to create virtual interface, list the networks in your Cloud
            account. </para>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis> Choose one of the following methods:<itemizedlist>
                    <listitem>
                        <para>
                           <xref linkend="nova_list_networks2"/>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                           <xref linkend="curl_list_networks2"/>
                        </para>
                    </listitem>
                  </itemizedlist>
               </para>
            </sidebar>
            <section xml:id="nova_list_networks2">
               <title>List networks with the nova client</title>
               <procedure>
                  <title>To list networks with the nova client</title>
                  <step>
                    <para>Issue the following nova client command:</para>
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        $ nova network-list </programlisting>
                    <para>
                        <emphasis role="bold">Output:</emphasis>
                     </para>
                    <para>For each network, the command returns the network ID, label, and <glossterm>CIDR</glossterm>, as
                        shown in the following output:</para>
                    <informalexample>
                        <screen><?db-font-size 75%?>+--------------------------------------+-------------+----------------+
| ID                                   | Label       | CIDR           |
+--------------------------------------+-------------+----------------+
| 00000000-0000-0000-0000-000000000000 | public      |                |
| 11111111-1111-1111-1111-111111111111 | private     |                |
| 1f84c238-b05a-4374-a0cb-aa6140032cd1 | new_network | 192.168.0.0/24 |
+--------------------------------------+-------------+----------------+</screen>
                    </informalexample>
                    <para>In the network list, ServiceNet is labeled as <literal>private</literal>, and PublicNet is labeled
                        as <literal>public</literal>.</para>
                  </step>
                  <step>
                    <para>Copy the ID for the network for which you want to create a virtual interface. </para>
                  </step>
               </procedure>
               <sidebar>
                  <para>
                     <emphasis role="bold">Next step: </emphasis>
                    <xref linkend="create_virt_interface"/>
                  </para>
               </sidebar>
            </section>
            <?hard-pagebreak?>
            <section xml:id="curl_list_networks2">
               <title>List networks with cURL</title>
               <para>You can request a JSON or XML response when you issue a request in a cURL command.</para>
               <section xml:id="list_networks2_json">
                  <title>JSON request and response</title>
                  <procedure>
                    <title>To list networks and request a JSON response</title>
                    <step>
                        <para>Issue the following cURL command: <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                            $ curl https://dfw.servers.api.rackspacecloud.com/v2/$account/os-networksv2 \
       -X GET \
       -H "X-Auth-Token: $token" | python -m json.tool</programlisting>
                            <emphasis role="bold">Output:</emphasis>
                        </para>
                        <para>For each isolated network, the response returns the <glossterm>CIDR</glossterm>. Additionally,
                            for isolated networks and Rackspace networks, the response returns the network ID and label.
                            <programlisting language="json"><?db-font-size 75%?>
                                {
   "networks":[
      {
         "cidr":"192.168.0.0/24",
         "id":"1f84c238-b05a-4374-a0cb-aa6140032cd1",
         "label":"new_network"
      },
      {
         "id":"00000000-0000-0000-0000-000000000000",
         "label":"public"
      },
      {
         "id":"11111111-1111-1111-1111-111111111111",
         "label":"private"
      }
   ]
}</programlisting>
                        </para>
                    </step>
                    <step>
                        <para>Copy the ID for the network for which you want to create a virtual interface. </para>
                    </step>
                  </procedure>
                  <sidebar>
                    <para>
                        <emphasis role="bold">Next step: </emphasis>
                        <xref linkend="create_virt_interface"/>
                     </para>
                  </sidebar>
               </section>
               <section xml:id="list_networks2_xml">
                  <title>XML request and response</title>
                  <procedure>
                    <title>To list networks and request an XML response</title>
                    <step>
                        <para>Issue the following cURL command:<programlisting language="bash" role="gutter: false"><?db-font-size 75%?>curl -i https://dfw.servers.api.rackspacecloud.com/v2/$account/os-networksv2.xml \
        -H "Content-Type: application/xml" \
        -H "Accept: application/xml" \
        -X GET -H "X-Auth-Token: $token" </programlisting>
                            <emphasis role="bold">Output:</emphasis>
                        </para>
                        <para>For each isolated network, the response returns the <glossterm>CIDR</glossterm>. Additionally,
                            for isolated networks and Rackspace networks, the response returns the network ID and label.
                            <programlisting language="xml"><?db-font-size 75%?>
                                &lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;networks&gt;
    &lt;network&gt;
        &lt;cidr&gt;172.16.0.0/24&lt;/cidr&gt;
        &lt;id&gt;e65accc0-1d98-45eb-af76-ab3d31edc7d2&lt;/id&gt;
        &lt;label&gt;new_network&lt;/label&gt;
    &lt;/network&gt;
    &lt;network&gt;
        &lt;id&gt;00000000-0000-0000-0000-000000000000&lt;/id&gt;
        &lt;label&gt;public&lt;/label&gt;
    &lt;/network&gt;
    &lt;network&gt;
        &lt;id&gt;11111111-1111-1111-1111-111111111111&lt;/id&gt;
        &lt;label&gt;private&lt;/label&gt;
    &lt;/network&gt;
&lt;/networks&gt;
 </programlisting>
                        </para>
                        <para>ServiceNet is labeled as <literal>private</literal> and PublicNet is labeled as
                                <literal>public</literal> in the network list.</para>
                    </step>
                    <step>
                        <para>Copy the ID for the network for which you want to create a virtual interface. </para>
                    </step>
                  </procedure>
                  <sidebar>
                    <para>
                        <emphasis role="bold">Next step: </emphasis>
                        <xref linkend="create_virt_interface"/>
                     </para>
                  </sidebar>
               </section>
            </section>
         </section>
         <section xml:id="create_virt_interface">
            <title>Create a virtual interface</title>
            <para>When you create a virtual interface, you specify the following information:<itemizedlist>
                  <listitem>
                    <para>
                        <emphasis role="bold">Network ID</emphasis>. The ID of the network for which you want to create a
                        virtual interface.</para>
                  </listitem>
                  <listitem>
                    <para>
                        <emphasis role="bold">Server ID</emphasis>. The ID of the server instance to which you want to
                        connect the virtual interface. </para>
                  </listitem>
               </itemizedlist>
            </para>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis> Choose one of the following methods:<itemizedlist>
                    <listitem>
                        <para>
                           <xref linkend="nova_create_virt_interface"/>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                           <xref linkend="curl_create_virt_interfaces_for_server"/>
                        </para>
                    </listitem>
                  </itemizedlist>
               </para>
            </sidebar>
            <section xml:id="nova_create_virt_interface">
               <title>Create a virtual interface with the nova client</title>
               <procedure>
                  <title>To create a virtual interface with the nova client</title>
                  <step>
                    <para>Issue the following nova client command:</para>
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        $ nova virtual-interface-create <replaceable>network_id</replaceable> 
                        <replaceable>instance_id</replaceable>
                     </programlisting>
                    <para>
                        <emphasis role="bold">Positional arguments:</emphasis>
                     </para>
                    <itemizedlist>
                        <listitem>
                            <para>
                              <parameter>network_id</parameter>. The ID of the network for which you want to create a
                                virtual interface. You copied this ID in <xref linkend="list_networks2"/>.</para>
                        </listitem>
                        <listitem>
                            <para>
                              <parameter>instance_id</parameter>. The ID of the server instance to which you want to
                                connect the virtual interface. You copied this ID in <xref linkend="list_servers2"/>.</para>
                        </listitem>
                    </itemizedlist>
                  </step>
               </procedure>
               <sidebar>
                  <para>
                     <emphasis role="bold">Next step: </emphasis>
                     <xref linkend="list_virt_interfaces_for_server"/>
                  </para>
               </sidebar>
            </section>
            <?hard-pagebreak?>
            <section xml:id="curl_create_virt_interfaces_for_server">
               <title>Create a virtual interface with cURL</title>
               <para>You can issue a JSON or XML request in a cURL command.</para>
               <section xml:id="curl_create_virt_interface_json">
                  <title>JSON request and response</title>
                  <procedure>
                    <title>To create a virtual interface and request a JSON response</title>
                    <step>
                        <para>To create a virtual interface, you must specify the server ID in the request URI, and include a
                            request body that specifies the network ID for which you want to create a virtual interface. </para>
                        <para>For example, issue the following cURL command:</para>
                        <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                            $ curl https://dfw.servers.api.rackspacecloud.com/v2/$account/servers/$instance_id/os-virtual-interfacesv2 \
     -X POST \
     -H "Content-Type: application/json" \
     -H "Accept: application/json" \
     -H "X-Auth-Token: $token" \
     -d '{"virtual_interface": {"network_id": "<replaceable>network_id</replaceable>"}}'| python -m json.tool</programlisting>
                        <para>
                           <emphasis role="bold">Arguments:</emphasis>
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                 <parameter>instance_id</parameter>. The ID of the server instance to which you want to
                                    connect the virtual interface. You copied this ID in <xref linkend="list_networks2"/>.</para>
                            </listitem>
                            <listitem>
                                <para>
                                 <parameter>network_id</parameter>. The ID of the network for which you want to create a
                                    virtual interface. You copied this ID in <xref linkend="list_servers2"/>.</para>
                            </listitem>
                        </itemizedlist>
                        <para>
                           <emphasis role="bold">Output:</emphasis>
                        </para>
                        <programlisting language="json"><?db-font-size 65%?>
                            {
   "virtual_interfaces":[
      {
         "mac_address":"FE:ED:FA:00:08:93",
         "id":"045f195f-3347-487b-8e80-8ee3390eda56",
         "ip_addresses":[
            {
               "address":"192.168.0.1",
               "network_id":"196a0246-86cc-46fa-9ecf-850f67c2cb7c",
               "network_label":"added_network"
            }
         ]
      }
   ]
}</programlisting>
                    </step>
                  </procedure>
                  <sidebar>
                    <para>
                        <emphasis role="bold">Next step: </emphasis>
                        <xref linkend="list_virt_interfaces_for_server"/>
                    </para>
                  </sidebar>
               </section>
               <section xml:id="curl_create_virt_interface_xml">
                  <title>XML request and response</title>
                  <procedure>
                    <title>To create a virtual interface and request an XML response</title>
                    <step>
                        <para>To create a virtual interface, you must specify the server ID in the request URI, and include a
                            request body that specifies the network ID for which you want to create a virtual interface. </para>
                        <para>For example, issue the following cURL command:</para>
                        <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                            $ curl -i https://dfw.servers.api.rackspacecloud.com/v2/$account/servers/$instance_id/os-virtual-interfacesv2.xml \
      -X POST \
      -H "Content-Type: application/xml" \
      -H "Accept: application/xml" \
      -H "X-Auth-Token: $token" \
      -d '&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;virtual_interface network_id="<replaceable>network_id</replaceable>"/&gt;'</programlisting>
                        <para>
                           <emphasis role="bold">Arguments:</emphasis>
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                 <parameter>instance_id</parameter>. The ID of the server instance to which you want to
                                    connect the virtual interface. You copied this ID in <xref linkend="list_servers2"/>.</para>
                            </listitem>
                            <listitem>
                                <para>
                                 <parameter>network_id</parameter>. The ID of the network for which you want to create a
                                    virtual interface. You copied this ID in <xref linkend="list_networks2"/>.</para>
                            </listitem>
                        </itemizedlist>
                        <para>
                           <emphasis role="bold">Output:</emphasis>
                        </para>
                        <programlisting language="json"><?db-font-size 65%?>
                            &lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;virtual_interfaces xmlns="http://docs.openstack.org/compute/api/v1.1"&gt;
    &lt;virtual_interface id="24293921-e8fe-4f93-ac52-b8cc08435d00"
        mac_address="FE:ED:FA:00:0D:13"&gt;
        &lt;ip_address address="1.1.1.129"
            network_id="6d17d84a-9513-4c4c-bf5a-c2d5c0794292"
            network_label="added_network"/&gt;
    &lt;/virtual_interface&gt;
&lt;/virtual_interfaces&gt;
</programlisting>
                    </step>
                  </procedure>
                  <sidebar>
                    <para>
                        <emphasis role="bold">Next step: </emphasis>
                        <xref linkend="list_virt_interfaces_for_server"/>
                    </para>
                  </sidebar>
               </section>
            </section>
         </section>
         <section xml:id="list_virt_interfaces_for_server">
            <title>List virtual interfaces for a server</title>
            <para>To validate that you created and connected the virtual interface to your server, you can list the virtual
            interfaces for your server. </para>

            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis> Choose one of the following methods:<itemizedlist>
                    <listitem>
                        <para>
                           <xref linkend="nova_list_virt_interfaces_for_server"/>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                           <xref linkend="curl_list_virt_interfaces_for_server"/>
                        </para>
                    </listitem>
                  </itemizedlist>
               </para>
            </sidebar>
            <section xml:id="nova_list_virt_interfaces_for_server">
               <title>List virtual interfaces for a server with the nova client</title>
               <procedure>
                  <title>To list virtual interfaces for a server with the nova client</title>
                  <step>
                    <para>Issue the following nova client command:
                        <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                            $ nova virtual-interface-list <replaceable>instance_id</replaceable>
                        </programlisting>
                     </para>
                    <para>
                        <emphasis role="bold">Positional argument:</emphasis>
                     </para>
                    <itemizedlist>
                        <listitem>
                            <para>
                              <parameter>instance_id</parameter>. The ID of the server instance for which you want to
                                list virtual interfaces. You copied this ID in <xref linkend="list_servers2"/>.</para>
                        </listitem>
                    </itemizedlist>
                    <para>
                        <emphasis role="bold">Output:</emphasis>
                     </para>
                    <para>For any virtual interfaces that are connected to the specified server, the command returns the
                        network ID, MAC address, and IP addresses, as shown in the following output:</para>
                    <informalexample>
                        <screen><?db-font-size 65%?>+--------------------------------------+-------------------+---------------------------------------------------------------------------------------+
| id                                   | mac_address       | ip_addresses                                                                          |
+--------------------------------------+-------------------+---------------------------------------------------------------------------------------+
| 398f4189-5a60-4a5e-8a68-71e4fa014313 | 00:00:00:00:00:01 | label=private, network_id=39a43ded-7a9b-4a50-8633-e70d48363305, ip_address=172.16.0.2 |
| d5e3c9b6-bd5d-46c9-ba7b-114df3f37fb3 | 00:00:00:00:00:00 | label=mypriv, network_id=1f7920d3-0e63-4fec-a1cb-f7916671e8eb, ip_address=10.1.0.3      |
| d8a1baa8-3b51-4a74-9e33-f885e438a468 | 00:00:00:00:00:02 | label=public, network_id=69ebc6a6-27fc-4f47-aeca-de7c3b4685e7, ip_address=10.0.0.3    |
+--------------------------------------+-------------------+---------------------------------------------------------------------------------------+
                    </screen>
                    </informalexample>

                  </step>
                  <step>
                    <para>If you want to delete this interface later on, copy the ID for the virtual interface. </para>
                  </step>
               </procedure>
               <sidebar>
                  <para>
                     <emphasis role="bold">Next step: </emphasis>
                     <xref linkend="delete_virt_interface"/>
                  </para>
               </sidebar>
            </section>
            <?hard-pagebreak?>
            <section xml:id="curl_list_virt_interfaces_for_server">
               <title>List virtual interfaces for a server with cURL</title>
               <para>You can request a JSON or XML response when you issue a request in a cURL command.</para>
               <section xml:id="curl_list_virt_interfaces_json">
                  <title>JSON request and response</title>
                  <procedure>
                    <title>To list virtual interfaces for a server and request a JSON response</title>
                    <step>
                        <para>Issue the following cURL command:</para>
                        <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                            $ curl https://dfw.servers.api.rackspacecloud.com/v2/$account/servers/$instance_id/os-virtual-interfacesv2  \
       -X GET \
       -H "X-Auth-Token: $token" | python -m json.tool</programlisting>
                        <para>
                           <emphasis role="bold">Argument:</emphasis>
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                 <parameter>instance_id</parameter>. The ID of the server instance for which you want to
                                    list virtual interfaces. You copied this ID in <xref linkend="list_servers2"/>.</para>
                            </listitem>
                        </itemizedlist>
                        <para>
                           <emphasis role="bold">Output:</emphasis>
                        </para>

                        <programlisting language="json"><?db-font-size 65%?>
                            {
    "virtual_interfaces": [
        {
            "id": "a589b11b-cd51-4274-8ec0-832ce799d156", 
            "ip_addresses": [
                {
                    "address": "2001:4800:7810:0512:d87b:9cbc:ff04:850c", 
                    "network_id": "ba122b32-dbcc-4c21-836e-b701996baeb3", 
                    "network_label": "public"
                }, 
                {
                    "address": "64.49.226.149", 
                    "network_id": "ba122b32-dbcc-4c21-836e-b701996baeb3", 
                    "network_label": "public"
                }
            ], 
            "mac_address": "BC:76:4E:04:85:0C"
        }, 
        {
            "id": "de7c6d53-b895-4b4a-963c-517ccb0f0775", 
            "ip_addresses": [
                {
                    "address": "192.168.0.2", 
                    "network_id": "f212726e-6321-4210-9bae-a13f5a33f83f", 
                    "network_label": "superprivate_xml"
                }
            ], 
            "mac_address": "BC:76:4E:04:85:20"
        }, 
        {
            "id": "e14e789d-3b98-44a6-9c2d-c23eb1d1465c", 
            "ip_addresses": [
                {
                    "address": "10.181.1.30", 
                    "network_id": "3b324a1b-31b8-4db5-9fe5-4a2067f60297", 
                    "network_label": "private"
                }
            ], 
            "mac_address": "BC:76:4E:04:81:55"
        }
    ]
}
</programlisting>
                    </step>
                    <step>
                        <para>If you want to delete this interface later on, copy the ID for the virtual interface. </para>
                    </step>
                  </procedure>
                  <sidebar>
                    <para>
                        <emphasis role="bold">Next step: </emphasis>
                        <xref linkend="delete_virt_interface"/>
                    </para>
                  </sidebar>
               </section>
               <section xml:id="curl_list_virt_interfaces_xml">
                  <title>XML request and response</title>

                  <procedure>
                    <title>To list virtual interfaces for a server and request a XML response</title>
                    <step>
                        <para>Issue the following cURL command:</para>
                        <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                            $ curl -i https://dfw.servers.api.rackspacecloud.com/v2/$account/servers/$instance_id/os-virtual-interfacesv2.xml  \
       -H "Content-Type: application/xml" \
       -H "Accept: application/xml" \
       -X GET \
       -H "X-Auth-Token: $token" </programlisting>
                        <para>
                           <emphasis role="bold">Argument:</emphasis>
                        </para>
                        <itemizedlist>
                            <listitem>
                                <para>
                                 <parameter>instance_id</parameter>. The ID of the server instance for which you want to
                                    list virtual interfaces. You copied this ID in <xref linkend="list_servers2"/>.</para>
                            </listitem>
                        </itemizedlist>
                        <para>
                           <emphasis role="bold">Output:</emphasis>
                        </para>
                        <programlisting language="xml"><?db-font-size 65%?>
                            &lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;virtual_interfaces xmlns="http://docs.openstack.org/compute/api/v1.1"&gt;
    &lt;virtual_interface id="a589b11b-cd51-4274-8ec0-832ce799d156" mac_address="BC:76:4E:04:85:0C"&gt;
        &lt;ip_address network_id="ba122b32-dbcc-4c21-836e-b701996baeb3" network_label="public" address="2001:4800:7810:0512:d87b:9cbc:ff04:850c" /&gt;
        &lt;ip_address network_id="ba122b32-dbcc-4c21-836e-b701996baeb3" network_label="public" address="64.49.226.149" /&gt;
    &lt;/virtual_interface&gt;
    &lt;virtual_interface id="de7c6d53-b895-4b4a-963c-517ccb0f0775" mac_address="BC:76:4E:04:85:20"&gt;
        &lt;ip_address network_id="f212726e-6321-4210-9bae-a13f5a33f83f" network_label="superprivate_xml" address="192.168.0.2" /&gt;
    &lt;/virtual_interface&gt;
    &lt;virtual_interface id="e14e789d-3b98-44a6-9c2d-c23eb1d1465c" mac_address="BC:76:4E:04:81:55"&gt;
        &lt;ip_address network_id="3b324a1b-31b8-4db5-9fe5-4a2067f60297" network_label="public" address="10.181.1.30" /&gt;
    &lt;/virtual_interface&gt;
&lt;/virtual_interfaces&gt;</programlisting>
                    </step>
                    <step>
                        <para>If you want to delete this interface later on, copy the ID for the virtual interface. </para>
                    </step>
                  </procedure>
                  <sidebar>
                    <para>
                        <emphasis role="bold">Next step: </emphasis>
                        <xref linkend="delete_virt_interface"/>
                    </para>
                  </sidebar>
               </section>
            </section>

         </section>
         <section xml:id="delete_virt_interface">
            <title>Delete a virtual interface from a server</title>
            <para>If your server no longer needs the virtual interface, you can delete and detach it from the server. </para>
            <para>To delete and detach your virtual interface from a server, you need the ID of your server instance and the ID
            for the virtual interface. </para>

            <para>After you delete the virtual interface, it no longer appears in the list of virtual interfaces for your
            server.</para>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis> Choose one of the following methods:<itemizedlist>
                    <listitem>
                        <para>
                           <xref linkend="nova_delete_vir_interface"/>
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                           <xref linkend="curl_delete_vir_interface"/>
                        </para>
                    </listitem>
                  </itemizedlist>
               </para>
            </sidebar>

            <section xml:id="nova_delete_vir_interface">
               <title>Delete a virtual interface with the nova client</title>
               <procedure>
                  <title>To delete a virtual interface with the nova client:</title>
                  <step>
                    <para>Issue the following command:</para>
                    <programlisting language="bash" role="gutter: false">
                        $ nova virtual-interface-delete <replaceable>instance_id</replaceable> 
                        <replaceable>interface_id</replaceable>
                     </programlisting>
                    <para>
                        <emphasis role="bold">Positional arguments:</emphasis>
                     </para>
                    <itemizedlist>
                        <listitem>
                            <para>
                              <parameter>instance_id</parameter>. The ID of the server instance from which you want to
                                detach the virtual interface. You copied this ID in <xref linkend="list_servers2"/>.</para>
                        </listitem>
                        <listitem>
                            <para>
                              <parameter>interface_id</parameter>. The ID of the virtual interface that you want to
                                delete. You copied this ID in <xref linkend="list_virt_interfaces_for_server"/>.</para>
                        </listitem>
                    </itemizedlist>
                  </step>
                  <step>
                    <para>Issue the following nova client command to determine if your virtual interface was deleted:
                        <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                            $ nova virtual-interface-list <replaceable>instance_id</replaceable>
                        </programlisting>
                     </para>
                    <para>
                        <emphasis role="bold">Positional argument:</emphasis>
                     </para>
                    <itemizedlist>
                        <listitem>
                            <para>
                              <parameter>instance_id</parameter>. The ID of the server instance for which you want to
                                list virtual interfaces. </para>
                        </listitem>
                    </itemizedlist>
                    <para>After the virtual interface is deleted, it no longer appears in the list of virtual interfaces. See
                            <xref linkend="list_virt_interfaces_for_server"/>.</para>
                  </step>
               </procedure>
               <sidebar>
                  <para>
                     <emphasis role="bold">Next step: </emphasis>
                     <xref linkend="delete_net"/>
                  </para>
               </sidebar>
            </section>
            <?hard-pagebreak?>
            <section xml:id="curl_delete_vir_interface">
               <title>Delete a virtual interface with cURL</title>
               <procedure>
                  <title>To delete a virtual interface with cURL:</title>
                  <step>
                    <para>Issue the following command. In the command, specify the ID for the server that you want to
                        delete.</para>
                    <programlisting language="bash" role="gutter: false"><?db-font-size 60%?>
                        $ curl -i https://dfw.servers.api.rackspacecloud.com/v2/$account/servers/$instance_id/os-virtual-interfacesv2/$interface_id \
     -X DELETE \
     -H "X-Auth-Token: $token"</programlisting>
                    <para>
                        <emphasis role="bold">Arguments:</emphasis>
                     </para>
                    <itemizedlist>
                        <listitem>
                            <para>
                              <parameter>instance_id</parameter>. The ID of the server instance from which you want to
                                detach the virtual interface. You copied this ID in <xref linkend="list_servers2"/>.</para>
                        </listitem>
                        <listitem>
                            <para>
                              <parameter>interface_id</parameter>. The ID of the virtual interface that you want to
                                delete. You copied this ID in <xref linkend="list_virt_interfaces_for_server"/>.</para>
                        </listitem>
                    </itemizedlist>
                    <note>
                        <para>Because the delete server method does not return a JSON object, you omit the following code
                            from the command:</para>
                        <programlisting language="bash" role="gutter: false">| python -m json.tool</programlisting>
                        <para>If you include it, the command runs successfully, but you get the following message:</para>
                        <programlisting language="bash" role="gutter: false">No JSON object could be decoded.</programlisting>
                    </note>
                    <para>To see the status code that is returned from the request, you use the <option>-i</option> option on
                        the cURL command. This option shows the HTTP header in the output. </para>
                    <para>If the delete operation was successful, the HTTP header shows the <returnvalue>204</returnvalue>
                        status code, as shown in the following output:</para>
                    <programlisting language="bash" role="gutter: false"><?db-font-size 65%?>HTTP/1.1 204 No Content
Date: Thu, 16 Aug 2012 17:19:53 GMT
Content-Length: 0
Content-Type: application/json
X-Compute-Request-Id: req-3bdafeb2-d4b1-41c3-ab19-d310f3f270d3
Server: Jetty(8.0.y.z-SNAPSHOT)</programlisting>
                  </step>
                  <step>
                    <para>Issue the following cURL command to determine if your virtual interface was deleted:</para>
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        $ curl https://dfw.servers.api.rackspacecloud.com/v2/$account/servers/$instance_id/os-virtual-interfacesv2  \
       -X GET \
       -H "X-Auth-Token: $token" | python -m json.tool</programlisting>
                    <para>
                        <emphasis role="bold">Argument:</emphasis>
                     </para>
                    <itemizedlist>
                        <listitem>
                            <para>
                              <parameter>instance_id</parameter>. The ID of the server instance for which you want to
                                list virtual interfaces. You copied this ID in <xref linkend="list_servers2"/>.</para>
                        </listitem>
                    </itemizedlist>
                    <para>After the virtual interface is deleted, it no longer appears in the list of virtual interfaces.
                    </para>
                  </step>
               </procedure>
               <sidebar>
                  <para>
                     <emphasis role="bold">Next step: </emphasis>
                     <xref linkend="delete_net"/>
                  </para>
               </sidebar>
            </section>
         </section>
      </section>
      <!-- Cat:  keep in mind.  there is a cross link to targetdoc="cn-gettingstarted"
                    targetptr="ch_gs_attach_network_to_server" in bns_nova_nova (and maybe others).  if you change xml_id, fix links-->
   </chapter>
    <chapter version="5.0"
            xml:id="delete_net"
            xml:base="chapters/net_delete_network.xml">
        <title>Delete your cloud network</title>
        <para>When you no longer need your cloud network, delete it. Choose whether to use the neutron API or the
                nova-network API. For help deciding, see <xref linkend="section_nova_v_neutron"/>. The sections in
                this chapter provide examples of deleting a network using each API.</para>
        <para>The following flow chart shows the steps for deleting a network by using the neutron API and by using the
                nova-network API. These steps are detailed in this guide.<figure>
                        <title>Steps to create a network</title>
                        <mediaobject>
                                <imageobject>
                                        <imagedata contentwidth="3in" fileref="figures/4/a/figures/dn-both-api.png"/>
                                </imageobject>
                        </mediaobject>
                </figure>
        </para>
        <para>The sections are also organized by example type. To simplify your path through this chapter, decide whether you
                prefer neutron-client or nova-client examples, or cURL examples.</para>
        <sidebar>
                <para>
            <emphasis role="bold">Next step:</emphasis> Choose one of the following methods:<itemizedlist>
                        <listitem>
                                <para>
                     <xref linkend="dn_neutron_neutron"/>
                  </para>
                        </listitem>
                        <!--<listitem>
                                <para><olink targetdoc="cn-gettingstarted" targetptr="dn_neutron_curl">“Use neutron
                                        API and cURL”</olink></para>
                        </listitem>-->
                        <!--<listitem>
                                <para><olink targetdoc="cn-gettingstarted" targetptr="dn_nova_nova">“Use
                                        nova-network API and nova client”</olink></para>
                        </listitem>-->
                        <!--<listitem>
                                <para><olink targetdoc="cn-gettingstarted" targetptr="dn_nova_curl">“Use
                                        nova-network API and cURL”</olink></para>
                        </listitem>-->
                </itemizedlist>
         </para>
        </sidebar>
        <!--<xi:include href="net_dn_neutron.xml"/>-->
        <section xmlns:raxm="http://docs.rackspace.com/api/metadata"
               version="5.0"
               xml:id="delete_network"
               xml:base="chapters/net_dn_nova.xml">
         <title>Nova-network: Delete your network</title>
         <para>If you no longer need your network, you can delete it. </para>
         <para>You cannot delete an isolated network unless the network is not attached to any server.</para>
         <para>To detach a network from a server, you must delete the virtual interface for the network from the server. Then, you
        can delete the network.</para>

         <para>After the network is deleted, it no longer appears in the list of networks.</para>
         <sidebar>
            <para>
               <emphasis role="bold">Next step:</emphasis> Choose one of the following methods:<itemizedlist>
                  <listitem>
                    <para>
                        <xref linkend="nova_delete_network"/>
                     </para>
                  </listitem>
                  <listitem>
                    <para>
                        <xref linkend="curl_delete_network"/>
                     </para>
                  </listitem>
               </itemizedlist>
            </para>
         </sidebar>
         <section xml:id="nova_delete_network">
            <title>Delete network with the nova client</title>
            <procedure>
               <title>To delete a specified network</title>
               <step>
                  <title>Delete the virtual interface for the network from the server</title>
                  <para>To detach a network from a server, first delete the virtual interface for the network from the server.
                </para>
               </step>
               <step>
                  <title>Delete the network</title>
                  <para>Issue the following nova client command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        $ nova network-delete &lt;id&gt;</programlisting>
                  </para>
                  <para>
                     <emphasis role="bold">Positional argument:</emphasis>
                  </para>
                  <para>
                    <itemizedlist>
                        <listitem>
                            <para>
                              <parameter>id</parameter>. The network ID of the network that you want to delete. To
                                determine the network ID, issue a <command>nova</command>
                                <option>network-list</option> command.</para>
                        </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                     <emphasis role="bold">Output:</emphasis> None.</para>
               </step>
            </procedure>
         </section>
         <?hard-pagebreak?>
         <section xml:id="curl_delete_network">
            <title>Delete network with cURL</title>
            <procedure>
               <title>To delete a specified network</title>
               <step>
                  <title>Delete the virtual interface for the network from the server</title>
                  <para>To detach a network from a server, first delete the virtual interface for the network from the server.
                </para>
               </step>
               <step>
                  <title>Delete the network</title>
                  <para>Issue the following cURL command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 65%?>
                        $ curl -i https://dfw.servers.api.rackspacecloud.com/v2/$account/os-networksv2/&lt;id&gt; \
       -X 'DELETE' \
       -H "X-Auth-Token: $token" \
       -H "X-Auth-Project-Id: $account" \
       -H "Accept: application/json" </programlisting>
                  </para>
                  <note>
                    <para>Include the <option>-i</option> option in the cURL command to show the response header. Omit the
                            <code>| python -m json.tool</code> clause from the command because the API operation does not
                        return a JSON response.</para>
                  </note>
                  <para>
                     <emphasis role="bold">Argument:</emphasis>
                  </para>
                  <para>
                    <itemizedlist>
                        <listitem>
                            <para>
                              <parameter>id</parameter>. The network ID of the network that you want to delete. To
                                determine the network ID, issue a <command>nova</command>
                                <option>network-list</option> command.</para>
                        </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                     <emphasis role="bold">Output:</emphasis>
                  </para>
                  <para>Successful deletion returns an <errortext>Accepted</errortext> (<returnvalue>202</returnvalue>)
                    response code:</para>
                  <screen>HTTP/1.1 202 Accepted
Date: Thu, 04 Oct 2012 16:23:30 GMT
Content-Length: 58
Content-Type: text/html;charset=UTF-8
Server: Jetty(8.0.y.z-SNAPSHOT)

202 Accepted

The request is accepted for processing.</screen>
               </step>
            </procedure>
         </section>

      </section>
        <section xmlns:raxm="http://docs.rackspace.com/api/metadata"
               xml:id="dn_neutron_neutron"
               version="5.0"
               xml:base="chapters/net_dn_neutron_neutron.xml">
         <title>Neutron: Delete your network or subnet</title>
         <para>These sections walk you through deleting your subnet and network.</para>
         <sidebar>
            <para>
               <emphasis role="bold">Start here: </emphasis>
               <xref linkend="neutron_delete_subnet_neutron"/>
            </para>
         </sidebar>
         <section xml:id="neutron_delete_subnet_neutron">
            <title>Delete a subnet (neutron API/neutron)</title>
            <para>To delete a subnet, specify the subnet ID.</para>
            <procedure>
               <title>To delete a specified subnet</title>
               <step>
                  <title>Delete the subnet</title>
                  <para>Issue the following neutron client command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        $ neutron subnet-delete &lt;id&gt;</programlisting>
                  </para>
                  <para>
                     <emphasis role="bold">Positional argument:</emphasis>
                  </para>
                  <para>
                    <itemizedlist>
                        <listitem>
                            <para>The subnet ID of the subnet that you want to delete. To determine the subnet ID, issue a
                                <command>neutron</command>
                                <option>subnet-list</option> command.</para>
                        </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                     <emphasis role="bold">Output:</emphasis> None.</para>
               </step>
            </procedure>
            <sidebar>
               <para>
                  <emphasis role="bold">Next step: </emphasis>
                  <xref linkend="neutron_delete_network_neutron"/>
               </para>
            </sidebar>
         </section>
         <section xml:id="neutron_delete_network_neutron">
            <title>Delete a network (neutron API/neutron)</title>
            <para>To delete a network, specify the network ID.</para>
            <procedure>
               <title>To delete a specified network</title>
               <step>
                  <title>Delete the network</title>
                  <para>Issue the following neutron client command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        $ neutron net-delete &lt;id&gt;</programlisting>
                  </para>
                  <para>
                     <emphasis role="bold">Positional argument:</emphasis>
                  </para>
                  <para>
                    <itemizedlist>
                        <listitem>
                            <para>The network ID of the network that you want to delete. To determine the network ID, issue a
                                <command>neutron</command>
                                <option>net-list</option> command.</para>
                        </listitem>
                    </itemizedlist>
                  </para>
                  <para>
                     <emphasis role="bold">Output:</emphasis> None.</para>
               </step>
            </procedure>
         </section>
      </section> 
        <!--<xi:include href="net_dn_neutron_curl.xml"/>-->
        <!--<xi:include href="net_dn_nova_nova.xml"/>-->
        <!--<xi:include href="net_dn_nova_curl.xml"/>-->
   </chapter>
    <glossary role="auto"/>
</book>
