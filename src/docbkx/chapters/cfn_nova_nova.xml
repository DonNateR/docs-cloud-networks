<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section [
<!ENTITY % common  SYSTEM "../../common/common.ent">
%common;
]>
<section xml:id="cfn_nova_nova" xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:raxm="http://docs.rackspace.com/api/metadata" version="5.0">
    <title>Create network with nova-network API and nova client</title>
    <para>These sections walk you through creating your network and subnet and then listing them and showing network details
        by using the nova-network client. </para>
    <sidebar>
        <para><emphasis role="bold">Start here: </emphasis><olink targetdoc="cn-gettingstarted"
                targetptr="nova_create_network_nova">“Create a network (nova-network API/nova)”</olink></para>
    </sidebar>
    
    <section xml:id="nova_create_network_nova">
        <title>Create a network (nova-network API/nova)</title>
        <para>To create a network, you specify a name for your network. After you create a network, copy its network ID. You
            use this ID to create a subnet or attach the network to a server or port.</para>
        <para>To create an isolated network, you specify a name for your network and a Classless Inter-Domain Routing
                (<glossterm>CIDR</glossterm>), which is a range of IP addresses used by a network. A CIDR address looks like
            a normal IP address except that it ends with a slash followed by a number. The number after the slash represents
            the number of addresses in the range. For more information, see
            <link xlink:href="http://www.rackspace.com/knowledge_center/article/using-cidr-notation"><citetitle>CIDR
                Notation</citetitle></link>.</para>
        <para>For a full list of limitations for creating networks, see the Limitations section in
            <link xlink:href="http://docs.rackspace.com/servers/api/v2/cn-releasenotes/content/nova-boot.html">
            <citetitle>Cloud Networks Release Notes</citetitle></link>.</para>
        <para>The following step shows you how to create an isolated network by using the nova client.</para>
        <procedure>
            <title>To create an isolated network</title>
            <step>
                <para>Issue the following command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                            <prompt>$</prompt> nova network-create amp 120.1.2.0/24</programlisting></para>
                <para><emphasis role="bold">Positional arguments:</emphasis></para>
                <para>
                    <itemizedlist>
                        <listitem>
                            <para><parameter>network_name</parameter>. In this example, the network name is
                                    <literal>amp</literal>.</para>
                        </listitem>
                        <listitem>
                            <para><parameter>cidr</parameter>. The IP block from which to allocate addresses. In this
                                example, the CIDR is <literal>120.1.2.0/24</literal>.</para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para><emphasis role="bold">Output:</emphasis></para>
                <para>The command returns the CIDR, ID, and name for the new network, as shown in the following
                    output:</para>
                <informalexample>
                    <screen><computeroutput><?db-font-size 75%?>
+----------+--------------------------------------+
| Property | Value                                |
+----------+--------------------------------------+
| cidr     | 120.1.2.0/24                         |
| id       | 29f52c7e-6efd-4335-a14a-db77d32a2555 |
| label    | amp                                  |
+----------+--------------------------------------+</computeroutput></screen>
                </informalexample>

            </step>
            <step>
                <para>Copy the id value from the output. In this example, the id value is
                        <literal>29f52c7e-6efd-4335-a14a-db77d32a2555</literal>, but use the value returned for your
                    network.</para>
                <para>You will use this value when you provision your server.</para>
            </step>
        </procedure>
        <sidebar>
            <para><emphasis role="bold">Next step: </emphasis><olink targetdoc="cn-gettingstarted"
                    targetptr="nova_list_networks_nova">“List networks with the nova-network API and the nova
                client”</olink></para>
        </sidebar>
    </section>
    
    <section xml:id="nova_list_networks_nova">
        <title>List networks (nova-network API/nova)</title>
        <para>After you create an isolated network, list networks to make sure it is listed along with the Rackspace
            networks.</para>
        <para>For information about the Rackspace networks, see <olink targetdoc="cn-gettingstarted" targetptr="networks"
                >“Limitations of detaching from Rackspace networks”</olink>.</para>
        <para>The following steps shows you how to list networks by using the nova client.</para>
        <procedure>
            <title>To list networks</title>
            <step>
                <para>Issue the following nova client command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        <prompt>$</prompt> nova network-list </programlisting></para>
                <para><emphasis role="bold">Output:</emphasis></para>
                <para>For each network, the command returns the network ID, label, and <glossterm>CIDR</glossterm>, as shown
                    in the following output:</para>
                <informalexample>
                    <screen><computeroutput><?db-font-size 75%?>
+--------------------------------------+-------------+----------------+
| ID                                   | Label       | CIDR           |
+--------------------------------------+-------------+----------------+
| 00000000-0000-0000-0000-000000000000 | public      |                |
| 11111111-1111-1111-1111-111111111111 | private     |                |
| 29f52c7e-6efd-4335-a14a-db77d32a2555 | amp         | 120.1.2.0/24   |
+--------------------------------------+-------------+----------------+</computeroutput></screen>
                </informalexample>

                <para>In the network list, ServiceNet is labeled as <literal>private</literal>, and PublicNet is labeled as
                        <literal>public</literal>.</para>
            </step>
        </procedure>
        <sidebar>
            <para><emphasis role="bold">Next step: </emphasis><olink targetdoc="cn-gettingstarted"
                    targetptr="nova_show_networks_nova">Show network details with the nova-network API and the nova
                    client</olink></para>
        </sidebar>
    </section>
    
    <section xml:id="nova_show_networks_nova">
        <title>Show network details (nova-network API/nova)</title>
        <para>The following step shows you how to show network details using the nova client.</para>
        <procedure>
            <title>To show information for a specified network ID</title>
            <step>
                <para>Issue the following nova client command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        <prompt>$</prompt> nova network 29f52c7e-6efd-4335-a14a-db77d32a2555</programlisting></para>
                <para><emphasis role="bold">Positional argument:</emphasis></para>
                <para>
                    <itemizedlist>
                        <listitem>
                            <para>The ID of the network for which you want to show information. In this case, the ID is
                                    <literal>29f52c7e-6efd-4335-a14a-db77d32a2555</literal>, but use your own network ID.
                            </para>
                        </listitem>
                    </itemizedlist>
                </para>
                <para><emphasis role="bold">Output:</emphasis>
                </para>
                <para>The command returns the <glossterm>CIDR</glossterm>, network ID, and label, as shown in the following
                    output:</para>
                <informalexample>
                    <screen><computeroutput>
+----------+--------------------------------------+
| Property | Value                                |
+----------+--------------------------------------+
| cidr     | 120.1.2.0/24                         |
| id       | 29f52c7e-6efd-4335-a14a-db77d32a2555 |
| label    | amp                                  |
+----------+--------------------------------------+</computeroutput></screen>
                </informalexample>
            </step>
        </procedure>
        <sidebar>
            <para><emphasis role="bold">Next step: </emphasis><olink targetdoc="cn-gettingstarted"
                    targetptr="boot_new_server">Boot a new server with your cloud network</olink></para>
        </sidebar>
    </section>
</section>
