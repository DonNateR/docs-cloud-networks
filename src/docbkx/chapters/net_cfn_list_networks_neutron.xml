<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section [
<!-- Some useful entities borrowed from HTML -->
<!ENTITY ndash  "&#x2013;">
<!ENTITY mdash  "&#x2014;">
<!ENTITY hellip "&#x2026;">
        
<!-- Useful for describing APIs -->
<!ENTITY GET    '<command xmlns="http://docbook.org/ns/docbook">GET</command>'>
<!ENTITY PUT    '<command xmlns="http://docbook.org/ns/docbook">PUT</command>'>
<!ENTITY POST   '<command xmlns="http://docbook.org/ns/docbook">POST</command>'>
<!ENTITY DELETE '<command xmlns="http://docbook.org/ns/docbook">DELETE</command>'>
        
        
<!ENTITY fgCS 'first generation Cloud Servers'>
<!ENTITY ngCS 'next generation Cloud Servers'>
<!ENTITY cnresource1 'rax-networks'>
<!ENTITY virt_ext 'Cloud Networks virtual interface extension'>
<!ENTITY cnresource2 'os-networksv2'>
]>
<section xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:raxm="http://docs.rackspace.com/api/metadata" version="5.0"
    xml:id="list_networks_neutron">
    <title>Step 2. List Networks and Subnets</title>
    <para>After you create networks or subnets, you may want to view your networks, subnets, and the Rackspace
        networks.</para>
    <para>For information about the Rackspace networks, see <olink targetdoc="cn-gettingstarted" targetptr="networks"
            >“Limitations of Detaching from Rackspace Networks”</olink>. </para>
    <sidebar>
        <para><emphasis role="bold">Next step: </emphasis>Choose one of the following methods:<itemizedlist>
                <listitem>
                    <para><olink targetdoc="cn-gettingstarted" targetptr="neutron_list_networks_neutron">“List Networks and Subnets with
                            the neutron Client”</olink></para>
                </listitem>
                <listitem>
                    <para><olink targetdoc="cn-gettingstarted" targetptr="curl_list_networks_neutron">“List Networks and Subnets with
                            cURL”</olink></para>
                </listitem>
            </itemizedlist></para>
    </sidebar>
    <section xml:id="neutron_list_networks_neutron">
        <title>List Networks and Subnets with the neutron Client</title>
        <procedure>
            <title>To list networks with the neutron client</title>
            <step>
                <para>Issue the following neutron client command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
<prompt>$</prompt> neutron net-list </programlisting></para>
                <para><emphasis role="bold">Output:</emphasis></para>
                <para>For each network, the command returns the result as shown in the following output</para>
                <informalexample>
                    <screen><computeroutput><?db-font-size 75%?>
+--------------------------------------+---------+-----------------------------------------------------+
| id                                   | name    | subnets                                             |
+--------------------------------------+---------+-----------------------------------------------------+
| 29f52c7e-6efd-4335-a14a-db77d32a2555 | amp     | 23e3059e-4f39-4f7f-8cf2-c326e5de6c37 120.1.2.0/24   |
+--------------------------------------+---------+-----------------------------------------------------+</computeroutput></screen>
                </informalexample>
            </step>
        </procedure>
        <procedure>
            <title>To list subnets with the neutron client</title>
            <step>
                <para>Issue the following neutron client command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
<prompt>$</prompt> neutron subnet-list </programlisting></para>
                <para><emphasis role="bold">Output:</emphasis></para>
                <para>For each nsubnet, the command returns the result as shown in the following output</para>
                <informalexample>
                    <screen><computeroutput><?db-font-size 75%?>
+--------------------------------------+----------------+----------------+--------------------------------------------------+
| id                                   | name           | cidr           | allocation_pools                                 |
+--------------------------------------+----------------+----------------+--------------------------------------------------+
| 23e3059e-4f39-4f7f-8cf2-c326e5de6c37 | Subamp         | 120.1.2.0/24   | {"start": "120.1.2.2", "end": "120.1.2.254"}     |
+--------------------------------------+----------------+----------------+--------------------------------------------------+</computeroutput></screen>
                </informalexample>
            </step>
        </procedure>
        <sidebar>
            <para><emphasis role="bold">Next step: </emphasis><olink targetdoc="cn-gettingstarted"
                targetptr="show_network_neutron">“Step 3. Show Network and Subnet Information”</olink></para>
        </sidebar>
    </section>
    <?hard-pagebreak?>
    <section xml:id="curl_list_networks_neutron">
        <?dbhtml stop-chunking?>
        <title>List Networks and Subnets with cURL</title>
        <para>You can request a JSON or XML response when you issue a request in a cURL command.</para>
        <section xml:id="list_networks_json_neutron">
            <title>JSON Request and Response</title>
            <procedure>
                <title>To list networks and request a JSON response</title>
                <step>
                    <para>Issue the following cURL command: <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        <prompt>$</prompt> curl https://dfw.servers.api.rackspacecloud.com/v2.0/$account/subnets \
       -X GET -H "X-Auth-Token: $token" | python -m json.tool</programlisting>
                        <emphasis role="bold">Output:</emphasis>
                    </para>
                    <para>The API operation returns a response body as shown in the following output:
                        <!--<programlisting language="json"><?db-font-size 75%?>
                            <xi:include href="../../common/samples/networks-get-resp.json" parse="text"/></programlisting>-->
                    </para>
                </step>
            </procedure>
            <procedure>
                <title>To list subnets and request a JSON response</title>
                <step>
                    <para>Issue the following cURL command: <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        <prompt>$</prompt> curl https://dfw.servers.api.rackspacecloud.com/v2.0/$account/subnets \
       -X GET -H "X-Auth-Token: $token" | python -m json.tool</programlisting>
                        <emphasis role="bold">Output:</emphasis>
                    </para>
                    <para>The API operation returns a response body as shown in the following output:
                        <!--<programlisting language="json"><?db-font-size 75%?>
                            <xi:include href="../../common/samples/networks-get-resp.json" parse="text"/></programlisting>-->
                    </para>
                </step>
            </procedure>
            <sidebar>
                <para><emphasis role="bold">Next step: </emphasis><olink targetdoc="cn-gettingstarted"
                    targetptr="show_network_neutron">“Step 3. Show Network and Subnet Information”</olink></para>
            </sidebar>
        </section>
        <section xml:id="list_networks_xml_neutron">
            <title>XML Request and Response</title>
            <procedure>
                <title>To list networks and request an XML response</title>
                <step>
                    <para>Issue the following cURL command:<programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        <prompt>$</prompt>curl -i https://dfw.servers.api.rackspacecloud.com/v2.0/$account/networks.xml \
        -H "Content-Type: application/xml" \
        -H "Accept: application/xml" \
        -X GET -H "X-Auth-Token: $token" </programlisting>
                        <emphasis role="bold">Output:</emphasis>
                    </para>
                    <para>The API operation returns a response body as shown in the following output:
                        <programlisting language="xml"><?db-font-size 75%?>
                            <xi:include href="../../common/samples/networks-get-resp.xml" parse="text"/></programlisting></para>
                    <para>ServiceNet is labeled as <literal>private</literal> and PublicNet is labeled as
                            <literal>public</literal> in the network list.</para>
                </step>
            </procedure>
            <sidebar>
                <para><emphasis role="bold">Next step: </emphasis><olink targetdoc="cn-gettingstarted"
                    targetptr="show_network_neutron">“Step 3. Show Network and Subnet Information”</olink></para>
            </sidebar>
        </section>
    </section>
</section>
