<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section [
<!-- Some useful entities borrowed from HTML -->
<!ENTITY ndash  "&#x2013;">
<!ENTITY mdash  "&#x2014;">
<!ENTITY hellip "&#x2026;">
        
<!-- Useful for describing APIs -->
<!ENTITY GET    '<command xmlns="http://docbook.org/ns/docbook">GET</command>'>
<!ENTITY PUT    '<command xmlns="http://docbook.org/ns/docbook">PUT</command>'>
<!ENTITY POST   '<command xmlns="http://docbook.org/ns/docbook">POST</command>'>
<!ENTITY DELETE '<command xmlns="http://docbook.org/ns/docbook">DELETE</command>'>
        
        
<!ENTITY fgCS 'first generation Cloud Servers'>
<!ENTITY ngCS 'next generation Cloud Servers'>
<!ENTITY cnresource1 'rax-networks'>
<!ENTITY virt_ext 'Cloud Networks virtual interface extension'>
<!ENTITY cnresource2 'os-networksv2'>
]>
<section xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:raxm="http://docs.rackspace.com/api/metadata" version="5.0"
    xml:id="list_networks">
    <title>Step 2. List networks</title>
    <para>After you create an isolated network, list networks to view your network and the Rackspace networks.</para>
    <para>For information about the Rackspace networks, see <olink targetdoc="cn-gettingstarted" targetptr="networks"
            >“Limitations of detaching from Rackspace networks”</olink>. </para>
    <sidebar>
        <para><emphasis role="bold">Next step:</emphasis> Choose one of the following methods:<itemizedlist>
                <listitem>
                    <para><olink targetdoc="cn-gettingstarted" targetptr="nova_list_networks">“List networks with the nova
                            client”</olink></para>
                </listitem>
                <listitem>
                    <para><olink targetdoc="cn-gettingstarted" targetptr="curl_list_networks">“List networks with
                            cURL”</olink></para>
                </listitem>
            </itemizedlist></para>
    </sidebar>
    <section xml:id="nova_list_networks">
        <title>List networks with the nova client</title>
        <para>The following step shows you how to list networks using the nova client.</para>
        <procedure>
            <title>To list networks with the nova client</title>
            <step>
                <para>Issue the following nova client command:
                    <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        <prompt>$</prompt> nova network-list </programlisting></para>
                <para><emphasis role="bold">Output:</emphasis></para>
                <para>For each network, the command returns the network ID, label, and <glossterm>CIDR</glossterm>, as shown
                    in the following output:</para>
                <informalexample>
                    <screen><computeroutput><?db-font-size 75%?>+--------------------------------------+-------------+----------------+
| ID                                   | Label       | CIDR           |
+--------------------------------------+-------------+----------------+
| 00000000-0000-0000-0000-000000000000 | public      |                |
| 11111111-1111-1111-1111-111111111111 | private     |                |
| 1f84c238-b05a-4374-a0cb-aa6140032cd1 | new_network | 192.168.0.0/24 |
+--------------------------------------+-------------+----------------+</computeroutput></screen>
                </informalexample>

                <para>In the network list, ServiceNet is labeled as <literal>private</literal>, and PublicNet is labeled as
                        <literal>public</literal>.</para>
            </step>
        </procedure>
        <sidebar>
            <para><emphasis role="bold">Next step: </emphasis><olink targetdoc="cn-gettingstarted" targetptr="show_network"
                >“Step 5. Show network details”</olink>
            </para>
        </sidebar>
    </section>
    <?hard-pagebreak?>
    <section xml:id="curl_list_networks">
        <?dbhtml stop-chunking?>
        <title>List networks with cURL</title>
        <para>You can request a JSON or XML response when you issue a request in a cURL command.</para>
        <section xml:id="json_show_network_curl">
            <title>JSON request and response</title>
            <procedure>
                <title>To list networks and request a JSON response</title>
                <step>
                    <para>Issue the following cURL command: <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        <prompt>$</prompt> curl https://dfw.servers.api.rackspacecloud.com/v2/$account/&cnresource2; \
       -X GET -H "X-Auth-Token: $token" | python -m json.tool</programlisting>
                        <emphasis role="bold">Output:</emphasis>
                    </para>
                    <para>For each isolated network, the response returns the <glossterm>CIDR</glossterm>. Additionally, for
                        isolated networks and Rackspace networks, the response returns the network ID and label.
                        <programlisting language="json"><?db-font-size 75%?>
                            <xi:include href="../../common/samples/networks.json" parse="text"/></programlisting></para>
                </step>
            </procedure>
            <sidebar>
                <para><emphasis role="bold">Next step: </emphasis><olink targetdoc="cn-gettingstarted" targetptr="show_network"
                    >“Step 5. Show network details”</olink>
                </para>
            </sidebar>
        </section>
        <section xml:id="xml_show_network_curl">
            <title>XML request and response</title>
            <procedure>
                <title>To list networks and request a XML response</title>
                <step>
                    <para>Issue the following cURL command: <programlisting language="bash" role="gutter: false"><?db-font-size 75%?>
                        <prompt>$</prompt> curl https://dfw.servers.api.rackspacecloud.com/v2/$account/&cnresource2;.xml \
       -H "Content-Type: application/xml" \ 
       -H "Accept: application/xml" \
       -X GET -H "X-Auth-Token: $token"</programlisting>
                        <emphasis role="bold">Output:</emphasis>
                    </para>
                    <para>For each isolated network, the response returns the <glossterm>CIDR</glossterm>. Additionally, for
                        isolated networks and Rackspace networks, the response returns the network ID and label.
                        <programlisting language="json"><?db-font-size 75%?>
                            <xi:include href="../../common/samples/networks.xml" parse="text"/></programlisting></para>
                </step>
            </procedure>
            <sidebar>
                <para><emphasis role="bold">Next step: </emphasis><olink targetdoc="cn-gettingstarted" targetptr="show_network"
                    >“Step 5. Show network details”</olink>
                </para>
            </sidebar>
        </section>
    </section>
</section>
